{
  "HypertyConnector": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLHUsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUyx2PWUmYy5QLCQ9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGEgaW4gcil1PSFsJiZiJiZhIGluIGIsdSYmYSBpbiBofHwoZj11P2JbYV06clthXSxoW2FdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW2FdP3JbYV06JCYmdT9pKGYsbik6eSYmYlthXT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6Zix2JiYoKGhbc118fChoW3NdPXt9KSlbYV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgZixsLGQscD1hKGUpLHY9bihyLHUsdD8yOjEpLCQ9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+JDskKyspdD92KHMobD1lWyRdKVswXSxsWzFdKTp2KGVbJF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLHYsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksYT1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSx2PSJAQGl0ZXJhdG9yIiwkPSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe3Uocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBVKXJldHVybiBVW2VdO3N3aXRjaChlKXtjYXNlICQ6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsVT1lLnByb3RvdHlwZSxQPVVbZF18fFVbdl18fG0mJlVbbV0sUz1QfHxfKG0pO2lmKFApe3ZhciBFPWwoUy5jYWxsKG5ldyBlKSk7ZihFLGssITApLCFuJiZjKFUsdikmJnMoRSxkLGgpLE8mJlAubmFtZSE9PXkmJihNPSEwLFM9ZnVuY3Rpb24oKXtyZXR1cm4gUC5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmVVtkXXx8cyhVLGQsUyksYVt0XT1TLGFba109aCxtKWlmKGo9e3ZhbHVlczpPP1M6Xyh5KSxrZXlzOmc/UzpfKCQpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6U30seClmb3IodyBpbiBqKXcgaW4gVXx8aShVLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsYT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGEpe3ZhciBwPTEsdj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGEoZCkub2JzZXJ2ZSh2LHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe3YuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksYT1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx2PWYuTWVzc2FnZUNoYW5uZWwsJD0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrKyRdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKCQpLCR9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OnY/KG89bmV3IHYsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLHY9ZSgiLi8kLmZvci1vZiIpLCQ9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PWEoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gJChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLCQodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxVPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUz1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LEU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2EoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVUocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaCh1KXthKHUpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO0wobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxMPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFMKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLEUodCwhMCkpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVUoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKFQsbiwxKSxjKFIsbiwxKSl9Y2F0Y2gobyl7Ui5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLEUociwhMSkpfWNhdGNoKG4pe1IuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhULHQsMSksYyhSLHQsMSkpfWNhdGNoKHIpe1IuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFAoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJkUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sdSh1LlMrdS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBQKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UyhmdW5jdGlvbigpe3YoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3YoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJVUkwifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplLHNlYXJjaDoiZGF0YU9iamVjdFBlclJlcG9ydGVyIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMCxjPSgwLGYuY29udmVydFRvVXNlclVSTCkoZSk7cz1uP246by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcysiLyIsYm9keTp7cmVzb3VyY2U6e3VzZXI6YyxyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSxzZWFyY2g6Imh5cGVydHlSZXNvdXJjZXNEYXRhU2NoZW1lcyJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgYT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8YS5nZXRUaW1lKCkmJihpPWEscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIHU9cztpZih2b2lkIDA9PT11KXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW3VdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDp1fTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6byxzZWFyY2g6Ikh5cGVydHlQZXJVc2VyIn19O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkZWxldGVIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXZvaWQgMDtvPXI/cjpuLmRvbWFpbjt2YXIgcz17dHlwZToiZGVsZXRlIixmcm9tOm4uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK28rIi8iLGJvZHk6e3ZhbHVlOnt1c2VyOmUsaHlwZXJ0eVVSTDp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LmNvZGU7bj9lKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIik6dCgiRXJyb3Igb24gZGVsZXRpbmcgaHlwZXJ0eSIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsdlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksdj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDc6NTYgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYsZD1lJmMuRyxwPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQix5PWUmYy5XLGg9ZD9vOm9bdF18fChvW3RdPXt9KSxiPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIGh8fChmPWE/Ylt1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoaFtzXXx8KGhbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwsZCxwPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShsPWQubmV4dCgpKS5kb25lOylvKGQsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHk9InZhbHVlcyIsaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIFApcmV0dXJuIFBbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PXksTT0hMSxQPWUucHJvdG90eXBlLFM9UFtkXXx8UFskXXx8bSYmUFttXSxFPVN8fF8obSk7aWYoUyl7dmFyIFU9bChFLmNhbGwobmV3IGUpKTtmKFUsaywhMCksIW4mJmMoUCwkKSYmcyhVLGQsaCksTyYmUy5uYW1lIT09eSYmKE09ITAsRT1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IXAmJiFNJiZQW2RdfHxzKFAsZCxFKSx1W3RdPUUsdVtrXT1oLG0paWYoaj17dmFsdWVzOk8/RTpfKHkpLGtleXM6Zz9FOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpFfSx4KWZvcih3IGluIGopdyBpbiBQfHxpKFAsdyxqW3ddKTtlbHNlIG8oby5QK28uRioocHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2soZCl9O2Vsc2UgaWYodSl7dmFyIHA9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShkKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPXA9LXB9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2MuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxoPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHk9ZSgiLi8kLnNhbWUtdmFsdWUiKSxoPWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6eShlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbaF07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VChvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVQodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVSh0LCEwKSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQSxuLDEpLGMoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci52PWUsci5zPTEsVShyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEEsdCwxKSxjKEQsdCwxKSl9Y2F0Y2gocil7RC5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVShvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1FKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1FKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWlbImRlZmF1bHQiXSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSI6Njh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPXR9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ImRhdGFPYmplY3Q6Ly8iK2V9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZS51cmw7bj9lKG4pOnQoIkRhdGFPYmplY3QgbmFtZSBkb2VzIG5vdCBleGlzdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciB1PW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTx1LmdldFRpbWUoKSYmKGk9dSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgYT1zO2lmKHZvaWQgMD09PWEpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbYV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmF9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NiBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKLy8gTGFzdCBidWlsZDogVGh1IEp1biAwMiAyMDE2IDE1OjQ4OjA1IEdNVCswMTAwIChXRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCx3LE89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8TyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOk8odiksa2V5czptP1Q6TyhoKSxlbnRyaWVzOng/TygiZW50cmllcyIpOlR9LGopZm9yKHcgaW4gJCl3IGluIEV8fGkoRSx3LCRbd10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLHc9c1ttXSxPPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJk8oKSxoKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sTj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShOLG4sMSksYShELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoTix0LDEpLGEoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8TyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2Msdz1uLmNyZWF0ZSxPPWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxEPSJmdW5jdGlvbiI9PXR5cGVvZiBrLE49T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooTix0KTtuJiZkZWxldGUgTlt0XSwkKGUsdCxyKSxuJiZlIT09TiYmJChOLHQsbil9OiQsQT1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPXcoay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkkodyhlKSx0KX0sVT1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFMKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEwodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtEfHwoaz1mdW5jdGlvbigpe2lmKEwodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gQShkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVYsbi5pc0VudW09VSxuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKE4sInByb3BlcnR5SXNFbnVtZXJhYmxlIixVLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09RD90OkEodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIUQsIk9iamVjdCIse2NyZWF0ZTpWLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIUR8fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLHc9MDtnPiR8fG0+dzspaD15WyRdLHY9KGI9X1t3XSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyx3KyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsdywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1t3KzFdLHByZXZpb3VzU2libGluZzpfW3ctMV19KSksai0tKTpwLnB1c2goe2g6YixpOnd9KSksdysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InJlYWQiLGZyb206dC5fb3duZXIsdG86ZX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSxuKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6bih0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpufX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdO2lmKG4pe3ZhciBvPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSwyMDA9PT1vJiZuWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm8sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9EYXRhUHJvdmlzaW9uYWwiOjk3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxiWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gdShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gbChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiBjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4oZikscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxiPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWEsci5nZXRVc2VyVVJMRnJvbUVtYWlsPWMsci5nZXRVc2VyRW1haWxGcm9tVVJMPXUsci5jb252ZXJ0VG9Vc2VyVVJMPWx9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjd9XX0se30sWzkyXSkoOTIpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKgogKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLgogKgogKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZQogKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlCiAqICB0cmVlLgogKi8KCi8qIE1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlc2Ugb3B0aW9ucyBhdCBqc2hpbnQuY29tL2RvY3Mvb3B0aW9ucyAqLwovKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgY2FtZWxjYXNlOiB0cnVlLCBjdXJseTogdHJ1ZSwgZGV2ZWw6IHRydWUsCiAgIGVxZXFlcTogdHJ1ZSwgZm9yaW46IGZhbHNlLCBnbG9iYWxzdHJpY3Q6IHRydWUsIG5vZGU6IHRydWUsCiAgIHF1b3RtYXJrOiBzaW5nbGUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHN0cmljdCAqLwovKiBnbG9iYWwgbW96UlRDSWNlQ2FuZGlkYXRlLCBtb3pSVENQZWVyQ29ubmVjdGlvbiwgUHJvbWlzZSwKbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgTWVkaWFTdHJlYW1UcmFjaywKTWVkaWFTdHJlYW0sIFJUQ0ljZUdhdGhlcmVyLCBSVENJY2VUcmFuc3BvcnQsIFJUQ0R0bHNUcmFuc3BvcnQsClJUQ1J0cFNlbmRlciwgUlRDUnRwUmVjZWl2ZXIqLwovKiBleHBvcnRlZCB0cmFjZSxyZXF1ZXN0VXNlck1lZGlhICovCgondXNlIHN0cmljdCc7Cgp2YXIgZ2V0VXNlck1lZGlhID0gbnVsbDsKdmFyIGF0dGFjaE1lZGlhU3RyZWFtID0gbnVsbDsKdmFyIHJlYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsOwp2YXIgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gbnVsbDsKdmFyIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9IG51bGw7CnZhciB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IG51bGw7CnZhciB3ZWJydGNVdGlscyA9IHsKICBsb2c6IGZ1bmN0aW9uKCkgewogICAgLy8gc3VwcHJlc3MgY29uc29sZS5sb2cgb3V0cHV0IHdoZW4gYmVpbmcgaW5jbHVkZWQgYXMgYSBtb2R1bGUuCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgfHwKICAgICAgICB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7CiAgfSwKICBleHRyYWN0VmVyc2lvbjogZnVuY3Rpb24odWFzdHJpbmcsIGV4cHIsIHBvcykgewogICAgdmFyIG1hdGNoID0gdWFzdHJpbmcubWF0Y2goZXhwcik7CiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IHBvcyAmJiBwYXJzZUludChtYXRjaFtwb3NdLCAxMCk7CiAgfQp9OwoKZnVuY3Rpb24gdHJhY2UodGV4dCkgewogIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgbG9nZ2luZy4KICBpZiAodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnXG4nKSB7CiAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAxKTsKICB9CiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSkgewogICAgdmFyIG5vdyA9ICh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLyAxMDAwKS50b0ZpeGVkKDMpOwogICAgd2VicnRjVXRpbHMubG9nKG5vdyArICc6ICcgKyB0ZXh0KTsKICB9IGVsc2UgewogICAgd2VicnRjVXRpbHMubG9nKHRleHQpOwogIH0KfQoKaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSB7CiAgaWYgKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50ICYmCiAgICAhKCdzcmNPYmplY3QnIGluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSkpIHsKICAgIC8vIFNoaW0gdGhlIHNyY09iamVjdCBwcm9wZXJ0eSwgb25jZSwgd2hlbiBIVE1MTWVkaWFFbGVtZW50IGlzIGZvdW5kLgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgJ3NyY09iamVjdCcsIHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICAvLyBJZiBwcmVmaXhlZCBzcmNPYmplY3QgcHJvcGVydHkgZXhpc3RzLCByZXR1cm4gaXQuCiAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgc2hpbW1lZCBwcm9wZXJ0eSwgX3NyY09iamVjdAogICAgICAgIHJldHVybiAnbW96U3JjT2JqZWN0JyBpbiB0aGlzID8gdGhpcy5tb3pTcmNPYmplY3QgOiB0aGlzLl9zcmNPYmplY3Q7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24oc3RyZWFtKSB7CiAgICAgICAgaWYgKCdtb3pTcmNPYmplY3QnIGluIHRoaXMpIHsKICAgICAgICAgIHRoaXMubW96U3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBVc2UgX3NyY09iamVjdCBhcyBhIHByaXZhdGUgcHJvcGVydHkgZm9yIHRoaXMgc2hpbQogICAgICAgICAgdGhpcy5fc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgICAgLy8gVE9ETzogcmV2b2tlT2JqZWN0VXJsKHRoaXMuc3JjKSB3aGVuICFzdHJlYW0gdG8gcmVsZWFzZSByZXNvdXJjZXM/CiAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KICAvLyBQcm94eSBleGlzdGluZyBnbG9iYWxzCiAgZ2V0VXNlck1lZGlhID0gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLmdldFVzZXJNZWRpYTsKfQoKLy8gQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuCmF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7CiAgZWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07Cn07CgpyZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24odG8sIGZyb20pIHsKICB0by5zcmNPYmplY3QgPSBmcm9tLnNyY09iamVjdDsKfTsKCmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93Lm5hdmlnYXRvcikgewogIHdlYnJ0Y1V0aWxzLmxvZygnVGhpcyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSBicm93c2VyJyk7CiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ25vdCBhIGJyb3dzZXInOwp9IGVsc2UgaWYgKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHsKICB3ZWJydGNVdGlscy5sb2coJ1RoaXMgYXBwZWFycyB0byBiZSBGaXJlZm94Jyk7CgogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdmaXJlZm94JzsKCiAgLy8gdGhlIGRldGVjdGVkIGZpcmVmb3ggdmVyc2lvbi4KICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAvRmlyZWZveFwvKFswLTldKylcLi8sIDEpOwoKICAvLyB0aGUgbWluaW11bSBmaXJlZm94IHZlcnNpb24gc3RpbGwgc3VwcG9ydGVkIGJ5IGFkYXB0ZXIuCiAgd2VicnRjTWluaW11bVZlcnNpb24gPSAzMTsKCiAgLy8gU2hpbSBmb3IgUlRDUGVlckNvbm5lY3Rpb24gb24gb2xkZXIgdmVyc2lvbnMuCiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHsKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7CiAgICAgIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPCAzOCkgewogICAgICAgIC8vIC51cmxzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRkYgPCAzOC4KICAgICAgICAvLyBjcmVhdGUgUlRDSWNlU2VydmVycyB3aXRoIGEgc2luZ2xlIHVybC4KICAgICAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlU2VydmVycykgewogICAgICAgICAgdmFyIG5ld0ljZVNlcnZlcnMgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGNDb25maWcuaWNlU2VydmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgc2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTsKICAgICAgICAgICAgaWYgKHNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXJ2ZXIudXJscy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgdmFyIG5ld1NlcnZlciA9IHsKICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIudXJsc1tqXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIudXJsc1tqXS5pbmRleE9mKCd0dXJuJykgPT09IDApIHsKICAgICAgICAgICAgICAgICAgbmV3U2VydmVyLnVzZXJuYW1lID0gc2VydmVyLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgICBuZXdTZXJ2ZXIuY3JlZGVudGlhbCA9IHNlcnZlci5jcmVkZW50aWFsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKG5ld1NlcnZlcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5ld0ljZVNlcnZlcnMucHVzaChwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcGNDb25maWcuaWNlU2VydmVycyA9IG5ld0ljZVNlcnZlcnM7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBuZXcgbW96UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpOyAvLyBqc2NzOmlnbm9yZSByZXF1aXJlQ2FwaXRhbGl6ZWRDb25zdHJ1Y3RvcnMKICAgIH07CiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gbW96UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlOwoKICAgIC8vIHdyYXAgc3RhdGljIG1ldGhvZHMuIEN1cnJlbnRseSBqdXN0IGdlbmVyYXRlQ2VydGlmaWNhdGUuCiAgICBpZiAobW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIG1velJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUuYXBwbHkobnVsbCwKICAgICAgICAgICAgICAgIGFyZ3VtZW50cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBtb3pSVENTZXNzaW9uRGVzY3JpcHRpb247CiAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gbW96UlRDSWNlQ2FuZGlkYXRlOwogIH0KCiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uCiAgZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcikgewogICAgdmFyIGNvbnN0cmFpbnRzVG9GRjM3ID0gZnVuY3Rpb24oYykgewogICAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMucmVxdWlyZSkgewogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICAgIHZhciByZXF1aXJlID0gW107CiAgICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ3JlcXVpcmUnIHx8IGtleSA9PT0gJ2FkdmFuY2VkJyB8fCBrZXkgPT09ICdtZWRpYVNvdXJjZScpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHIgPSBjW2tleV0gPSAodHlwZW9mIGNba2V5XSA9PT0gJ29iamVjdCcpID8KICAgICAgICAgICAgY1trZXldIDoge2lkZWFsOiBjW2tleV19OwogICAgICAgIGlmIChyLm1pbiAhPT0gdW5kZWZpbmVkIHx8CiAgICAgICAgICAgIHIubWF4ICE9PSB1bmRlZmluZWQgfHwgci5leGFjdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXF1aXJlLnB1c2goa2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKHR5cGVvZiByLmV4YWN0ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICByLm1pbiA9IHIubWF4ID0gci5leGFjdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNba2V5XSA9IHIuZXhhY3Q7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgci5leGFjdDsKICAgICAgICB9CiAgICAgICAgaWYgKHIuaWRlYWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgYy5hZHZhbmNlZCA9IGMuYWR2YW5jZWQgfHwgW107CiAgICAgICAgICB2YXIgb2MgPSB7fTsKICAgICAgICAgIGlmICh0eXBlb2Ygci5pZGVhbCA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgb2Nba2V5XSA9IHttaW46IHIuaWRlYWwsIG1heDogci5pZGVhbH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvY1trZXldID0gci5pZGVhbDsKICAgICAgICAgIH0KICAgICAgICAgIGMuYWR2YW5jZWQucHVzaChvYyk7CiAgICAgICAgICBkZWxldGUgci5pZGVhbDsKICAgICAgICAgIGlmICghT2JqZWN0LmtleXMocikubGVuZ3RoKSB7CiAgICAgICAgICAgIGRlbGV0ZSBjW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKHJlcXVpcmUubGVuZ3RoKSB7CiAgICAgICAgYy5yZXF1aXJlID0gcmVxdWlyZTsKICAgICAgfQogICAgICByZXR1cm4gYzsKICAgIH07CiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgMzgpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdzcGVjOiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTsKICAgICAgaWYgKGNvbnN0cmFpbnRzLmF1ZGlvKSB7CiAgICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvRkYzNyhjb25zdHJhaW50cy5hdWRpbyk7CiAgICAgIH0KICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7CiAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSBjb25zdHJhaW50c1RvRkYzNyhjb25zdHJhaW50cy52aWRlbyk7CiAgICAgIH0KICAgICAgd2VicnRjVXRpbHMubG9nKCdmZjM3OiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTsKICAgIH0KICAgIHJldHVybiBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRXJyb3IpOwogIH07CgogIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7CgogIC8vIFNoaW0gZm9yIG1lZGlhRGV2aWNlcyBvbiBvbGRlciB2ZXJzaW9ucy4KICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7Z2V0VXNlck1lZGlhOiByZXF1ZXN0VXNlck1lZGlhLAogICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbigpIHsgfSwKICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7IH0KICAgIH07CiAgfQogIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyA9CiAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyB8fCBmdW5jdGlvbigpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgIHZhciBpbmZvcyA9IFsKICAgICAgICB7a2luZDogJ2F1ZGlvaW5wdXQnLCBkZXZpY2VJZDogJ2RlZmF1bHQnLCBsYWJlbDogJycsIGdyb3VwSWQ6ICcnfSwKICAgICAgICB7a2luZDogJ3ZpZGVvaW5wdXQnLCBkZXZpY2VJZDogJ2RlZmF1bHQnLCBsYWJlbDogJycsIGdyb3VwSWQ6ICcnfQogICAgICBdOwogICAgICByZXNvbHZlKGluZm9zKTsKICAgIH0pOwogIH07CgogIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPCA0MSkgewogICAgLy8gV29yayBhcm91bmQgaHR0cDovL2J1Z3ppbC5sYS8xMTY5NjY1CiAgICB2YXIgb3JnRW51bWVyYXRlRGV2aWNlcyA9CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIG9yZ0VudW1lcmF0ZURldmljZXMoKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24oZSkgewogICAgICAgIGlmIChlLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykgewogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0KICAgICAgICB0aHJvdyBlOwogICAgICB9KTsKICAgIH07CiAgfQp9IGVsc2UgaWYgKG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgJiYgd2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKSB7CiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgQ2hyb21lJyk7CgogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdjaHJvbWUnOwoKICAvLyB0aGUgZGV0ZWN0ZWQgY2hyb21lIHZlcnNpb24uCiAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gd2VicnRjVXRpbHMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgL0Nocm9tKGV8aXVtKVwvKFswLTldKylcLi8sIDIpOwoKICAvLyB0aGUgbWluaW11bSBjaHJvbWUgdmVyc2lvbiBzdGlsbCBzdXBwb3J0ZWQgYnkgYWRhcHRlci4KICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDM4OwoKICAvLyBUaGUgUlRDUGVlckNvbm5lY3Rpb24gb2JqZWN0LgogIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7CiAgICAvLyBUcmFuc2xhdGUgaWNlVHJhbnNwb3J0UG9saWN5IHRvIGljZVRyYW5zcG9ydHMsCiAgICAvLyBzZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC93ZWJydGMvaXNzdWVzL2RldGFpbD9pZD00ODY5CiAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgIHBjQ29uZmlnLmljZVRyYW5zcG9ydHMgPSBwY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k7CiAgICB9CgogICAgdmFyIHBjID0gbmV3IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTsgLy8ganNjczppZ25vcmUgcmVxdWlyZUNhcGl0YWxpemVkQ29uc3RydWN0b3JzCiAgICB2YXIgb3JpZ0dldFN0YXRzID0gcGMuZ2V0U3RhdHMuYmluZChwYyk7CiAgICBwYy5nZXRTdGF0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHsgLy8ganNoaW50IGlnbm9yZTogbGluZQogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzOwoKICAgICAgLy8gSWYgc2VsZWN0b3IgaXMgYSBmdW5jdGlvbiB0aGVuIHdlIGFyZSBpbiB0aGUgb2xkIHN0eWxlIHN0YXRzIHNvIGp1c3QKICAgICAgLy8gcGFzcyBiYWNrIHRoZSBvcmlnaW5hbCBnZXRTdGF0cyBmb3JtYXQgdG8gYXZvaWQgYnJlYWtpbmcgb2xkIHVzZXJzLgogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cyhzZWxlY3Rvciwgc3VjY2Vzc0NhbGxiYWNrKTsKICAgICAgfQoKICAgICAgdmFyIGZpeENocm9tZVN0YXRzID0gZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICB2YXIgc3RhbmRhcmRSZXBvcnQgPSB7fTsKICAgICAgICB2YXIgcmVwb3J0cyA9IHJlc3BvbnNlLnJlc3VsdCgpOwogICAgICAgIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbihyZXBvcnQpIHsKICAgICAgICAgIHZhciBzdGFuZGFyZFN0YXRzID0gewogICAgICAgICAgICBpZDogcmVwb3J0LmlkLAogICAgICAgICAgICB0aW1lc3RhbXA6IHJlcG9ydC50aW1lc3RhbXAsCiAgICAgICAgICAgIHR5cGU6IHJlcG9ydC50eXBlCiAgICAgICAgICB9OwogICAgICAgICAgcmVwb3J0Lm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHN0YW5kYXJkU3RhdHNbbmFtZV0gPSByZXBvcnQuc3RhdChuYW1lKTsKICAgICAgICAgIH0pOwogICAgICAgICAgc3RhbmRhcmRSZXBvcnRbc3RhbmRhcmRTdGF0cy5pZF0gPSBzdGFuZGFyZFN0YXRzOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gc3RhbmRhcmRSZXBvcnQ7CiAgICAgIH07CgogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgdmFyIHN1Y2Nlc3NDYWxsYmFja1dyYXBwZXIgPSBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgYXJnc1sxXShmaXhDaHJvbWVTdGF0cyhyZXNwb25zZSkpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvcmlnR2V0U3RhdHMuYXBwbHkodGhpcywgW3N1Y2Nlc3NDYWxsYmFja1dyYXBwZXIsIGFyZ3VtZW50c1swXV0pOwogICAgICB9CgogICAgICAvLyBwcm9taXNlLXN1cHBvcnQKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBzZWxlY3RvciA9PT0gbnVsbCkgewogICAgICAgICAgb3JpZ0dldFN0YXRzLmFwcGx5KHNlbGYsIFsKICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseShudWxsLCBbZml4Q2hyb21lU3RhdHMocmVzcG9uc2UpXSk7CiAgICAgICAgICAgICAgfSwgcmVqZWN0XSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9yaWdHZXRTdGF0cy5hcHBseShzZWxmLCBbcmVzb2x2ZSwgcmVqZWN0XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHBjOwogIH07CiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSA9IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTsKCiAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS4KICBpZiAod2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwgJ2dlbmVyYXRlQ2VydGlmaWNhdGUnLCB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlLmFwcGx5KG51bGwsCiAgICAgICAgICAgICAgYXJndW1lbnRzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGU7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIC8vIGFkZCBwcm9taXNlIHN1cHBvcnQKICBbJ2NyZWF0ZU9mZmVyJywgJ2NyZWF0ZUFuc3dlciddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07CiAgICB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSB8fCAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJgogICAgICAgICAgdHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdvYmplY3QnKSkgewogICAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZDsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICBuYXRpdmVNZXRob2QuYXBwbHkoc2VsZiwgW3Jlc29sdmUsIHJlamVjdCwgb3B0c10pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgfTsKICB9KTsKCiAgWydzZXRMb2NhbERlc2NyaXB0aW9uJywgJ3NldFJlbW90ZURlc2NyaXB0aW9uJywKICAgICAgJ2FkZEljZUNhbmRpZGF0ZSddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07CiAgICB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IGFyZ3VtZW50czsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgbmF0aXZlTWV0aG9kLmFwcGx5KHNlbGYsIFthcmdzWzBdLAogICAgICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHsKICAgICAgICAgICAgICAgIGFyZ3NbMV0uYXBwbHkobnVsbCwgW10pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgIGFyZ3NbMl0uYXBwbHkobnVsbCwgW2Vycl0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgICk7CiAgICAgIH0pOwogICAgfTsKICB9KTsKCiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uCiAgdmFyIGNvbnN0cmFpbnRzVG9DaHJvbWUgPSBmdW5jdGlvbihjKSB7CiAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMubWFuZGF0b3J5IHx8IGMub3B0aW9uYWwpIHsKICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICB2YXIgY2MgPSB7fTsKICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICAgIGlmIChrZXkgPT09ICdyZXF1aXJlJyB8fCBrZXkgPT09ICdhZHZhbmNlZCcgfHwga2V5ID09PSAnbWVkaWFTb3VyY2UnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByID0gKHR5cGVvZiBjW2tleV0gPT09ICdvYmplY3QnKSA/IGNba2V5XSA6IHtpZGVhbDogY1trZXldfTsKICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygci5leGFjdCA9PT0gJ251bWJlcicpIHsKICAgICAgICByLm1pbiA9IHIubWF4ID0gci5leGFjdDsKICAgICAgfQogICAgICB2YXIgb2xkbmFtZSA9IGZ1bmN0aW9uKHByZWZpeCwgbmFtZSkgewogICAgICAgIGlmIChwcmVmaXgpIHsKICAgICAgICAgIHJldHVybiBwcmVmaXggKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChuYW1lID09PSAnZGV2aWNlSWQnKSA/ICdzb3VyY2VJZCcgOiBuYW1lOwogICAgICB9OwogICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2Mub3B0aW9uYWwgPSBjYy5vcHRpb25hbCB8fCBbXTsKICAgICAgICB2YXIgb2MgPSB7fTsKICAgICAgICBpZiAodHlwZW9mIHIuaWRlYWwgPT09ICdudW1iZXInKSB7CiAgICAgICAgICBvY1tvbGRuYW1lKCdtaW4nLCBrZXkpXSA9IHIuaWRlYWw7CiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTsKICAgICAgICAgIG9jID0ge307CiAgICAgICAgICBvY1tvbGRuYW1lKCdtYXgnLCBrZXkpXSA9IHIuaWRlYWw7CiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2Nbb2xkbmFtZSgnJywga2V5KV0gPSByLmlkZWFsOwogICAgICAgICAgY2Mub3B0aW9uYWwucHVzaChvYyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChyLmV4YWN0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHIuZXhhY3QgIT09ICdudW1iZXInKSB7CiAgICAgICAgY2MubWFuZGF0b3J5ID0gY2MubWFuZGF0b3J5IHx8IHt9OwogICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lKCcnLCBrZXkpXSA9IHIuZXhhY3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgWydtaW4nLCAnbWF4J10uZm9yRWFjaChmdW5jdGlvbihtaXgpIHsKICAgICAgICAgIGlmIChyW21peF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBjYy5tYW5kYXRvcnkgPSBjYy5tYW5kYXRvcnkgfHwge307CiAgICAgICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lKG1peCwga2V5KV0gPSByW21peF07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKGMuYWR2YW5jZWQpIHsKICAgICAgY2Mub3B0aW9uYWwgPSAoY2Mub3B0aW9uYWwgfHwgW10pLmNvbmNhdChjLmFkdmFuY2VkKTsKICAgIH0KICAgIHJldHVybiBjYzsKICB9OwoKICBnZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7CiAgICBpZiAoY29uc3RyYWludHMuYXVkaW8pIHsKICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lKGNvbnN0cmFpbnRzLmF1ZGlvKTsKICAgIH0KICAgIGlmIChjb25zdHJhaW50cy52aWRlbykgewogICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoY29uc3RyYWludHMudmlkZW8pOwogICAgfQogICAgd2VicnRjVXRpbHMubG9nKCdjaHJvbWU6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpOwogICAgcmV0dXJuIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcik7CiAgfTsKICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhOwoKICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7Z2V0VXNlck1lZGlhOiByZXF1ZXN0VXNlck1lZGlhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhdGVEZXZpY2VzOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICB2YXIga2luZHMgPSB7YXVkaW86ICdhdWRpb2lucHV0JywgdmlkZW86ICd2aWRlb2lucHV0J307CiAgICAgICAgcmV0dXJuIE1lZGlhU3RyZWFtVHJhY2suZ2V0U291cmNlcyhmdW5jdGlvbihkZXZpY2VzKSB7CiAgICAgICAgICByZXNvbHZlKGRldmljZXMubWFwKGZ1bmN0aW9uKGRldmljZSkgewogICAgICAgICAgICByZXR1cm4ge2xhYmVsOiBkZXZpY2UubGFiZWwsCiAgICAgICAgICAgICAgICAgICAga2luZDoga2luZHNbZGV2aWNlLmtpbmRdLAogICAgICAgICAgICAgICAgICAgIGRldmljZUlkOiBkZXZpY2UuaWQsCiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogJyd9OwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH19OwogIH0KCiAgLy8gQSBzaGltIGZvciBnZXRVc2VyTWVkaWEgbWV0aG9kIG9uIHRoZSBtZWRpYURldmljZXMgb2JqZWN0LgogIC8vIFRPRE8oS2FwdGVuSmFuc3NvbikgcmVtb3ZlIG9uY2UgaW1wbGVtZW50ZWQgaW4gQ2hyb21lIHN0YWJsZS4KICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7CiAgICAgIHJldHVybiByZXF1ZXN0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIC8vIEV2ZW4gdGhvdWdoIENocm9tZSA0NSBoYXMgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBhbmQgYSBnZXRVc2VyTWVkaWEKICAgIC8vIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSBQcm9taXNlLCBpdCBkb2VzIG5vdCBhY2NlcHQgc3BlYy1zdHlsZQogICAgLy8gY29uc3RyYWludHMuCiAgICB2YXIgb3JpZ0dldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLgogICAgICAgIGJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGMpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdzcGVjOiAgICcgKyBKU09OLnN0cmluZ2lmeShjKSk7IC8vIHdoaXRlc3BhY2UgZm9yIGFsaWdubWVudAogICAgICBjLmF1ZGlvID0gY29uc3RyYWludHNUb0Nocm9tZShjLmF1ZGlvKTsKICAgICAgYy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoYy52aWRlbyk7CiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnY2hyb21lOiAnICsgSlNPTi5zdHJpbmdpZnkoYykpOwogICAgICByZXR1cm4gb3JpZ0dldFVzZXJNZWRpYShjKTsKICAgIH07CiAgfQoKICAvLyBEdW1teSBkZXZpY2VjaGFuZ2UgZXZlbnQgbWV0aG9kcy4KICAvLyBUT0RPKEthcHRlbkphbnNzb24pIHJlbW92ZSBvbmNlIGltcGxlbWVudGVkIGluIENocm9tZSBzdGFibGUuCiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICd1bmRlZmluZWQnKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdEdW1teSBtZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciBjYWxsZWQuJyk7CiAgICB9OwogIH0KICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkgewogICAgICB3ZWJydGNVdGlscy5sb2coJ0R1bW15IG1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyIGNhbGxlZC4nKTsKICAgIH07CiAgfQoKICAvLyBBdHRhY2ggYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC4KICBhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0cmVhbSkgewogICAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA+PSA0MykgewogICAgICBlbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykgewogICAgICBlbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTsKICAgIH0gZWxzZSB7CiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpOwogICAgfQogIH07CiAgcmVhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKHRvLCBmcm9tKSB7CiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uID49IDQzKSB7CiAgICAgIHRvLnNyY09iamVjdCA9IGZyb20uc3JjT2JqZWN0OwogICAgfSBlbHNlIHsKICAgICAgdG8uc3JjID0gZnJvbS5zcmM7CiAgICB9CiAgfTsKCn0gZWxzZSBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKAogICAgL0VkZ2VcLyhcZCspLihcZCspJC8pKSB7CiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgRWRnZScpOwogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdlZGdlJzsKCiAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gd2VicnRjVXRpbHMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgL0VkZ2VcLyhcZCspLihcZCspJC8sIDIpOwoKICAvLyBUaGUgbWluaW11bSB2ZXJzaW9uIHN0aWxsIHN1cHBvcnRlZCBieSBhZGFwdGVyLgogIC8vIFRoaXMgaXMgdGhlIGJ1aWxkIG51bWJlciBmb3IgRWRnZS4KICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDEwNTQ3OwoKICBpZiAod2luZG93LlJUQ0ljZUdhdGhlcmVyKSB7CiAgICAvLyBHZW5lcmF0ZSBhbiBhbHBoYW51bWVyaWMgaWRlbnRpZmllciBmb3IgY25hbWUgb3IgbWlkcy4KICAgIC8vIFRPRE86IHVzZSBVVUlEcyBpbnN0ZWFkPyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qZWQvOTgyODgzCiAgICB2YXIgZ2VuZXJhdGVJZGVudGlmaWVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTApOwogICAgfTsKCiAgICAvLyBUaGUgUlRDUCBDTkFNRSB1c2VkIGJ5IGFsbCBwZWVyY29ubmVjdGlvbnMgZnJvbSB0aGUgc2FtZSBKUy4KICAgIHZhciBsb2NhbENOYW1lID0gZ2VuZXJhdGVJZGVudGlmaWVyKCk7CgogICAgLy8gU0RQIGhlbHBlcnMgLSB0byBiZSBtb3ZlZCBpbnRvIHNlcGFyYXRlIG1vZHVsZS4KICAgIHZhciBTRFBVdGlscyA9IHt9OwoKICAgIC8vIFNwbGl0cyBTRFAgaW50byBsaW5lcywgZGVhbGluZyB3aXRoIGJvdGggQ1JMRiBhbmQgTEYuCiAgICBTRFBVdGlscy5zcGxpdExpbmVzID0gZnVuY3Rpb24oYmxvYikgewogICAgICByZXR1cm4gYmxvYi50cmltKCkuc3BsaXQoJ1xuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICByZXR1cm4gbGluZS50cmltKCk7CiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBTcGxpdHMgU0RQIGludG8gc2Vzc2lvbnBhcnQgYW5kIG1lZGlhc2VjdGlvbnMuIEVuc3VyZXMgQ1JMRi4KICAgIFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMgPSBmdW5jdGlvbihibG9iKSB7CiAgICAgIHZhciBwYXJ0cyA9IGJsb2Iuc3BsaXQoJ1xyXG5tPScpOwogICAgICByZXR1cm4gcGFydHMubWFwKGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIChpbmRleCA+IDAgPyAnbT0nICsgcGFydCA6IHBhcnQpLnRyaW0oKSArICdcclxuJzsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIFJldHVybnMgbGluZXMgdGhhdCBzdGFydCB3aXRoIGEgY2VydGFpbiBwcmVmaXguCiAgICBTRFBVdGlscy5tYXRjaFByZWZpeCA9IGZ1bmN0aW9uKGJsb2IsIHByZWZpeCkgewogICAgICByZXR1cm4gU0RQVXRpbHMuc3BsaXRMaW5lcyhibG9iKS5maWx0ZXIoZnVuY3Rpb24obGluZSkgewogICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YocHJlZml4KSA9PT0gMDsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIFBhcnNlcyBhbiBJQ0UgY2FuZGlkYXRlIGxpbmUuIFNhbXBsZSBpbnB1dDoKICAgIC8vIGNhbmRpZGF0ZTo3MDI3ODYzNTAgMiB1ZHAgNDE4MTk5MDIgOC44LjguOCA2MDc2OSB0eXAgcmVsYXkgcmFkZHIgOC44LjguOCBycG9ydCA1NTk5NiIKICAgIFNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlID0gZnVuY3Rpb24obGluZSkgewogICAgICB2YXIgcGFydHM7CiAgICAgIC8vIFBhcnNlIGJvdGggdmFyaWFudHMuCiAgICAgIGlmIChsaW5lLmluZGV4T2YoJ2E9Y2FuZGlkYXRlOicpID09PSAwKSB7CiAgICAgICAgcGFydHMgPSBsaW5lLnN1YnN0cmluZygxMikuc3BsaXQoJyAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEwKS5zcGxpdCgnICcpOwogICAgICB9CgogICAgICB2YXIgY2FuZGlkYXRlID0gewogICAgICAgIGZvdW5kYXRpb246IHBhcnRzWzBdLAogICAgICAgIGNvbXBvbmVudDogcGFydHNbMV0sCiAgICAgICAgcHJvdG9jb2w6IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCksCiAgICAgICAgcHJpb3JpdHk6IHBhcnNlSW50KHBhcnRzWzNdLCAxMCksCiAgICAgICAgaXA6IHBhcnRzWzRdLAogICAgICAgIHBvcnQ6IHBhcnNlSW50KHBhcnRzWzVdLCAxMCksCiAgICAgICAgLy8gc2tpcCBwYXJ0c1s2XSA9PSAndHlwJwogICAgICAgIHR5cGU6IHBhcnRzWzddCiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gODsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgc3dpdGNoIChwYXJ0c1tpXSkgewogICAgICAgICAgY2FzZSAncmFkZHInOgogICAgICAgICAgICBjYW5kaWRhdGUucmVsYXRlZEFkZHJlc3MgPSBwYXJ0c1tpICsgMV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAncnBvcnQnOgogICAgICAgICAgICBjYW5kaWRhdGUucmVsYXRlZFBvcnQgPSBwYXJzZUludChwYXJ0c1tpICsgMV0sIDEwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd0Y3B0eXBlJzoKICAgICAgICAgICAgY2FuZGlkYXRlLnRjcFR5cGUgPSBwYXJ0c1tpICsgMV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDogLy8gVW5rbm93biBleHRlbnNpb25zIGFyZSBzaWxlbnRseSBpZ25vcmVkLgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgIH07CgogICAgLy8gVHJhbnNsYXRlcyBhIGNhbmRpZGF0ZSBvYmplY3QgaW50byBTRFAgY2FuZGlkYXRlIGF0dHJpYnV0ZS4KICAgIFNEUFV0aWxzLndyaXRlQ2FuZGlkYXRlID0gZnVuY3Rpb24oY2FuZGlkYXRlKSB7CiAgICAgIHZhciBzZHAgPSBbXTsKICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLmZvdW5kYXRpb24pOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUuY29tcG9uZW50KTsKICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnByb3RvY29sLnRvVXBwZXJDYXNlKCkpOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUucHJpb3JpdHkpOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUuaXApOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUucG9ydCk7CgogICAgICB2YXIgdHlwZSA9IGNhbmRpZGF0ZS50eXBlOwogICAgICBzZHAucHVzaCgndHlwJyk7CiAgICAgIHNkcC5wdXNoKHR5cGUpOwogICAgICBpZiAodHlwZSAhPT0gJ2hvc3QnICYmIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyAmJgogICAgICAgICAgY2FuZGlkYXRlLnJlbGF0ZWRQb3J0KSB7CiAgICAgICAgc2RwLnB1c2goJ3JhZGRyJyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzKTsgLy8gd2FzOiByZWxBZGRyCiAgICAgICAgc2RwLnB1c2goJ3Jwb3J0Jyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRQb3J0KTsgLy8gd2FzOiByZWxQb3J0CiAgICAgIH0KICAgICAgaWYgKGNhbmRpZGF0ZS50Y3BUeXBlICYmIGNhbmRpZGF0ZS5wcm90b2NvbC50b0xvd2VyQ2FzZSgpID09PSAndGNwJykgewogICAgICAgIHNkcC5wdXNoKCd0Y3B0eXBlJyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnRjcFR5cGUpOwogICAgICB9CiAgICAgIHJldHVybiAnY2FuZGlkYXRlOicgKyBzZHAuam9pbignICcpOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gcnRwbWFwIGxpbmUsIHJldHVybnMgUlRDUnRwQ29kZGVjUGFyYW1ldGVycy4gU2FtcGxlIGlucHV0OgogICAgLy8gYT1ydHBtYXA6MTExIG9wdXMvNDgwMDAvMgogICAgU0RQVXRpbHMucGFyc2VSdHBNYXAgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKDkpLnNwbGl0KCcgJyk7CiAgICAgIHZhciBwYXJzZWQgPSB7CiAgICAgICAgcGF5bG9hZFR5cGU6IHBhcnNlSW50KHBhcnRzLnNoaWZ0KCksIDEwKSAvLyB3YXM6IGlkCiAgICAgIH07CgogICAgICBwYXJ0cyA9IHBhcnRzWzBdLnNwbGl0KCcvJyk7CgogICAgICBwYXJzZWQubmFtZSA9IHBhcnRzWzBdOwogICAgICBwYXJzZWQuY2xvY2tSYXRlID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsgLy8gd2FzOiBjbG9ja3JhdGUKICAgICAgcGFyc2VkLm51bUNoYW5uZWxzID0gcGFydHMubGVuZ3RoID09PSAzID8gcGFyc2VJbnQocGFydHNbMl0sIDEwKSA6IDE7IC8vIHdhczogY2hhbm5lbHMKICAgICAgcmV0dXJuIHBhcnNlZDsKICAgIH07CgogICAgLy8gR2VuZXJhdGUgYW4gYT1ydHBtYXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuCiAgICBTRFBVdGlscy53cml0ZVJ0cE1hcCA9IGZ1bmN0aW9uKGNvZGVjKSB7CiAgICAgIHZhciBwdCA9IGNvZGVjLnBheWxvYWRUeXBlOwogICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7CiAgICAgIH0KICAgICAgcmV0dXJuICdhPXJ0cG1hcDonICsgcHQgKyAnICcgKyBjb2RlYy5uYW1lICsgJy8nICsgY29kZWMuY2xvY2tSYXRlICsKICAgICAgICAgIChjb2RlYy5udW1DaGFubmVscyAhPT0gMSA/ICcvJyArIGNvZGVjLm51bUNoYW5uZWxzIDogJycpICsgJ1xyXG4nOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gZnRtcCBsaW5lLCByZXR1cm5zIGRpY3Rpb25hcnkuIFNhbXBsZSBpbnB1dDoKICAgIC8vIGE9Zm10cDo5NiB2YnI9b247Y25nPW9uCiAgICAvLyBBbHNvIGRlYWxzIHdpdGggdmJyPW9uOyBjbmc9b24KICAgIFNEUFV0aWxzLnBhcnNlRm10cCA9IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgdmFyIHBhcnNlZCA9IHt9OwogICAgICB2YXIga3Y7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJzsnKTsKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgIGt2ID0gcGFydHNbal0udHJpbSgpLnNwbGl0KCc9Jyk7CiAgICAgICAgcGFyc2VkW2t2WzBdLnRyaW0oKV0gPSBrdlsxXTsKICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkOwogICAgfTsKCiAgICAvLyBHZW5lcmF0ZXMgYW4gYT1mdG1wIGxpbmUgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMud3JpdGVGdG1wID0gZnVuY3Rpb24oY29kZWMpIHsKICAgICAgdmFyIGxpbmUgPSAnJzsKICAgICAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7CiAgICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgfQogICAgICBpZiAoY29kZWMucGFyYW1ldGVycyAmJiBjb2RlYy5wYXJhbWV0ZXJzLmxlbmd0aCkgewogICAgICAgIHZhciBwYXJhbXMgPSBbXTsKICAgICAgICBPYmplY3Qua2V5cyhjb2RlYy5wYXJhbWV0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICBwYXJhbXMucHVzaChwYXJhbSArICc9JyArIGNvZGVjLnBhcmFtZXRlcnNbcGFyYW1dKTsKICAgICAgICB9KTsKICAgICAgICBsaW5lICs9ICdhPWZtdHA6JyArIHB0ICsgJyAnICsgcGFyYW1zLmpvaW4oJzsnKSArICdcclxuJzsKICAgICAgfQogICAgICByZXR1cm4gbGluZTsKICAgIH07CgogICAgLy8gUGFyc2VzIGFuIHJ0Y3AtZmIgbGluZSwgcmV0dXJucyBSVENQUnRjcEZlZWRiYWNrIG9iamVjdC4gU2FtcGxlIGlucHV0OgogICAgLy8gYT1ydGNwLWZiOjk4IG5hY2sgcnBzaQogICAgU0RQVXRpbHMucGFyc2VSdGNwRmIgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJyAnKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiBwYXJ0cy5zaGlmdCgpLAogICAgICAgIHBhcmFtZXRlcjogcGFydHMuam9pbignICcpCiAgICAgIH07CiAgICB9OwogICAgLy8gR2VuZXJhdGUgYT1ydGNwLWZiIGxpbmVzIGZyb20gUlRDUnRwQ29kZWNDYXBhYmlsaXR5IG9yIFJUQ1J0cENvZGVjUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLndyaXRlUnRjcEZiID0gZnVuY3Rpb24oY29kZWMpIHsKICAgICAgdmFyIGxpbmVzID0gJyc7CiAgICAgIHZhciBwdCA9IGNvZGVjLnBheWxvYWRUeXBlOwogICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7CiAgICAgIH0KICAgICAgaWYgKGNvZGVjLnJ0Y3BGZWVkYmFjayAmJiBjb2RlYy5ydGNwRmVlZGJhY2subGVuZ3RoKSB7CiAgICAgICAgLy8gRklYTUU6IHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyci1pbnQ/CiAgICAgICAgY29kZWMucnRjcEZlZWRiYWNrLmZvckVhY2goZnVuY3Rpb24oZmIpIHsKICAgICAgICAgIGxpbmVzICs9ICdhPXJ0Y3AtZmI6JyArIHB0ICsgJyAnICsgZmIudHlwZSArICcgJyArIGZiLnBhcmFtZXRlciArCiAgICAgICAgICAgICAgJ1xyXG4nOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBsaW5lczsKICAgIH07CgogICAgLy8gUGFyc2VzIGFuIFJGQyA1NTc2IHNzcmMgbWVkaWEgYXR0cmlidXRlLiBTYW1wbGUgaW5wdXQ6CiAgICAvLyBhPXNzcmM6MzczNTkyODU1OSBjbmFtZTpzb21ldGhpbmcKICAgIFNEUFV0aWxzLnBhcnNlU3NyY01lZGlhID0gZnVuY3Rpb24obGluZSkgewogICAgICB2YXIgc3AgPSBsaW5lLmluZGV4T2YoJyAnKTsKICAgICAgdmFyIHBhcnRzID0gewogICAgICAgIHNzcmM6IGxpbmUuc3Vic3RyKDcsIHNwIC0gNyksCiAgICAgIH07CiAgICAgIHZhciBjb2xvbiA9IGxpbmUuaW5kZXhPZignOicsIHNwKTsKICAgICAgaWYgKGNvbG9uID4gLTEpIHsKICAgICAgICBwYXJ0cy5hdHRyaWJ1dGUgPSBsaW5lLnN1YnN0cihzcCArIDEsIGNvbG9uIC0gc3AgLSAxKTsKICAgICAgICBwYXJ0cy52YWx1ZSA9IGxpbmUuc3Vic3RyKGNvbG9uICsgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFydHMuYXR0cmlidXRlID0gbGluZS5zdWJzdHIoc3AgKyAxKTsKICAgICAgfQogICAgICByZXR1cm4gcGFydHM7CiAgICB9OwoKICAgIC8vIEV4dHJhY3RzIERUTFMgcGFyYW1ldGVycyBmcm9tIFNEUCBtZWRpYSBzZWN0aW9uIG9yIHNlc3Npb25wYXJ0LgogICAgLy8gRklYTUU6IGZvciBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGZ1bmN0aW9ucyB0aGlzIHNob3VsZCBvbmx5CiAgICAvLyAgIGdldCB0aGUgZmluZ2VycHJpbnQgbGluZSBhcyBpbnB1dC4gU2VlIGFsc28gZ2V0SWNlUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkgewogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIGxpbmVzID0gbGluZXMuY29uY2F0KFNEUFV0aWxzLnNwbGl0TGluZXMoc2Vzc2lvbnBhcnQpKTsgLy8gU2VhcmNoIGluIHNlc3Npb24gcGFydCwgdG9vLgogICAgICB2YXIgZnBMaW5lID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKCdhPWZpbmdlcnByaW50OicpID09PSAwOwogICAgICB9KVswXS5zdWJzdHIoMTQpOwogICAgICAvLyBOb3RlOiBhPXNldHVwIGxpbmUgaXMgaWdub3JlZCBzaW5jZSB3ZSB1c2UgdGhlICdhdXRvJyByb2xlLgogICAgICB2YXIgZHRsc1BhcmFtZXRlcnMgPSB7CiAgICAgICAgcm9sZTogJ2F1dG8nLAogICAgICAgIGZpbmdlcnByaW50czogW3sKICAgICAgICAgIGFsZ29yaXRobTogZnBMaW5lLnNwbGl0KCcgJylbMF0sCiAgICAgICAgICB2YWx1ZTogZnBMaW5lLnNwbGl0KCcgJylbMV0KICAgICAgICB9XQogICAgICB9OwogICAgICByZXR1cm4gZHRsc1BhcmFtZXRlcnM7CiAgICB9OwoKICAgIC8vIFNlcmlhbGl6ZXMgRFRMUyBwYXJhbWV0ZXJzIHRvIFNEUC4KICAgIFNEUFV0aWxzLndyaXRlRHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbXMsIHNldHVwVHlwZSkgewogICAgICB2YXIgc2RwID0gJ2E9c2V0dXA6JyArIHNldHVwVHlwZSArICdcclxuJzsKICAgICAgcGFyYW1zLmZpbmdlcnByaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGZwKSB7CiAgICAgICAgc2RwICs9ICdhPWZpbmdlcnByaW50OicgKyBmcC5hbGdvcml0aG0gKyAnICcgKyBmcC52YWx1ZSArICdcclxuJzsKICAgICAgfSk7CiAgICAgIHJldHVybiBzZHA7CiAgICB9OwogICAgLy8gUGFyc2VzIElDRSBpbmZvcm1hdGlvbiBmcm9tIFNEUCBtZWRpYSBzZWN0aW9uIG9yIHNlc3Npb25wYXJ0LgogICAgLy8gRklYTUU6IGZvciBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGZ1bmN0aW9ucyB0aGlzIHNob3VsZCBvbmx5CiAgICAvLyAgIGdldCB0aGUgaWNlLXVmcmFnIGFuZCBpY2UtcHdkIGxpbmVzIGFzIGlucHV0LgogICAgU0RQVXRpbHMuZ2V0SWNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpIHsKICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChTRFBVdGlscy5zcGxpdExpbmVzKHNlc3Npb25wYXJ0KSk7IC8vIFNlYXJjaCBpbiBzZXNzaW9uIHBhcnQsIHRvby4KICAgICAgdmFyIGljZVBhcmFtZXRlcnMgPSB7CiAgICAgICAgdXNlcm5hbWVGcmFnbWVudDogbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YoJ2E9aWNlLXVmcmFnOicpID09PSAwOwogICAgICAgIH0pWzBdLnN1YnN0cigxMiksCiAgICAgICAgcGFzc3dvcmQ6IGxpbmVzLmZpbHRlcihmdW5jdGlvbihsaW5lKSB7CiAgICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKCdhPWljZS1wd2Q6JykgPT09IDA7CiAgICAgICAgfSlbMF0uc3Vic3RyKDEwKQogICAgICB9OwogICAgICByZXR1cm4gaWNlUGFyYW1ldGVyczsKICAgIH07CgogICAgLy8gU2VyaWFsaXplcyBJQ0UgcGFyYW1ldGVycyB0byBTRFAuCiAgICBTRFBVdGlscy53cml0ZUljZVBhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbXMpIHsKICAgICAgcmV0dXJuICdhPWljZS11ZnJhZzonICsgcGFyYW1zLnVzZXJuYW1lRnJhZ21lbnQgKyAnXHJcbicgKwogICAgICAgICAgJ2E9aWNlLXB3ZDonICsgcGFyYW1zLnBhc3N3b3JkICsgJ1xyXG4nOwogICAgfTsKCiAgICAvLyBQYXJzZXMgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGFuZCByZXR1cm5zIFJUQ1J0cFBhcmFtZXRlcnMuCiAgICBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHsKICAgICAgdmFyIGRlc2NyaXB0aW9uID0gewogICAgICAgIGNvZGVjczogW10sCiAgICAgICAgaGVhZGVyRXh0ZW5zaW9uczogW10sCiAgICAgICAgZmVjTWVjaGFuaXNtczogW10sCiAgICAgICAgcnRjcDogW10KICAgICAgfTsKICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICB2YXIgbWxpbmUgPSBsaW5lc1swXS5zcGxpdCgnICcpOwogICAgICBmb3IgKHZhciBpID0gMzsgaSA8IG1saW5lLmxlbmd0aDsgaSsrKSB7IC8vIGZpbmQgYWxsIGNvZGVjcyBmcm9tIG1saW5lWzMuLl0KICAgICAgICB2YXIgcHQgPSBtbGluZVtpXTsKICAgICAgICB2YXIgcnRwbWFwbGluZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KAogICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0cG1hcDonICsgcHQgKyAnICcpWzBdOwogICAgICAgIGlmIChydHBtYXBsaW5lKSB7CiAgICAgICAgICB2YXIgY29kZWMgPSBTRFBVdGlscy5wYXJzZVJ0cE1hcChydHBtYXBsaW5lKTsKICAgICAgICAgIHZhciBmbXRwcyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KAogICAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9Zm10cDonICsgcHQgKyAnICcpOwogICAgICAgICAgLy8gT25seSB0aGUgZmlyc3QgYT1mbXRwOjxwdD4gaXMgY29uc2lkZXJlZC4KICAgICAgICAgIGNvZGVjLnBhcmFtZXRlcnMgPSBmbXRwcy5sZW5ndGggPyBTRFBVdGlscy5wYXJzZUZtdHAoZm10cHNbMF0pIDoge307CiAgICAgICAgICBjb2RlYy5ydGNwRmVlZGJhY2sgPSBTRFBVdGlscy5tYXRjaFByZWZpeCgKICAgICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0Y3AtZmI6JyArIHB0ICsgJyAnKQogICAgICAgICAgICAubWFwKFNEUFV0aWxzLnBhcnNlUnRjcEZiKTsKICAgICAgICAgIGRlc2NyaXB0aW9uLmNvZGVjcy5wdXNoKGNvZGVjKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gRklYTUU6IHBhcnNlIGhlYWRlckV4dGVuc2lvbnMsIGZlY01lY2hhbmlzbXMgYW5kIHJ0Y3AuCiAgICAgIHJldHVybiBkZXNjcmlwdGlvbjsKICAgIH07CgogICAgLy8gR2VuZXJhdGVzIHBhcnRzIG9mIHRoZSBTRFAgbWVkaWEgc2VjdGlvbiBkZXNjcmliaW5nIHRoZSBjYXBhYmlsaXRpZXMgLyBwYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGtpbmQsIGNhcHMpIHsKICAgICAgdmFyIHNkcCA9ICcnOwoKICAgICAgLy8gQnVpbGQgdGhlIG1saW5lLgogICAgICBzZHAgKz0gJ209JyArIGtpbmQgKyAnICc7CiAgICAgIHNkcCArPSBjYXBzLmNvZGVjcy5sZW5ndGggPiAwID8gJzknIDogJzAnOyAvLyByZWplY3QgaWYgbm8gY29kZWNzLgogICAgICBzZHAgKz0gJyBVRFAvVExTL1JUUC9TQVZQRiAnOwogICAgICBzZHAgKz0gY2Fwcy5jb2RlY3MubWFwKGZ1bmN0aW9uKGNvZGVjKSB7CiAgICAgICAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvZGVjLnBheWxvYWRUeXBlOwogICAgICB9KS5qb2luKCcgJykgKyAnXHJcbic7CgogICAgICBzZHAgKz0gJ2M9SU4gSVA0IDAuMC4wLjBcclxuJzsKICAgICAgc2RwICs9ICdhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxyXG4nOwoKICAgICAgLy8gQWRkIGE9cnRwbWFwIGxpbmVzIGZvciBlYWNoIGNvZGVjLiBBbHNvIGZtdHAgYW5kIHJ0Y3AtZmIuCiAgICAgIGNhcHMuY29kZWNzLmZvckVhY2goZnVuY3Rpb24oY29kZWMpIHsKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVSdHBNYXAoY29kZWMpOwogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUZ0bXAoY29kZWMpOwogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0Y3BGYihjb2RlYyk7CiAgICAgIH0pOwogICAgICAvLyBGSVhNRTogYWRkIGhlYWRlckV4dGVuc2lvbnMsIGZlY01lY2hhbmlzbcWfIGFuZCBydGNwLgogICAgICBzZHAgKz0gJ2E9cnRjcC1tdXhcclxuJzsKICAgICAgcmV0dXJuIHNkcDsKICAgIH07CgogICAgU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgLy8gRklYTUU6IHNlc3MtaWQgc2hvdWxkIGJlIGFuIE5UUCB0aW1lc3RhbXAuCiAgICAgIHJldHVybiAndj0wXHJcbicgKwogICAgICAgICAgJ289dGhpc2lzYWRhcHRlcm9ydGMgODE2OTYzOTkxNTY0Njk0MzEzNyAyIElOIElQNCAxMjcuMC4wLjFcclxuJyArCiAgICAgICAgICAncz0tXHJcbicgKwogICAgICAgICAgJ3Q9MCAwXHJcbic7CiAgICB9OwoKICAgIFNEUFV0aWxzLndyaXRlTWVkaWFTZWN0aW9uID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsIGNhcHMsIHR5cGUsIHN0cmVhbSkgewogICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbih0cmFuc2NlaXZlci5raW5kLCBjYXBzKTsKCiAgICAgIC8vIE1hcCBJQ0UgcGFyYW1ldGVycyAodWZyYWcsIHB3ZCkgdG8gU0RQLgogICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVJY2VQYXJhbWV0ZXJzKAogICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpOwoKICAgICAgLy8gTWFwIERUTFMgcGFyYW1ldGVycyB0byBTRFAuCiAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUR0bHNQYXJhbWV0ZXJzKAogICAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSwKICAgICAgICAgIHR5cGUgPT09ICdvZmZlcicgPyAnYWN0cGFzcycgOiAnYWN0aXZlJyk7CgogICAgICBzZHAgKz0gJ2E9bWlkOicgKyB0cmFuc2NlaXZlci5taWQgKyAnXHJcbic7CgogICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7CiAgICAgICAgc2RwICs9ICdhPXNlbmRyZWN2XHJcbic7CiAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7CiAgICAgICAgc2RwICs9ICdhPXNlbmRvbmx5XHJcbic7CiAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHsKICAgICAgICBzZHAgKz0gJ2E9cmVjdm9ubHlcclxuJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZHAgKz0gJ2E9aW5hY3RpdmVcclxuJzsKICAgICAgfQoKICAgICAgLy8gRklYTUU6IGZvciBSVFggdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgU1NSQ3MuIE5vdCBpbXBsZW1lbnRlZCBpbiBFZGdlIHlldC4KICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlcikgewogICAgICAgIHZhciBtc2lkID0gJ21zaWQ6JyArIHN0cmVhbS5pZCArICcgJyArCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci50cmFjay5pZCArICdcclxuJzsKICAgICAgICBzZHAgKz0gJ2E9JyArIG1zaWQ7CiAgICAgICAgc2RwICs9ICdhPXNzcmM6JyArIHRyYW5zY2VpdmVyLnNlbmRTc3JjICsgJyAnICsgbXNpZDsKICAgICAgfQogICAgICAvLyBGSVhNRTogdGhpcyBzaG91bGQgYmUgd3JpdHRlbiBieSB3cml0ZVJ0cERlc2NyaXB0aW9uLgogICAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZFNzcmMgKyAnIGNuYW1lOicgKwogICAgICAgICAgbG9jYWxDTmFtZSArICdcclxuJzsKICAgICAgcmV0dXJuIHNkcDsKICAgIH07CgogICAgLy8gR2V0cyB0aGUgZGlyZWN0aW9uIGZyb20gdGhlIG1lZGlhU2VjdGlvbiBvciB0aGUgc2Vzc2lvbnBhcnQuCiAgICBTRFBVdGlscy5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7CiAgICAgIC8vIExvb2sgZm9yIHNlbmRyZWN2LCBzZW5kb25seSwgcmVjdm9ubHksIGluYWN0aXZlLCBkZWZhdWx0IHRvIHNlbmRyZWN2LgogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzd2l0Y2ggKGxpbmVzW2ldKSB7CiAgICAgICAgICBjYXNlICdhPXNlbmRyZWN2JzoKICAgICAgICAgIGNhc2UgJ2E9c2VuZG9ubHknOgogICAgICAgICAgY2FzZSAnYT1yZWN2b25seSc6CiAgICAgICAgICBjYXNlICdhPWluYWN0aXZlJzoKICAgICAgICAgICAgcmV0dXJuIGxpbmVzW2ldLnN1YnN0cigyKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHNlc3Npb25wYXJ0KSB7CiAgICAgICAgcmV0dXJuIFNEUFV0aWxzLmdldERpcmVjdGlvbihzZXNzaW9ucGFydCk7CiAgICAgIH0KICAgICAgcmV0dXJuICdzZW5kcmVjdic7CiAgICB9OwoKICAgIC8vIE9SVEMgZGVmaW5lcyBhbiBSVENJY2VDYW5kaWRhdGUgb2JqZWN0IGJ1dCBubyBjb25zdHJ1Y3Rvci4KICAgIC8vIE5vdCBpbXBsZW1lbnRlZCBpbiBFZGdlLgogICAgaWYgKCF3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlKSB7CiAgICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbihhcmdzKSB7CiAgICAgICAgcmV0dXJuIGFyZ3M7CiAgICAgIH07CiAgICB9CiAgICAvLyBPUlRDIGRvZXMgbm90IGhhdmUgYSBzZXNzaW9uIGRlc2NyaXB0aW9uIG9iamVjdCBidXQKICAgIC8vIG90aGVyIGJyb3dzZXJzIChpLmUuIENocm9tZSkgdGhhdCB3aWxsIHN1cHBvcnQgYm90aCBQQyBhbmQgT1JUQwogICAgLy8gaW4gdGhlIGZ1dHVyZSBtaWdodCBoYXZlIHRoaXMgZGVmaW5lZCBhbHJlYWR5LgogICAgaWYgKCF3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSB7CiAgICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbihhcmdzKSB7CiAgICAgICAgcmV0dXJuIGFyZ3M7CiAgICAgIH07CiAgICB9CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24oY29uZmlnKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIHRoaXMub25pY2VjYW5kaWRhdGUgPSBudWxsOwogICAgICB0aGlzLm9uYWRkc3RyZWFtID0gbnVsbDsKICAgICAgdGhpcy5vbnJlbW92ZXN0cmVhbSA9IG51bGw7CiAgICAgIHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgIHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICB0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQgPSBudWxsOwogICAgICB0aGlzLm9uZGF0YWNoYW5uZWwgPSBudWxsOwoKICAgICAgdGhpcy5sb2NhbFN0cmVhbXMgPSBbXTsKICAgICAgdGhpcy5yZW1vdGVTdHJlYW1zID0gW107CiAgICAgIHRoaXMuZ2V0TG9jYWxTdHJlYW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLmxvY2FsU3RyZWFtczsgfTsKICAgICAgdGhpcy5nZXRSZW1vdGVTdHJlYW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLnJlbW90ZVN0cmVhbXM7IH07CgogICAgICB0aGlzLmxvY2FsRGVzY3JpcHRpb24gPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHsKICAgICAgICB0eXBlOiAnJywKICAgICAgICBzZHA6ICcnCiAgICAgIH0pOwogICAgICB0aGlzLnJlbW90ZURlc2NyaXB0aW9uID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7CiAgICAgICAgdHlwZTogJycsCiAgICAgICAgc2RwOiAnJwogICAgICB9KTsKICAgICAgdGhpcy5zaWduYWxpbmdTdGF0ZSA9ICdzdGFibGUnOwogICAgICB0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSA9ICduZXcnOwoKICAgICAgdGhpcy5pY2VPcHRpb25zID0gewogICAgICAgIGdhdGhlclBvbGljeTogJ2FsbCcsCiAgICAgICAgaWNlU2VydmVyczogW10KICAgICAgfTsKICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgICAgc3dpdGNoIChjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgICAgICBjYXNlICdhbGwnOgogICAgICAgICAgY2FzZSAncmVsYXknOgogICAgICAgICAgICB0aGlzLmljZU9wdGlvbnMuZ2F0aGVyUG9saWN5ID0gY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdub25lJzoKICAgICAgICAgICAgLy8gRklYTUU6IHJlbW92ZSBvbmNlIGltcGxlbWVudGF0aW9uIGFuZCBzcGVjIGhhdmUgYWRkZWQgdGhpcy4KICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaWNlVHJhbnNwb3J0UG9saWN5ICJub25lIiBub3Qgc3VwcG9ydGVkJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLmljZVNlcnZlcnMpIHsKICAgICAgICAvLyBFZGdlIGRvZXMgbm90IGxpa2UKICAgICAgICAvLyAxKSBzdHVuOgogICAgICAgIC8vIDIpIHR1cm46IHRoYXQgZG9lcyBub3QgaGF2ZSBhbGwgb2YgdHVybjpob3N0OnBvcnQ/dHJhbnNwb3J0PXVkcAogICAgICAgIC8vIDMpIGFuIGFycmF5IG9mIHVybHMKICAgICAgICBjb25maWcuaWNlU2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHNlcnZlcikgewogICAgICAgICAgaWYgKHNlcnZlci51cmxzKSB7CiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgIGlmICh0eXBlb2Yoc2VydmVyLnVybHMpID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgIHVybCA9IHNlcnZlci51cmxzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVybCA9IHNlcnZlci51cmxzWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigndHJhbnNwb3J0PXVkcCcpICE9PSAtMSkgewogICAgICAgICAgICAgIHNlbGYuaWNlU2VydmVycy5wdXNoKHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBzZXJ2ZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBzZXJ2ZXIuY3JlZGVudGlhbCwKICAgICAgICAgICAgICAgIHVybHM6IHVybAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIHBlci10cmFjayBpY2VHYXRoZXJzLCBpY2VUcmFuc3BvcnRzLCBkdGxzVHJhbnNwb3J0cywgcnRwU2VuZGVycywgLi4uCiAgICAgIC8vIGV2ZXJ5dGhpbmcgdGhhdCBpcyBuZWVkZWQgdG8gZGVzY3JpYmUgYSBTRFAgbS1saW5lLgogICAgICB0aGlzLnRyYW5zY2VpdmVycyA9IFtdOwoKICAgICAgLy8gc2luY2UgdGhlIGljZUdhdGhlcmVyIGlzIGN1cnJlbnRseSBjcmVhdGVkIGluIGNyZWF0ZU9mZmVyIGJ1dCB3ZQogICAgICAvLyBtdXN0IG5vdCBlbWl0IGNhbmRpZGF0ZXMgdW50aWwgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbiB3ZSBidWZmZXIKICAgICAgLy8gdGhlbSBpbiB0aGlzIGFycmF5LgogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIgPSBbXTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fZW1pdEJ1ZmZlcmVkQ2FuZGlkYXRlcyA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIC8vIEZJWE1FOiBuZWVkIHRvIGFwcGx5IGljZSBjYW5kaWRhdGVzIGluIGEgd2F5IHdoaWNoIGlzIGFzeW5jIGJ1dCBpbi1vcmRlcgogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIuZm9yRWFjaChmdW5jdGlvbihldmVudCkgewogICAgICAgIGlmIChzZWxmLm9uaWNlY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICBzZWxmLm9uaWNlY2FuZGlkYXRlKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIgPSBbXTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHsKICAgICAgLy8gQ2xvbmUgaXMgbmVjZXNzYXJ5IGZvciBsb2NhbCBkZW1vcyBtb3N0bHksIGF0dGFjaGluZyBkaXJlY3RseQogICAgICAvLyB0byB0d28gZGlmZmVyZW50IHNlbmRlcnMgZG9lcyBub3Qgd29yayAoYnVpbGQgMTA1NDcpLgogICAgICB0aGlzLmxvY2FsU3RyZWFtcy5wdXNoKHN0cmVhbS5jbG9uZSgpKTsKICAgICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHsKICAgICAgdmFyIGlkeCA9IHRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKTsKICAgICAgaWYgKGlkeCA+IC0xKSB7CiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbXMuc3BsaWNlKGlkeCwgMSk7CiAgICAgICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTsKICAgICAgfQogICAgfTsKCiAgICAvLyBEZXRlcm1pbmVzIHRoZSBpbnRlcnNlY3Rpb24gb2YgbG9jYWwgYW5kIHJlbW90ZSBjYXBhYmlsaXRpZXMuCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9nZXRDb21tb25DYXBhYmlsaXRpZXMgPQogICAgICAgIGZ1bmN0aW9uKGxvY2FsQ2FwYWJpbGl0aWVzLCByZW1vdGVDYXBhYmlsaXRpZXMpIHsKICAgICAgdmFyIGNvbW1vbkNhcGFiaWxpdGllcyA9IHsKICAgICAgICBjb2RlY3M6IFtdLAogICAgICAgIGhlYWRlckV4dGVuc2lvbnM6IFtdLAogICAgICAgIGZlY01lY2hhbmlzbXM6IFtdCiAgICAgIH07CiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGxDb2RlYykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHJDb2RlYyA9IHJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3NbaV07CiAgICAgICAgICBpZiAobENvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gckNvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSAmJgogICAgICAgICAgICAgIGxDb2RlYy5jbG9ja1JhdGUgPT09IHJDb2RlYy5jbG9ja1JhdGUgJiYKICAgICAgICAgICAgICBsQ29kZWMubnVtQ2hhbm5lbHMgPT09IHJDb2RlYy5udW1DaGFubmVscykgewogICAgICAgICAgICAvLyBwdXNoIHJDb2RlYyBzbyB3ZSByZXBseSB3aXRoIG9mZmVyZXIgcGF5bG9hZCB0eXBlCiAgICAgICAgICAgIGNvbW1vbkNhcGFiaWxpdGllcy5jb2RlY3MucHVzaChyQ29kZWMpOwoKICAgICAgICAgICAgLy8gRklYTUU6IGFsc28gbmVlZCB0byBkZXRlcm1pbmUgaW50ZXJzZWN0aW9uIGJldHdlZW4KICAgICAgICAgICAgLy8gLnJ0Y3BGZWVkYmFjayBhbmQgLnBhcmFtZXRlcnMKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihsSGVhZGVyRXh0ZW5zaW9uKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHJIZWFkZXJFeHRlbnNpb24gPSByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9uc1tpXTsKICAgICAgICAgIGlmIChsSGVhZGVyRXh0ZW5zaW9uLnVyaSA9PT0gckhlYWRlckV4dGVuc2lvbi51cmkpIHsKICAgICAgICAgICAgY29tbW9uQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMucHVzaChySGVhZGVyRXh0ZW5zaW9uKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIEZJWE1FOiBmZWNNZWNoYW5pc21zCiAgICAgIHJldHVybiBjb21tb25DYXBhYmlsaXRpZXM7CiAgICB9OwoKICAgIC8vIENyZWF0ZSBJQ0UgZ2F0aGVyZXIsIElDRSB0cmFuc3BvcnQgYW5kIERUTFMgdHJhbnNwb3J0LgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMgPQogICAgICAgIGZ1bmN0aW9uKG1pZCwgc2RwTUxpbmVJbmRleCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpY2VHYXRoZXJlciA9IG5ldyBSVENJY2VHYXRoZXJlcihzZWxmLmljZU9wdGlvbnMpOwogICAgICB2YXIgaWNlVHJhbnNwb3J0ID0gbmV3IFJUQ0ljZVRyYW5zcG9ydChpY2VHYXRoZXJlcik7CiAgICAgIGljZUdhdGhlcmVyLm9ubG9jYWxjYW5kaWRhdGUgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICB2YXIgZXZlbnQgPSB7fTsKICAgICAgICBldmVudC5jYW5kaWRhdGUgPSB7c2RwTWlkOiBtaWQsIHNkcE1MaW5lSW5kZXg6IHNkcE1MaW5lSW5kZXh9OwoKICAgICAgICB2YXIgY2FuZCA9IGV2dC5jYW5kaWRhdGU7CiAgICAgICAgLy8gRWRnZSBlbWl0cyBhbiBlbXB0eSBvYmplY3QgZm9yIFJUQ0ljZUNhbmRpZGF0ZUNvbXBsZXRl4oClCiAgICAgICAgaWYgKCFjYW5kIHx8IE9iamVjdC5rZXlzKGNhbmQpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgLy8gcG9seWZpbGwgc2luY2UgUlRDSWNlR2F0aGVyZXIuc3RhdGUgaXMgbm90IGltcGxlbWVudGVkIGluIEVkZ2UgMTA1NDcgeWV0LgogICAgICAgICAgaWYgKGljZUdhdGhlcmVyLnN0YXRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWNlR2F0aGVyZXIuc3RhdGUgPSAnY29tcGxldGVkJzsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBFbWl0IGEgY2FuZGlkYXRlIHdpdGggdHlwZSBlbmRPZkNhbmRpZGF0ZXMgdG8gbWFrZSB0aGUgc2FtcGxlcyB3b3JrLgogICAgICAgICAgLy8gRWRnZSByZXF1aXJlcyBhZGRJY2VDYW5kaWRhdGUgd2l0aCB0aGlzIGVtcHR5IGNhbmRpZGF0ZSB0byBzdGFydCBjaGVja2luZy4KICAgICAgICAgIC8vIFRoZSByZWFsIHNvbHV0aW9uIGlzIHRvIHNpZ25hbCBlbmQtb2YtY2FuZGlkYXRlcyB0byB0aGUgb3RoZXIgc2lkZSB3aGVuCiAgICAgICAgICAvLyBnZXR0aW5nIHRoZSBudWxsIGNhbmRpZGF0ZSBidXQgc29tZSBhcHBzIChsaWtlIHRoZSBzYW1wbGVzKSBkb24ndCBkbyB0aGF0LgogICAgICAgICAgZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9CiAgICAgICAgICAgICAgJ2NhbmRpZGF0ZToxIDEgdWRwIDEgMC4wLjAuMCA5IHR5cCBlbmRPZkNhbmRpZGF0ZXMnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBSVENJY2VDYW5kaWRhdGUgZG9lc24ndCBoYXZlIGEgY29tcG9uZW50LCBuZWVkcyB0byBiZSBhZGRlZAogICAgICAgICAgY2FuZC5jb21wb25lbnQgPSBpY2VUcmFuc3BvcnQuY29tcG9uZW50ID09PSAnUlRDUCcgPyAyIDogMTsKICAgICAgICAgIGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUgPSBTRFBVdGlscy53cml0ZUNhbmRpZGF0ZShjYW5kKTsKICAgICAgICB9CgogICAgICAgIHZhciBjb21wbGV0ZSA9IHNlbGYudHJhbnNjZWl2ZXJzLmV2ZXJ5KGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgICByZXR1cm4gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIgJiYKICAgICAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCc7CiAgICAgICAgfSk7CiAgICAgICAgLy8gRklYTUU6IHVwZGF0ZSAubG9jYWxEZXNjcmlwdGlvbiB3aXRoIGNhbmRpZGF0ZSBhbmQgKHBvdGVudGlhbGx5KSBlbmQtb2YtY2FuZGlkYXRlcy4KICAgICAgICAvLyAgICAgVG8gbWFrZSB0aGlzIGhhcmRlciwgdGhlIGdhdGhlcmVyIG1pZ2h0IGVtaXQgY2FuZGlkYXRlcyBiZWZvcmUgbG9jYWxkZXNjcmlwdGlvbgogICAgICAgIC8vICAgICBpcyBzZXQuIFRvIG1ha2UgdGhpbmdzIHdvcnNlLCBnYXRoZXIuZ2V0TG9jYWxDYW5kaWRhdGVzIHN0aWxsIGVycm9ycyBpbgogICAgICAgIC8vICAgICBFZGdlIDEwNTQ3IHdoZW4gbm8gY2FuZGlkYXRlcyBoYXZlIGJlZW4gZ2F0aGVyZWQgeWV0LgoKICAgICAgICBpZiAoc2VsZi5vbmljZWNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgLy8gRW1pdCBjYW5kaWRhdGUgaWYgbG9jYWxEZXNjcmlwdGlvbiBpcyBzZXQuCiAgICAgICAgICAvLyBBbHNvIGVtaXRzIG51bGwgY2FuZGlkYXRlIHdoZW4gYWxsIGdhdGhlcmVycyBhcmUgY29tcGxldGUuCiAgICAgICAgICBpZiAoc2VsZi5sb2NhbERlc2NyaXB0aW9uICYmIHNlbGYubG9jYWxEZXNjcmlwdGlvbi50eXBlID09PSAnJykgewogICAgICAgICAgICBzZWxmLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIucHVzaChldmVudCk7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkgewogICAgICAgICAgICAgIHNlbGYuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5wdXNoKHt9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5vbmljZWNhbmRpZGF0ZShldmVudCk7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkgewogICAgICAgICAgICAgIHNlbGYub25pY2VjYW5kaWRhdGUoe30pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICBpY2VUcmFuc3BvcnQub25pY2VzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGYuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpOwogICAgICB9OwoKICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSBuZXcgUlRDRHRsc1RyYW5zcG9ydChpY2VUcmFuc3BvcnQpOwogICAgICBkdGxzVHJhbnNwb3J0Lm9uZHRsc3N0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2VsZi5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCk7CiAgICAgIH07CiAgICAgIGR0bHNUcmFuc3BvcnQub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIG9uZXJyb3IgZG9lcyBub3Qgc2V0IHN0YXRlIHRvIGZhaWxlZCBieSBpdHNlbGYuCiAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGF0ZSA9ICdmYWlsZWQnOwogICAgICAgIHNlbGYuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHsKICAgICAgICBpY2VHYXRoZXJlcjogaWNlR2F0aGVyZXIsCiAgICAgICAgaWNlVHJhbnNwb3J0OiBpY2VUcmFuc3BvcnQsCiAgICAgICAgZHRsc1RyYW5zcG9ydDogZHRsc1RyYW5zcG9ydAogICAgICB9OwogICAgfTsKCiAgICAvLyBTdGFydCB0aGUgUlRQIFNlbmRlciBhbmQgUmVjZWl2ZXIgZm9yIGEgdHJhbnNjZWl2ZXIuCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl90cmFuc2NlaXZlID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsCiAgICAgICAgc2VuZCwgcmVjdikgewogICAgICB2YXIgcGFyYW1zID0gdGhpcy5fZ2V0Q29tbW9uQ2FwYWJpbGl0aWVzKHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzKTsKICAgICAgaWYgKHNlbmQgJiYgdHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7CiAgICAgICAgcGFyYW1zLmVuY29kaW5ncyA9IFt7CiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5zZW5kU3NyYwogICAgICAgIH1dOwogICAgICAgIHBhcmFtcy5ydGNwID0gewogICAgICAgICAgY25hbWU6IGxvY2FsQ05hbWUsCiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5yZWN2U3NyYwogICAgICAgIH07CiAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnNlbmQocGFyYW1zKTsKICAgICAgfQogICAgICBpZiAocmVjdiAmJiB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikgewogICAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSBbewogICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIucmVjdlNzcmMKICAgICAgICB9XTsKICAgICAgICBwYXJhbXMucnRjcCA9IHsKICAgICAgICAgIGNuYW1lOiB0cmFuc2NlaXZlci5jbmFtZSwKICAgICAgICAgIHNzcmM6IHRyYW5zY2VpdmVyLnNlbmRTc3JjCiAgICAgICAgfTsKICAgICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlci5yZWNlaXZlKHBhcmFtcyk7CiAgICAgIH0KICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uID0KICAgICAgICBmdW5jdGlvbihkZXNjcmlwdGlvbikgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7CiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nT2ZmZXIpIHsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50cmFuc2NlaXZlcnMgPSB0aGlzLl9wZW5kaW5nT2ZmZXI7CiAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ09mZmVyOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJykgewogICAgICAgIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoc2VsZi5yZW1vdGVEZXNjcmlwdGlvbi5zZHApOwogICAgICAgIHZhciBzZXNzaW9ucGFydCA9IHNlY3Rpb25zLnNoaWZ0KCk7CiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNkcE1MaW5lSW5kZXgpIHsKICAgICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdOwogICAgICAgICAgdmFyIGljZUdhdGhlcmVyID0gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXI7CiAgICAgICAgICB2YXIgaWNlVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0OwogICAgICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0OwogICAgICAgICAgdmFyIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7CiAgICAgICAgICB2YXIgcmVtb3RlQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzOwogICAgICAgICAgdmFyIHJlamVjdGVkID0gbWVkaWFTZWN0aW9uLnNwbGl0KCdcbicsIDEpWzBdCiAgICAgICAgICAgICAgLnNwbGl0KCcgJywgMilbMV0gPT09ICcwJzsKCiAgICAgICAgICBpZiAoIXJlamVjdGVkKSB7CiAgICAgICAgICAgIHZhciByZW1vdGVJY2VQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0SWNlUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24sCiAgICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7CiAgICAgICAgICAgIGljZVRyYW5zcG9ydC5zdGFydChpY2VHYXRoZXJlciwgcmVtb3RlSWNlUGFyYW1ldGVycywgJ2NvbnRyb2xsZWQnKTsKCiAgICAgICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbiwKICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7CiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQuc3RhcnQocmVtb3RlRHRsc1BhcmFtZXRlcnMpOwoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbiBvZiBjYXBhYmlsaXRpZXMuCiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZWxmLl9nZXRDb21tb25DYXBhYmlsaXRpZXMobG9jYWxDYXBhYmlsaXRpZXMsCiAgICAgICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXMpOwoKICAgICAgICAgICAgLy8gU3RhcnQgdGhlIFJUQ1J0cFNlbmRlci4gVGhlIFJUQ1J0cFJlY2VpdmVyIGZvciB0aGlzIHRyYW5zY2VpdmVyCiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBpbiBzZXRSZW1vdGVEZXNjcmlwdGlvbi4KICAgICAgICAgICAgc2VsZi5fdHJhbnNjZWl2ZSh0cmFuc2NlaXZlciwKICAgICAgICAgICAgICAgIHBhcmFtcy5jb2RlY3MubGVuZ3RoID4gMCwKICAgICAgICAgICAgICAgIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5sb2NhbERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb24udHlwZSkgewogICAgICAgIGNhc2UgJ29mZmVyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdoYXZlLWxvY2FsLW9mZmVyJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdhbnN3ZXInOgogICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ3N0YWJsZScpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJyInKTsKICAgICAgfQoKICAgICAgLy8gSWYgYSBzdWNjZXNzIGNhbGxiYWNrIHdhcyBwcm92aWRlZCwgZW1pdCBJQ0UgY2FuZGlkYXRlcyBhZnRlciBpdCBoYXMgYmVlbgogICAgICAvLyBleGVjdXRlZC4gT3RoZXJ3aXNlLCBlbWl0IGNhbGxiYWNrIGFmdGVyIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkLgogICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJgogICAgICAgIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbic7CiAgICAgIGlmIChoYXNDYWxsYmFjaykgewogICAgICAgIHZhciBjYiA9IGFyZ3VtZW50c1sxXTsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIGNiKCk7CiAgICAgICAgICBzZWxmLl9lbWl0QnVmZmVyZWRDYW5kaWRhdGVzKCk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgcC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIGlmICghaGFzQ2FsbGJhY2spIHsKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNlbGYuX2VtaXRCdWZmZXJlZENhbmRpZGF0ZXMuYmluZChzZWxmKSwgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHA7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPQogICAgICAgIGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpOwogICAgICB2YXIgc2VjdGlvbnMgPSBTRFBVdGlscy5zcGxpdFNlY3Rpb25zKGRlc2NyaXB0aW9uLnNkcCk7CiAgICAgIHZhciBzZXNzaW9ucGFydCA9IHNlY3Rpb25zLnNoaWZ0KCk7CiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZHBNTGluZUluZGV4KSB7CiAgICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICAgIHZhciBtbGluZSA9IGxpbmVzWzBdLnN1YnN0cigyKS5zcGxpdCgnICcpOwogICAgICAgIHZhciBraW5kID0gbWxpbmVbMF07CiAgICAgICAgdmFyIHJlamVjdGVkID0gbWxpbmVbMV0gPT09ICcwJzsKICAgICAgICB2YXIgZGlyZWN0aW9uID0gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpOwoKICAgICAgICB2YXIgdHJhbnNjZWl2ZXI7CiAgICAgICAgdmFyIGljZUdhdGhlcmVyOwogICAgICAgIHZhciBpY2VUcmFuc3BvcnQ7CiAgICAgICAgdmFyIGR0bHNUcmFuc3BvcnQ7CiAgICAgICAgdmFyIHJ0cFNlbmRlcjsKICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7CiAgICAgICAgdmFyIHNlbmRTc3JjOwogICAgICAgIHZhciByZWN2U3NyYzsKICAgICAgICB2YXIgbG9jYWxDYXBhYmlsaXRpZXM7CgogICAgICAgIC8vIEZJWE1FOiBlbnN1cmUgdGhlIG1lZGlhU2VjdGlvbiBoYXMgcnRjcC1tdXggc2V0LgogICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMobWVkaWFTZWN0aW9uKTsKICAgICAgICB2YXIgcmVtb3RlSWNlUGFyYW1ldGVyczsKICAgICAgICB2YXIgcmVtb3RlRHRsc1BhcmFtZXRlcnM7CiAgICAgICAgaWYgKCFyZWplY3RlZCkgewogICAgICAgICAgcmVtb3RlSWNlUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldEljZVBhcmFtZXRlcnMobWVkaWFTZWN0aW9uLAogICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICAgIHJlbW90ZUR0bHNQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMobWVkaWFTZWN0aW9uLAogICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICB9CiAgICAgICAgdmFyIG1pZCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9bWlkOicpWzBdLnN1YnN0cig2KTsKCiAgICAgICAgdmFyIGNuYW1lOwogICAgICAgIC8vIEdldHMgdGhlIGZpcnN0IFNTUkMuIE5vdGUgdGhhdCB3aXRoIFJUWCB0aGVyZSBtaWdodCBiZSBtdWx0aXBsZSBTU1JDcy4KICAgICAgICB2YXIgcmVtb3RlU3NyYyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9c3NyYzonKQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICAgICAgICByZXR1cm4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG9iai5hdHRyaWJ1dGUgPT09ICdjbmFtZSc7CiAgICAgICAgICAgIH0pWzBdOwogICAgICAgIGlmIChyZW1vdGVTc3JjKSB7CiAgICAgICAgICByZWN2U3NyYyA9IHBhcnNlSW50KHJlbW90ZVNzcmMuc3NyYywgMTApOwogICAgICAgICAgY25hbWUgPSByZW1vdGVTc3JjLnZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHsKICAgICAgICAgIHZhciB0cmFuc3BvcnRzID0gc2VsZi5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMobWlkLCBzZHBNTGluZUluZGV4KTsKCiAgICAgICAgICBsb2NhbENhcGFiaWxpdGllcyA9IFJUQ1J0cFJlY2VpdmVyLmdldENhcGFiaWxpdGllcyhraW5kKTsKICAgICAgICAgIHNlbmRTc3JjID0gKDIgKiBzZHBNTGluZUluZGV4ICsgMikgKiAxMDAxOwoKICAgICAgICAgIHJ0cFJlY2VpdmVyID0gbmV3IFJUQ1J0cFJlY2VpdmVyKHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwga2luZCk7CgogICAgICAgICAgLy8gRklYTUU6IG5vdCBjb3JyZWN0IHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIHN0cmVhbXMgYnV0IHRoYXQgaXMKICAgICAgICAgIC8vIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluIHRoaXMgc2hpbS4KICAgICAgICAgIHN0cmVhbS5hZGRUcmFjayhydHBSZWNlaXZlci50cmFjayk7CgogICAgICAgICAgLy8gRklYTUU6IGxvb2sgYXQgZGlyZWN0aW9uLgogICAgICAgICAgaWYgKHNlbGYubG9jYWxTdHJlYW1zLmxlbmd0aCA+IDAgJiYKICAgICAgICAgICAgICBzZWxmLmxvY2FsU3RyZWFtc1swXS5nZXRUcmFja3MoKS5sZW5ndGggPj0gc2RwTUxpbmVJbmRleCkgewogICAgICAgICAgICAvLyBGSVhNRTogYWN0dWFsbHkgbW9yZSBjb21wbGljYXRlZCwgbmVlZHMgdG8gbWF0Y2ggdHlwZXMgZXRjCiAgICAgICAgICAgIHZhciBsb2NhbHRyYWNrID0gc2VsZi5sb2NhbFN0cmVhbXNbMF0uZ2V0VHJhY2tzKClbc2RwTUxpbmVJbmRleF07CiAgICAgICAgICAgIHJ0cFNlbmRlciA9IG5ldyBSVENSdHBTZW5kZXIobG9jYWx0cmFjaywgdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHsKICAgICAgICAgICAgaWNlR2F0aGVyZXI6IHRyYW5zcG9ydHMuaWNlR2F0aGVyZXIsCiAgICAgICAgICAgIGljZVRyYW5zcG9ydDogdHJhbnNwb3J0cy5pY2VUcmFuc3BvcnQsCiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwKICAgICAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXM6IGxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXM6IHJlbW90ZUNhcGFiaWxpdGllcywKICAgICAgICAgICAgcnRwU2VuZGVyOiBydHBTZW5kZXIsCiAgICAgICAgICAgIHJ0cFJlY2VpdmVyOiBydHBSZWNlaXZlciwKICAgICAgICAgICAga2luZDoga2luZCwKICAgICAgICAgICAgbWlkOiBtaWQsCiAgICAgICAgICAgIGNuYW1lOiBjbmFtZSwKICAgICAgICAgICAgc2VuZFNzcmM6IHNlbmRTc3JjLAogICAgICAgICAgICByZWN2U3NyYzogcmVjdlNzcmMKICAgICAgICAgIH07CiAgICAgICAgICAvLyBTdGFydCB0aGUgUlRDUnRwUmVjZWl2ZXIgbm93LiBUaGUgUlRQU2VuZGVyIGlzIHN0YXJ0ZWQgaW4gc2V0TG9jYWxEZXNjcmlwdGlvbi4KICAgICAgICAgIHNlbGYuX3RyYW5zY2VpdmUoc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0sCiAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgZGlyZWN0aW9uID09PSAnc2VuZHJlY3YnIHx8IGRpcmVjdGlvbiA9PT0gJ3NlbmRvbmx5Jyk7CiAgICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJyAmJiAhcmVqZWN0ZWQpIHsKICAgICAgICAgIHRyYW5zY2VpdmVyID0gc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF07CiAgICAgICAgICBpY2VHYXRoZXJlciA9IHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyOwogICAgICAgICAgaWNlVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0OwogICAgICAgICAgZHRsc1RyYW5zcG9ydCA9IHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQ7CiAgICAgICAgICBydHBTZW5kZXIgPSB0cmFuc2NlaXZlci5ydHBTZW5kZXI7CiAgICAgICAgICBydHBSZWNlaXZlciA9IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyOwogICAgICAgICAgc2VuZFNzcmMgPSB0cmFuc2NlaXZlci5zZW5kU3NyYzsKICAgICAgICAgIC8vcmVjdlNzcmMgPSB0cmFuc2NlaXZlci5yZWN2U3NyYzsKICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7CgogICAgICAgICAgc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0ucmVjdlNzcmMgPSByZWN2U3NyYzsKICAgICAgICAgIHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLnJlbW90ZUNhcGFiaWxpdGllcyA9CiAgICAgICAgICAgICAgcmVtb3RlQ2FwYWJpbGl0aWVzOwogICAgICAgICAgc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uY25hbWUgPSBjbmFtZTsKCiAgICAgICAgICBpY2VUcmFuc3BvcnQuc3RhcnQoaWNlR2F0aGVyZXIsIHJlbW90ZUljZVBhcmFtZXRlcnMsICdjb250cm9sbGluZycpOwogICAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGFydChyZW1vdGVEdGxzUGFyYW1ldGVycyk7CgogICAgICAgICAgc2VsZi5fdHJhbnNjZWl2ZSh0cmFuc2NlaXZlciwKICAgICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAncmVjdm9ubHknLAogICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdzZW5kb25seScpOwoKICAgICAgICAgIGlmIChydHBSZWNlaXZlciAmJgogICAgICAgICAgICAgIChkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKSkgewogICAgICAgICAgICBzdHJlYW0uYWRkVHJhY2socnRwUmVjZWl2ZXIudHJhY2spOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gRklYTUU6IGFjdHVhbGx5IHRoZSByZWNlaXZlciBzaG91bGQgYmUgY3JlYXRlZCBsYXRlci4KICAgICAgICAgICAgZGVsZXRlIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLnJlbW90ZURlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb24udHlwZSkgewogICAgICAgIGNhc2UgJ29mZmVyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdoYXZlLXJlbW90ZS1vZmZlcicpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYW5zd2VyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdzdGFibGUnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlICInICsgZGVzY3JpcHRpb24udHlwZSArICciJyk7CiAgICAgIH0KICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHNlbGYub25hZGRzdHJlYW0gIT09IG51bGwgJiYgc3RyZWFtLmdldFRyYWNrcygpLmxlbmd0aCkgewogICAgICAgICAgc2VsZi5yZW1vdGVTdHJlYW1zLnB1c2goc3RyZWFtKTsKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZWxmLm9uYWRkc3RyZWFtKHtzdHJlYW06IHN0cmVhbX0pOwogICAgICAgICAgfSwgMCk7CiAgICAgICAgfQogICAgICB9LCAwKTsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sIDApOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgLyogbm90IHlldAogICAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VHYXRoZXJlcikgewogICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIuY2xvc2UoKTsKICAgICAgICB9CiAgICAgICAgKi8KICAgICAgICBpZiAodHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0KSB7CiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RvcCgpOwogICAgICAgIH0KICAgICAgICBpZiAodHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydCkgewogICAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHsKICAgICAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikgewogICAgICAgICAgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIEZJWE1FOiBjbGVhbiB1cCB0cmFja3MsIGxvY2FsIHN0cmVhbXMsIHJlbW90ZSBzdHJlYW1zLCBldGMKICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2Nsb3NlZCcpOwogICAgfTsKCiAgICAvLyBVcGRhdGUgdGhlIHNpZ25hbGluZyBzdGF0ZS4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlID0KICAgICAgICBmdW5jdGlvbihuZXdTdGF0ZSkgewogICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gbmV3U3RhdGU7CiAgICAgIGlmICh0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgIT09IG51bGwpIHsKICAgICAgICB0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UoKTsKICAgICAgfQogICAgfTsKCiAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0byBmaXJlIHRoZSBuZWdvdGlhdGlvbm5lZWRlZCBldmVudC4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkID0KICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgLy8gRmlyZSBhd2F5IChmb3Igbm93KS4KICAgICAgaWYgKHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCgpOwogICAgICB9CiAgICB9OwoKICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbiBzdGF0ZS4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSA9CiAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIG5ld1N0YXRlOwogICAgICB2YXIgc3RhdGVzID0gewogICAgICAgICduZXcnOiAwLAogICAgICAgIGNsb3NlZDogMCwKICAgICAgICBjb25uZWN0aW5nOiAwLAogICAgICAgIGNoZWNraW5nOiAwLAogICAgICAgIGNvbm5lY3RlZDogMCwKICAgICAgICBjb21wbGV0ZWQ6IDAsCiAgICAgICAgZmFpbGVkOiAwCiAgICAgIH07CiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnN0YXRlXSsrOwogICAgICAgIHN0YXRlc1t0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LnN0YXRlXSsrOwogICAgICB9KTsKICAgICAgLy8gSUNFVHJhbnNwb3J0LmNvbXBsZXRlZCBhbmQgY29ubmVjdGVkIGFyZSB0aGUgc2FtZSBmb3IgdGhpcyBwdXJwb3NlLgogICAgICBzdGF0ZXMuY29ubmVjdGVkICs9IHN0YXRlcy5jb21wbGV0ZWQ7CgogICAgICBuZXdTdGF0ZSA9ICduZXcnOwogICAgICBpZiAoc3RhdGVzLmZhaWxlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdmYWlsZWQnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb25uZWN0aW5nID4gMCB8fCBzdGF0ZXMuY2hlY2tpbmcgPiAwKSB7CiAgICAgICAgbmV3U3RhdGUgPSAnY29ubmVjdGluZyc7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGVzLmRpc2Nvbm5lY3RlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdkaXNjb25uZWN0ZWQnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlcy5uZXcgPiAwKSB7CiAgICAgICAgbmV3U3RhdGUgPSAnbmV3JzsKICAgICAgfSBlbHNlIGlmIChzdGF0ZXMuY29ubmVjdGluZyA+IDAgfHwgc3RhdGVzLmNvbXBsZXRlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdjb25uZWN0ZWQnOwogICAgICB9CgogICAgICBpZiAobmV3U3RhdGUgIT09IHNlbGYuaWNlQ29ubmVjdGlvblN0YXRlKSB7CiAgICAgICAgc2VsZi5pY2VDb25uZWN0aW9uU3RhdGUgPSBuZXdTdGF0ZTsKICAgICAgICBpZiAodGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSAhPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKHRoaXMuX3BlbmRpbmdPZmZlcikgewogICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlT2ZmZXIgY2FsbGVkIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyBvZmZlci4nKTsKICAgICAgfQogICAgICB2YXIgb2ZmZXJPcHRpb25zOwogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgb2ZmZXJPcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHsKICAgICAgICBvZmZlck9wdGlvbnMgPSBhcmd1bWVudHNbMl07CiAgICAgIH0KCiAgICAgIHZhciB0cmFja3MgPSBbXTsKICAgICAgdmFyIG51bUF1ZGlvVHJhY2tzID0gMDsKICAgICAgdmFyIG51bVZpZGVvVHJhY2tzID0gMDsKICAgICAgLy8gRGVmYXVsdCB0byBzZW5kcmVjdi4KICAgICAgaWYgKHRoaXMubG9jYWxTdHJlYW1zLmxlbmd0aCkgewogICAgICAgIG51bUF1ZGlvVHJhY2tzID0gdGhpcy5sb2NhbFN0cmVhbXNbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg7CiAgICAgICAgbnVtVmlkZW9UcmFja3MgPSB0aGlzLmxvY2FsU3RyZWFtc1swXS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aDsKICAgICAgfQogICAgICAvLyBEZXRlcm1pbmUgbnVtYmVyIG9mIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3Mgd2UgbmVlZCB0byBzZW5kL3JlY3YuCiAgICAgIGlmIChvZmZlck9wdGlvbnMpIHsKICAgICAgICAvLyBSZWplY3QgQ2hyb21lIGxlZ2FjeSBjb25zdHJhaW50cy4KICAgICAgICBpZiAob2ZmZXJPcHRpb25zLm1hbmRhdG9yeSB8fCBvZmZlck9wdGlvbnMub3B0aW9uYWwpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoCiAgICAgICAgICAgICAgJ0xlZ2FjeSBtYW5kYXRvcnkvb3B0aW9uYWwgY29uc3RyYWludHMgbm90IHN1cHBvcnRlZC4nKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG51bUF1ZGlvVHJhY2tzID0gb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW87CiAgICAgICAgfQogICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBudW1WaWRlb1RyYWNrcyA9IG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5sb2NhbFN0cmVhbXMubGVuZ3RoKSB7CiAgICAgICAgLy8gUHVzaCBsb2NhbCBzdHJlYW1zLgogICAgICAgIHRoaXMubG9jYWxTdHJlYW1zWzBdLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHsKICAgICAgICAgIHRyYWNrcy5wdXNoKHsKICAgICAgICAgICAga2luZDogdHJhY2sua2luZCwKICAgICAgICAgICAgdHJhY2s6IHRyYWNrLAogICAgICAgICAgICB3YW50UmVjZWl2ZTogdHJhY2sua2luZCA9PT0gJ2F1ZGlvJyA/CiAgICAgICAgICAgICAgICBudW1BdWRpb1RyYWNrcyA+IDAgOiBudW1WaWRlb1RyYWNrcyA+IDAKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09ICdhdWRpbycpIHsKICAgICAgICAgICAgbnVtQXVkaW9UcmFja3MtLTsKICAgICAgICAgIH0gZWxzZSBpZiAodHJhY2sua2luZCA9PT0gJ3ZpZGVvJykgewogICAgICAgICAgICBudW1WaWRlb1RyYWNrcy0tOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIENyZWF0ZSBNLWxpbmVzIGZvciByZWN2b25seSBzdHJlYW1zLgogICAgICB3aGlsZSAobnVtQXVkaW9UcmFja3MgPiAwIHx8IG51bVZpZGVvVHJhY2tzID4gMCkgewogICAgICAgIGlmIChudW1BdWRpb1RyYWNrcyA+IDApIHsKICAgICAgICAgIHRyYWNrcy5wdXNoKHsKICAgICAgICAgICAga2luZDogJ2F1ZGlvJywKICAgICAgICAgICAgd2FudFJlY2VpdmU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgbnVtQXVkaW9UcmFja3MtLTsKICAgICAgICB9CiAgICAgICAgaWYgKG51bVZpZGVvVHJhY2tzID4gMCkgewogICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICBraW5kOiAndmlkZW8nLAogICAgICAgICAgICB3YW50UmVjZWl2ZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBudW1WaWRlb1RyYWNrcy0tOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHNkcCA9IFNEUFV0aWxzLndyaXRlU2Vzc2lvbkJvaWxlcnBsYXRlKCk7CiAgICAgIHZhciB0cmFuc2NlaXZlcnMgPSBbXTsKICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24obWxpbmUsIHNkcE1MaW5lSW5kZXgpIHsKICAgICAgICAvLyBGb3IgZWFjaCB0cmFjaywgY3JlYXRlIGFuIGljZSBnYXRoZXJlciwgaWNlIHRyYW5zcG9ydCwgZHRscyB0cmFuc3BvcnQsCiAgICAgICAgLy8gcG90ZW50aWFsbHkgcnRwc2VuZGVyIGFuZCBydHByZWNlaXZlci4KICAgICAgICB2YXIgdHJhY2sgPSBtbGluZS50cmFjazsKICAgICAgICB2YXIga2luZCA9IG1saW5lLmtpbmQ7CiAgICAgICAgdmFyIG1pZCA9IGdlbmVyYXRlSWRlbnRpZmllcigpOwoKICAgICAgICB2YXIgdHJhbnNwb3J0cyA9IHNlbGYuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzKG1pZCwgc2RwTUxpbmVJbmRleCk7CgogICAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllcyA9IFJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMoa2luZCk7CiAgICAgICAgdmFyIHJ0cFNlbmRlcjsKICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7CgogICAgICAgIC8vIGdlbmVyYXRlIGFuIHNzcmMgbm93LCB0byBiZSB1c2VkIGxhdGVyIGluIHJ0cFNlbmRlci5zZW5kCiAgICAgICAgdmFyIHNlbmRTc3JjID0gKDIgKiBzZHBNTGluZUluZGV4ICsgMSkgKiAxMDAxOwogICAgICAgIGlmICh0cmFjaykgewogICAgICAgICAgcnRwU2VuZGVyID0gbmV3IFJUQ1J0cFNlbmRlcih0cmFjaywgdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0KTsKICAgICAgICB9CgogICAgICAgIGlmIChtbGluZS53YW50UmVjZWl2ZSkgewogICAgICAgICAgcnRwUmVjZWl2ZXIgPSBuZXcgUlRDUnRwUmVjZWl2ZXIodHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LCBraW5kKTsKICAgICAgICB9CgogICAgICAgIHRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHsKICAgICAgICAgIGljZUdhdGhlcmVyOiB0cmFuc3BvcnRzLmljZUdhdGhlcmVyLAogICAgICAgICAgaWNlVHJhbnNwb3J0OiB0cmFuc3BvcnRzLmljZVRyYW5zcG9ydCwKICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwKICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzOiBsb2NhbENhcGFiaWxpdGllcywKICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllczogbnVsbCwKICAgICAgICAgIHJ0cFNlbmRlcjogcnRwU2VuZGVyLAogICAgICAgICAgcnRwUmVjZWl2ZXI6IHJ0cFJlY2VpdmVyLAogICAgICAgICAga2luZDoga2luZCwKICAgICAgICAgIG1pZDogbWlkLAogICAgICAgICAgc2VuZFNzcmM6IHNlbmRTc3JjLAogICAgICAgICAgcmVjdlNzcmM6IG51bGwKICAgICAgICB9OwogICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XTsKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLCAnb2ZmZXInLCBzZWxmLmxvY2FsU3RyZWFtc1swXSk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5fcGVuZGluZ09mZmVyID0gdHJhbnNjZWl2ZXJzOwogICAgICB2YXIgZGVzYyA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oewogICAgICAgIHR5cGU6ICdvZmZlcicsCiAgICAgICAgc2RwOiBzZHAKICAgICAgfSk7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sIDAsIGRlc2MpOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzYyk7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGFuc3dlck9wdGlvbnM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdmdW5jdGlvbicpIHsKICAgICAgICBhbnN3ZXJPcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHsKICAgICAgICBhbnN3ZXJPcHRpb25zID0gYXJndW1lbnRzWzJdOwogICAgICB9CgogICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUoKTsKICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikgewogICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb24gb2YgY2FwYWJpbGl0aWVzLgogICAgICAgIHZhciBjb21tb25DYXBhYmlsaXRpZXMgPSBzZWxmLl9nZXRDb21tb25DYXBhYmlsaXRpZXMoCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMpOwoKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsIGNvbW1vbkNhcGFiaWxpdGllcywKICAgICAgICAgICAgJ2Fuc3dlcicsIHNlbGYubG9jYWxTdHJlYW1zWzBdKTsKICAgICAgfSk7CgogICAgICB2YXIgZGVzYyA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oewogICAgICAgIHR5cGU6ICdhbnN3ZXInLAogICAgICAgIHNkcDogc2RwCiAgICAgIH0pOwogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLCAwLCBkZXNjKTsKICAgICAgfQogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2MpOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGNhbmRpZGF0ZSkgewogICAgICB2YXIgbUxpbmVJbmRleCA9IGNhbmRpZGF0ZS5zZHBNTGluZUluZGV4OwogICAgICBpZiAoY2FuZGlkYXRlLnNkcE1pZCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLnRyYW5zY2VpdmVyc1tpXS5taWQgPT09IGNhbmRpZGF0ZS5zZHBNaWQpIHsKICAgICAgICAgICAgbUxpbmVJbmRleCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyc1ttTGluZUluZGV4XTsKICAgICAgaWYgKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgdmFyIGNhbmQgPSBPYmplY3Qua2V5cyhjYW5kaWRhdGUuY2FuZGlkYXRlKS5sZW5ndGggPiAwID8KICAgICAgICAgICAgU0RQVXRpbHMucGFyc2VDYW5kaWRhdGUoY2FuZGlkYXRlLmNhbmRpZGF0ZSkgOiB7fTsKICAgICAgICAvLyBJZ25vcmUgQ2hyb21lJ3MgaW52YWxpZCBjYW5kaWRhdGVzIHNpbmNlIEVkZ2UgZG9lcyBub3QgbGlrZSB0aGVtLgogICAgICAgIGlmIChjYW5kLnByb3RvY29sID09PSAndGNwJyAmJiBjYW5kLnBvcnQgPT09IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gSWdub3JlIFJUQ1AgY2FuZGlkYXRlcywgd2UgYXNzdW1lIFJUQ1AtTVVYLgogICAgICAgIGlmIChjYW5kLmNvbXBvbmVudCAhPT0gJzEnKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIEEgZGlydHkgaGFjayB0byBtYWtlIHNhbXBsZXMgd29yay4KICAgICAgICBpZiAoY2FuZC50eXBlID09PSAnZW5kT2ZDYW5kaWRhdGVzJykgewogICAgICAgICAgY2FuZCA9IHt9OwogICAgICAgIH0KICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKGNhbmQpOwogICAgICB9CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLCAwKTsKICAgICAgfQogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIHByb21pc2VzID0gW107CiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICBbJ3J0cFNlbmRlcicsICdydHBSZWNlaXZlcicsICdpY2VHYXRoZXJlcicsICdpY2VUcmFuc3BvcnQnLAogICAgICAgICAgICAnZHRsc1RyYW5zcG9ydCddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICAgICAgICBpZiAodHJhbnNjZWl2ZXJbbWV0aG9kXSkgewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zY2VpdmVyW21ldGhvZF0uZ2V0U3RhdHMoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nICYmCiAgICAgICAgICBhcmd1bWVudHNbMV07CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTsKICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihyZXMpIHsKICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQpLmZvckVhY2goZnVuY3Rpb24oaWQpIHsKICAgICAgICAgICAgICByZXN1bHRzW2lkXSA9IHJlc3VsdFtpZF07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoY2IpIHsKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2IsIDAsIHJlc3VsdHMpOwogICAgICAgICAgfQogICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9OwogIH0KfSBlbHNlIHsKICB3ZWJydGNVdGlscy5sb2coJ0Jyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIGJlIFdlYlJUQy1jYXBhYmxlJyk7Cn0KCi8vIFBvbHlmaWxsIG9udHJhY2sgb24gYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgaGF2ZSBpdAppZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmICEoJ29udHJhY2snIGluCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCAnb250cmFjaycsIHsKICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9vbnRyYWNrOyB9LAogICAgc2V0OiBmdW5jdGlvbihmKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKHRoaXMuX29udHJhY2spIHsKICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb250cmFjayk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbnRyYWNrcG9seSk7CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29udHJhY2sgPSBmKTsKICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbnRyYWNrcG9seSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAod2VicnRjRGV0ZWN0ZWRCcm93c2VyID09PSAnY2hyb21lJykgewogICAgICAgICAgLy8gb25hZGRzdHJlYW0gZG9lcyBub3QgZmlyZSB3aGVuIGEgdHJhY2sgaXMgYWRkZWQgdG8gYW4gZXhpc3Rpbmcgc3RyZWFtLgogICAgICAgICAgLy8gYnV0IHN0cmVhbS5vbmFkZHRyYWNrIGlzIGltcGxlbWVudGVkIHNvIHdlIHVzZSB0aOOBn3QKICAgICAgICAgIGUuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgZnVuY3Rpb24odGUpIHsKICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCd0cmFjaycpOwogICAgICAgICAgICBldmVudC50cmFjayA9IHRlLnRyYWNrOwogICAgICAgICAgICBldmVudC5yZWNlaXZlciA9IHt0cmFjazogdGUudHJhY2t9OwogICAgICAgICAgICBldmVudC5zdHJlYW1zID0gW2Uuc3RyZWFtXTsKICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7CiAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7CiAgICAgICAgICBldmVudC50cmFjayA9IHRyYWNrOwogICAgICAgICAgZXZlbnQucmVjZWl2ZXIgPSB7dHJhY2s6IHRyYWNrfTsKICAgICAgICAgIGV2ZW50LnN0cmVhbXMgPSBbZS5zdHJlYW1dOwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICB9LmJpbmQodGhpcykpOwogICAgfQogIH0pOwp9CgovLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgZ2V0VXNlck1lZGlhIGFzIGEgUHJvbWlzZS4KZnVuY3Rpb24gcmVxdWVzdFVzZXJNZWRpYShjb25zdHJhaW50cykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgIGdldFVzZXJNZWRpYShjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTsKICB9KTsKfQoKdmFyIHdlYnJ0Y1Rlc3RpbmcgPSB7fTsKdHJ5IHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2VicnRjVGVzdGluZywgJ3ZlcnNpb24nLCB7CiAgICBzZXQ6IGZ1bmN0aW9uKHZlcnNpb24pIHsKICAgICAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gdmVyc2lvbjsKICAgIH0KICB9KTsKfSBjYXRjaCAoZSkge30KCmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgewogIHZhciBSVENQZWVyQ29ubmVjdGlvbjsKICB2YXIgUlRDSWNlQ2FuZGlkYXRlOwogIHZhciBSVENTZXNzaW9uRGVzY3JpcHRpb247CiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICBSVENQZWVyQ29ubmVjdGlvbiA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjsKICAgIFJUQ0ljZUNhbmRpZGF0ZSA9IHdpbmRvdy5SVENJY2VDYW5kaWRhdGU7CiAgICBSVENTZXNzaW9uRGVzY3JpcHRpb24gPSB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOwogIH0KICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgIFJUQ1BlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiwKICAgIFJUQ0ljZUNhbmRpZGF0ZTogUlRDSWNlQ2FuZGlkYXRlLAogICAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiBSVENTZXNzaW9uRGVzY3JpcHRpb24sCiAgICBnZXRVc2VyTWVkaWE6IGdldFVzZXJNZWRpYSwKICAgIGF0dGFjaE1lZGlhU3RyZWFtOiBhdHRhY2hNZWRpYVN0cmVhbSwKICAgIHJlYXR0YWNoTWVkaWFTdHJlYW06IHJlYXR0YWNoTWVkaWFTdHJlYW0sCiAgICB3ZWJydGNEZXRlY3RlZEJyb3dzZXI6IHdlYnJ0Y0RldGVjdGVkQnJvd3NlciwKICAgIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbjogd2VicnRjRGV0ZWN0ZWRWZXJzaW9uLAogICAgd2VicnRjTWluaW11bVZlcnNpb246IHdlYnJ0Y01pbmltdW1WZXJzaW9uLAogICAgd2VicnRjVGVzdGluZzogd2VicnRjVGVzdGluZywKICAgIHdlYnJ0Y1V0aWxzOiB3ZWJydGNVdGlscwogICAgLy9yZXF1ZXN0VXNlck1lZGlhOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgLy90cmFjZTogbm90IGV4cG9zZWQgb24gcHVycG9zZS4KICB9Owp9IGVsc2UgaWYgKCh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykgJiYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicpKSB7CiAgLy8gRXhwb3NlIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyB3aGVuIFJlcXVpcmVKUyBpcyBkb2luZyB0aGUgbG9hZGluZy4KICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgUlRDUGVlckNvbm5lY3Rpb246IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwKICAgICAgUlRDSWNlQ2FuZGlkYXRlOiB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlLAogICAgICBSVENTZXNzaW9uRGVzY3JpcHRpb246IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24sCiAgICAgIGdldFVzZXJNZWRpYTogZ2V0VXNlck1lZGlhLAogICAgICBhdHRhY2hNZWRpYVN0cmVhbTogYXR0YWNoTWVkaWFTdHJlYW0sCiAgICAgIHJlYXR0YWNoTWVkaWFTdHJlYW06IHJlYXR0YWNoTWVkaWFTdHJlYW0sCiAgICAgIHdlYnJ0Y0RldGVjdGVkQnJvd3Nlcjogd2VicnRjRGV0ZWN0ZWRCcm93c2VyLAogICAgICB3ZWJydGNEZXRlY3RlZFZlcnNpb246IHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiwKICAgICAgd2VicnRjTWluaW11bVZlcnNpb246IHdlYnJ0Y01pbmltdW1WZXJzaW9uLAogICAgICB3ZWJydGNUZXN0aW5nOiB3ZWJydGNUZXN0aW5nLAogICAgICB3ZWJydGNVdGlsczogd2VicnRjVXRpbHMKICAgICAgLy9yZXF1ZXN0VXNlck1lZGlhOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgICAvL3RyYWNlOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgfTsKICB9KTsKfQoKfSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKcmVxdWlyZSgnd2VicnRjLWFkYXB0ZXItdGVzdCcpOwoKdmFyIF9FdmVudEVtaXR0ZXIyID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTsKCnZhciBfY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbicpOwoKdmFyIF9jb25uZWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nvbm5lY3Rpb24pOwoKdmFyIF9wZWVyID0gcmVxdWlyZSgnLi9wZWVyJyk7Cgp2YXIgX3BlZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGVlcik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqLwoKLyoganNoaW50IHVuZGVmOiB0cnVlICovCi8qIGdsb2JhbHMgUlRDUGVlckNvbm5lY3Rpb24gKi8KLyogZ2xvYmFscyBSVENTZXNzaW9uRGVzY3JpcHRpb24gKi8KLyogZ2xvYmFscyBSVENJY2VDYW5kaWRhdGUgKi8KCnZhciBDb25uZWN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7CiAgX2luaGVyaXRzKENvbm5lY3Rpb25Db250cm9sbGVyLCBfRXZlbnRFbWl0dGVyKTsKCiAgZnVuY3Rpb24gQ29ubmVjdGlvbkNvbnRyb2xsZXIoc3luY2hlciwgZG9tYWluLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29ubmVjdGlvbkNvbnRyb2xsZXIpOwoKICAgIGlmICghc3luY2hlcikgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3luY2hlciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghZG9tYWluKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkb21haW4gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihDb25uZWN0aW9uQ29udHJvbGxlcikuY2FsbCh0aGlzKSk7CgogICAgdmFyIF90aGlzID0gX3RoaXMyOwoKICAgIF90aGlzLnN5bmNoZXIgPSBzeW5jaGVyOwogICAgX3RoaXMubW9kZSA9ICdvZmZlcic7CiAgICBfdGhpcy5fZG9tYWluID0gZG9tYWluOwoKICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBfdGhpcy5fZG9tYWluICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0Nvbm5lY3Rpb24nOwoKICAgIGNvbnNvbGUuaW5mbyhjb25maWd1cmF0aW9uKTsKCiAgICBfdGhpcy5tZWRpYUNvbnN0cmFpbnRzID0gY29uZmlndXJhdGlvbi5tZWRpYUNvbnN0cmFpbnRzOwogICAgX3RoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb24ud2VicnRjOwoKICAgIC8vIFByZXBhcmUgdGhlIFBlZXJDb25uZWN0aW9uCiAgICB2YXIgcGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oX3RoaXMuY29uZmlndXJhdGlvbik7CgogICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgIGNvbnNvbGUuaW5mbygnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlKTsKCiAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHsKICAgICAgICBfdGhpcy50cmlnZ2VyKCdjb250cm9sbGVyOnN0YXRlOmNoYW5nZScsIF90aGlzLm1vZGUpOwogICAgICB9CgogICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtcmVtb3RlLW9mZmVyJykgewogICAgICAgIF90aGlzLm1vZGUgPSAnYW5zd2VyJzsKICAgICAgICBfdGhpcy50cmlnZ2VyKCdjb250cm9sbGVyOnN0YXRlOmNoYW5nZScsIF90aGlzLm1vZGUpOwogICAgICB9CiAgICB9KTsKCiAgICBwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgY29uc29sZS5pbmZvKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCBldmVudC5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSk7CiAgICAgIHZhciBkYXRhID0gX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlci5kYXRhOwogICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdGlvbicpKSB7CiAgICAgICAgZGF0YS5jb25uZWN0aW9uLnN0YXR1cyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlOwogICAgICB9CiAgICB9KTsKCiAgICBwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgIGlmICghZXZlbnQuY2FuZGlkYXRlKSByZXR1cm47CgogICAgICB2YXIgaWNlY2FuZGlkYXRlID0gewogICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLAogICAgICAgIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSwKICAgICAgICBzZHBNaWQ6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNaWQsCiAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgKICAgICAgfTsKCiAgICAgIHZhciBkYXRhID0gX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlci5kYXRhOwoKICAgICAgaWYgKF90aGlzLm1vZGUgPT09ICdvZmZlcicpIHsKICAgICAgICBkYXRhLmNvbm5lY3Rpb24ub3duZXJQZWVyLmljZUNhbmRpZGF0ZXMucHVzaChpY2VjYW5kaWRhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGRhdGEucGVlci5pY2VDYW5kaWRhdGVzLnB1c2goaWNlY2FuZGlkYXRlKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gQWRkIHN0cmVhbSB0byBQZWVyQ29ubmVjdGlvbgogICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignYWRkc3RyZWFtJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGNvbnNvbGUuaW5mbygnQWRkIFN0cmVhbTogJywgZXZlbnQpOwogICAgICBfdGhpcy50cmlnZ2VyKCdzdHJlYW06YWRkZWQnLCBldmVudCk7CiAgICB9KTsKCiAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbiA9IHBlZXJDb25uZWN0aW9uOwoKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29ubmVjdGlvbkNvbnRyb2xsZXIsIFt7CiAgICBrZXk6ICdjaGFuZ2VQZWVySW5mb3JtYXRpb24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVBlZXJJbmZvcm1hdGlvbihkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSBkYXRhT2JqZWN0T2JzZXJ2ZXIuZGF0YTsKICAgICAgdmFyIGlzT3duZXIgPSBkYXRhLmhhc093blByb3BlcnR5KCdjb25uZWN0aW9uJyk7CgogICAgICB2YXIgcGVlckRhdGEgPSBpc093bmVyID8gZGF0YS5jb25uZWN0aW9uLm93bmVyUGVlciA6IGRhdGEucGVlcjsKCiAgICAgIGNvbnNvbGUuaW5mbygnUGVlciBEYXRhOicsIEpTT04uc3RyaW5naWZ5KHBlZXJEYXRhKSk7CgogICAgICBpZiAocGVlckRhdGEuaGFzT3duUHJvcGVydHkoJ2Nvbm5lY3Rpb25EZXNjcmlwdGlvbicpKSB7CiAgICAgICAgX3RoaXMucHJvY2Vzc1BlZXJJbmZvcm1hdGlvbihwZWVyRGF0YS5jb25uZWN0aW9uRGVzY3JpcHRpb24pOwogICAgICB9CgogICAgICBpZiAocGVlckRhdGEuaGFzT3duUHJvcGVydHkoJ2ljZUNhbmRpZGF0ZXMnKSkgewogICAgICAgIHBlZXJEYXRhLmljZUNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaWNlKSB7CiAgICAgICAgICBfdGhpcy5wcm9jZXNzUGVlckluZm9ybWF0aW9uKGljZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGRhdGFPYmplY3RPYnNlcnZlci5vbkNoYW5nZSgnKicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGNvbnNvbGUuaW5mbygnT2JzZXJ2ZXIgb24gY2hhbmdlIG1lc3NhZ2U6ICcsIGV2ZW50KTsKICAgICAgICBfdGhpcy5wcm9jZXNzUGVlckluZm9ybWF0aW9uKGV2ZW50LmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdwcm9jZXNzUGVlckluZm9ybWF0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzUGVlckluZm9ybWF0aW9uKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUuaW5mbyhKU09OLnN0cmluZ2lmeShkYXRhKSk7CgogICAgICBpZiAoZGF0YS50eXBlID09PSAnb2ZmZXInIHx8IGRhdGEudHlwZSA9PT0gJ2Fuc3dlcicpIHsKICAgICAgICBjb25zb2xlLmluZm8oJ1Byb2Nlc3MgQ29ubmVjdGlvbiBEZXNjcmlwdGlvbjogJywgZGF0YS5zZHApOwogICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZGF0YSksIF90aGlzLnJlbW90ZURlc2NyaXB0aW9uU3VjY2VzcywgX3RoaXMucmVtb3RlRGVzY3JpcHRpb25FcnJvcik7CiAgICAgIH0KCiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdjYW5kaWRhdGUnKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCdQcm9jZXNzIEljZSBDYW5kaWRhdGU6ICcsIGRhdGEpOwogICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKHsgY2FuZGlkYXRlOiBkYXRhLmNhbmRpZGF0ZSB9KSwgX3RoaXMucmVtb3RlRGVzY3JpcHRpb25TdWNjZXNzLCBfdGhpcy5yZW1vdGVEZXNjcmlwdGlvbkVycm9yKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogJ3JlbW90ZURlc2NyaXB0aW9uU3VjY2VzcycsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3RlRGVzY3JpcHRpb25TdWNjZXNzKCkgewogICAgICBjb25zb2xlLmluZm8oJ3JlbW90ZSBzdWNjZXNzJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAncmVtb3RlRGVzY3JpcHRpb25FcnJvcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3RlRGVzY3JpcHRpb25FcnJvcihlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdlcnJvcjogJywgZXJyb3IpOwogICAgfQogIH0sIHsKICAgIGtleTogJ2NyZWF0ZU9mZmVyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPZmZlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikgewogICAgICAgIF90aGlzLm9uTG9jYWxTZXNzaW9uQ3JlYXRlZChkZXNjcmlwdGlvbik7CiAgICAgIH0sIF90aGlzLmluZm9FcnJvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlQW5zd2VyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBbnN3ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7CiAgICAgICAgX3RoaXMub25Mb2NhbFNlc3Npb25DcmVhdGVkKGRlc2NyaXB0aW9uKTsKICAgICAgfSwgX3RoaXMuaW5mb0Vycm9yKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdvbkxvY2FsU2Vzc2lvbkNyZWF0ZWQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uTG9jYWxTZXNzaW9uQ3JlYXRlZChkZXNjcmlwdGlvbikgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24sIGZ1bmN0aW9uICgpIHsKCiAgICAgICAgdmFyIGRhdGEgPSBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyLmRhdGE7CiAgICAgICAgdmFyIHNkcENvbm5lY3Rpb24gPSB7CiAgICAgICAgICBzZHA6IGRlc2NyaXB0aW9uLnNkcCwKICAgICAgICAgIHR5cGU6IGRlc2NyaXB0aW9uLnR5cGUKICAgICAgICB9OwoKICAgICAgICBpZiAoX3RoaXMubW9kZSA9PT0gJ29mZmVyJykgewogICAgICAgICAgZGF0YS5jb25uZWN0aW9uLm93bmVyUGVlci5jb25uZWN0aW9uRGVzY3JpcHRpb24gPSBzZHBDb25uZWN0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhLnBlZXIuY29ubmVjdGlvbkRlc2NyaXB0aW9uID0gc2RwQ29ubmVjdGlvbjsKICAgICAgICB9CiAgICAgIH0sIF90aGlzLmluZm9FcnJvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAnaW5mb0Vycm9yJywKICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvRXJyb3IoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLnRvU3RyaW5nKCksIGVycik7CiAgICB9CgogICAgLyoqCiAgICAgKiBVc2VkIHRvIGFjY2VwdCBhbiBpbmNvbWluZyBjb25uZWN0aW9uIHJlcXVlc3QuCiAgICAgKiBAbWV0aG9kIGFjY2VwdAogICAgICogQHJldHVybiB7UHJvbWlzZX0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdhY2NlcHQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFjY2VwdChzdHJlYW0pIHsKICAgICAgLy8gVE9ETzogUGFzcyBhcmd1bWVudCBvcHRpb25zIGFzIGEgc3RyZWFtLCBiZWNhdXNlIGlzIHNwZWNpZmljIG9mIGltcGxlbWVudGF0aW9uOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5zeW5jaGVyOwoKICAgICAgY29uc29sZS5sb2coJ1JlbW90ZSBQZWVyIEluZm9ybWF0aW9uOiAnLCBfdGhpcy5fcmVtb3RlUGVlckluZm9ybWF0aW9uKTsKICAgICAgdmFyIHJlbW90ZVBlZXIgPSBfdGhpcy5fcmVtb3RlUGVlckluZm9ybWF0aW9uLmZyb207CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB0cnkgewoKICAgICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgICAgIHN5bmNoZXIuY3JlYXRlKF90aGlzLl9vYmplY3REZXNjVVJMLCBbcmVtb3RlUGVlcl0sIHt9KS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0UmVwb3J0ZXIpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCcyLiBSZXR1cm4gdGhlIERhdGEgT2JqZWN0IFJlcG9ydGVyICcsIGRhdGFPYmplY3RSZXBvcnRlcik7CgogICAgICAgICAgICBfdGhpcy5zdHJlYW0gPSBzdHJlYW07CiAgICAgICAgICAgIF90aGlzLmRhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjsKICAgICAgICAgICAgcmVzb2x2ZSgnYWNjZXB0ZWQnKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZWplY3QoJ2Vycm9yIGFjY2VwdGluZyBjb25uZWN0aW9uJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVXNlZCB0byBkZWNsaW5lIGFuIGluY29taW5nIGNvbm5lY3Rpb24gcmVxdWVzdC4KICAgICogQG1ldGhvZCBkZWNsaW5lCiAgICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdkZWNsaW5lJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNsaW5lKCkgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5zeW5jaGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdzeW5jaGVyOiAnLCBzeW5jaGVyKTsKICAgICAgICAgIHJlc29sdmUoJ0RlY2xpbmVkJyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBVc2VkIHRvIGNsb3NlIGFuIGV4aXN0aW5nIGNvbm5lY3Rpb24gaW5zdGFuY2UuCiAgICAgKiBAbWV0aG9kIGRpc2Nvbm5lY3QKICAgICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnZGlzY29ubmVjdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHsKCiAgICAgIC8vIFRPRE86IG9wdGltaXplIHRoZSBkaXNjb25uZWN0IGZ1bmN0aW9uCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKCiAgICAgICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpOwoKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmVqZWN0KCdlcnJvciBkaXNjb25uZWN0aW5nIGNvbm5lY3Rpb24nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVXNlZCB0byBhZGQvaW52aXRlIG5ldyBwZWVycyBvbiBhbiBleGlzdGluZyBjb25uZWN0aW9uIGluc3RhbmNlIChmb3IgbXVsdGlwYXJ0eSBjb25uZWN0aW9ucykuCiAgICAgKiBAbWV0aG9kIGFkZFBlZXIKICAgICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnYWRkUGVlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGVlcigpIHt9CgogICAgLyoqCiAgICAgKiBVc2VkIHRvIHJlbW92ZSBhIHBlZXIgZnJvbSBhbiBleGlzdGluZyBjb25uZWN0aW9uIGluc3RhbmNlLgogICAgICogQG1ldGhvZCByZW1vdmVQZWVyCiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfQogICAgICovCgogIH0sIHsKICAgIGtleTogJ3JlbW92ZVBlZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBlZXIoKSB7fQoKICAgIC8vIFBlZXIgQWN0aW9ucwoKICB9LCB7CiAgICBrZXk6ICdkaXNhYmxlTWljJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlTWljKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBsb2NhbFN0cmVhbSA9IF90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpWzBdOwogICAgICAgICAgdmFyIGF1ZGlvVHJhY2sgPSBsb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdOwoKICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IGF1ZGlvVHJhY2suZW5hYmxlZCA/IGZhbHNlIDogdHJ1ZTsKICAgICAgICAgIHJlc29sdmUoYXVkaW9UcmFjay5lbmFibGVkKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdkaXNhYmxlQ2FtJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlQ2FtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBsb2NhbFN0cmVhbSA9IF90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpWzBdOwogICAgICAgICAgdmFyIHZpZGVvVHJhY2sgPSBsb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdOwoKICAgICAgICAgIHZpZGVvVHJhY2suZW5hYmxlZCA9IHZpZGVvVHJhY2suZW5hYmxlZCA/IGZhbHNlIDogdHJ1ZTsKCiAgICAgICAgICByZXNvbHZlKHZpZGVvVHJhY2suZW5hYmxlZCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnbXV0ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gbXV0ZSgpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlbW90ZVN0cmVhbSA9IF90aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKVswXTsKICAgICAgICAgIHZhciBhdWRpb1RyYWNrID0gcmVtb3RlU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07CgogICAgICAgICAgYXVkaW9UcmFjay5lbmFibGVkID0gYXVkaW9UcmFjay5lbmFibGVkID8gZmFsc2UgOiB0cnVlOwoKICAgICAgICAgIHJlc29sdmUoYXVkaW9UcmFjay5lbmFibGVkKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdzdHJlYW0nLAogICAgc2V0OiBmdW5jdGlvbiBzZXQobWVkaWFTdHJlYW0pIHsKICAgICAgaWYgKCFtZWRpYVN0cmVhbSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgbWVkaWFTdHJlYW0gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmluZm8oJ3NldCBzdHJlYW06ICcsIG1lZGlhU3RyZWFtKTsKICAgICAgX3RoaXMucGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKG1lZGlhU3RyZWFtKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdnZXRMb2NhbFN0cmVhbXMnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRMb2NhbFN0cmVhbXMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdnZXRSZW1vdGVTdHJlYW1zJywKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IFJlbW90ZSBwZWVyIGluZm9ybWF0aW9uLCBsaWtlIEh5cGVydHkuCiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlbW90ZVBlZXJJbmZvcm1hdGlvbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGVlcjsKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZW1vdGVQZWVySW5mb3JtYXRpb24nLAogICAgc2V0OiBmdW5jdGlvbiBzZXQocmVtb3RlUGVlckluZm9ybWF0aW9uKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9yZW1vdGVQZWVySW5mb3JtYXRpb24gPSByZW1vdGVQZWVySW5mb3JtYXRpb247CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgaW5mb3JtYXRpb24gcmVsYXRpdmUgdG8gdGhlIFJlbW90ZSBQZWVyOwogICAgICogQHJldHVybiB7T2JqZWN0fSByZW1vdGVQZWVySW5mb3JtYXRpb247CiAgICAgKi8KICAgICwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX3JlbW90ZVBlZXJJbmZvcm1hdGlvbjsKICAgIH0KCiAgICAvKioKICAgICogU2V0IHRoZSBkYXRhT2JqZWN0IGluIHRoZSBjb250cm9sbGVyCiAgICAqIEBwYXJhbSB7Q29ubmVjdGlvbkRhdGFPYmplY3R9IGRhdGFPYmplY3QgLSBoYXZlIGFsbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3luY2hlciBvYmplY3Q7CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdkYXRhT2JqZWN0UmVwb3J0ZXInLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0YU9iamVjdFJlcG9ydGVyKSB7CiAgICAgIGlmICghZGF0YU9iamVjdFJlcG9ydGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBEYXRhIE9iamVjdCBSZXBvcnRlciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIgPSBkYXRhT2JqZWN0UmVwb3J0ZXI7CgogICAgICB2YXIgZGF0YSA9IF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YTsKCiAgICAgIGRhdGFPYmplY3RSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBldmVudC5hY2NlcHQoKTsKICAgICAgfSk7CgogICAgICBpZiAoX3RoaXMubW9kZSA9PT0gJ29mZmVyJykgewogICAgICAgIGRhdGEuY29ubmVjdGlvbiA9IF9jb25uZWN0aW9uMi5kZWZhdWx0OwoKICAgICAgICBfdGhpcy5jcmVhdGVPZmZlcigpOwogICAgICB9IGVsc2UgewogICAgICAgIGRhdGEucGVlciA9IF9wZWVyMi5kZWZhdWx0OwoKICAgICAgICBfdGhpcy5jcmVhdGVBbnN3ZXIoKTsKICAgICAgfQoKICAgICAgY29uc29sZS5kZWJ1ZyhfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyKTsKICAgIH0KCiAgICAvKioKICAgICogcmV0dXJuIHRoZSBkYXRhT2JqZWN0IGluIHRoZSBjb250cm9sbGVyCiAgICAqIEByZXR1cm4ge0Nvbm5lY3Rpb25EYXRhT2JqZWN0fSBkYXRhT2JqZWN0CiAgICAqLwogICAgLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyOwogICAgfQoKICAgIC8qKgogICAgKiBTZXQgdGhlIGRhdGFPYmplY3QgaW4gdGhlIGNvbnRyb2xsZXIKICAgICogQHBhcmFtIHtDb25uZWN0aW9uRGF0YU9iamVjdH0gZGF0YU9iamVjdCAtIGhhdmUgYWxsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzeW5jaGVyIG9iamVjdDsKICAgICovCgogIH0sIHsKICAgIGtleTogJ2RhdGFPYmplY3RPYnNlcnZlcicsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgaWYgKCFkYXRhT2JqZWN0T2JzZXJ2ZXIpIHRocm93IG5ldyBFcnJvcignVGhlIERhdGEgT2JqZWN0IE9ic2VydmVyIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjsKICAgICAgX3RoaXMuY2hhbmdlUGVlckluZm9ybWF0aW9uKGRhdGFPYmplY3RPYnNlcnZlcik7CiAgICB9CgogICAgLyoqCiAgICAqIHJldHVybiB0aGUgZGF0YU9iamVjdCBpbiB0aGUgY29udHJvbGxlcgogICAgKiBAcmV0dXJuIHtDb25uZWN0aW9uRGF0YU9iamVjdH0gZGF0YU9iamVjdAogICAgKi8KICAgICwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlcjsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlcjsKfShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTsKCmV4cG9ydHMuZGVmYXVsdCA9IENvbm5lY3Rpb25Db250cm9sbGVyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjEwLCIuL2Nvbm5lY3Rpb24iOjgsIi4vcGVlciI6OSwid2VicnRjLWFkYXB0ZXItdGVzdCI6NX1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9IeXBlcnR5RGlzY292ZXJ5ID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5Jyk7Cgp2YXIgX0h5cGVydHlEaXNjb3ZlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1hbmFnZXIpOwoKdmFyIF9EaXNjb3ZlcnkgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeScpOwoKdmFyIF9EaXNjb3ZlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzY292ZXJ5KTsKCnZhciBfU3luY2hlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpOwoKdmFyIF9FdmVudEVtaXR0ZXIyID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9Db25uZWN0aW9uQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXInKTsKCnZhciBfQ29ubmVjdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29ubmVjdGlvbkNvbnRyb2xsZXIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSA/IGNhbGwgOiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KCi8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLwoKLy8gU2VydmljZSBGcmFtZXdvcmsKCgovLyBVdGlscwoKCi8vIEludGVybmFscwoKCi8qKgoqIEh5cGVydHkgQ29ubmVjdG9yOwoqIEBhdXRob3IgVml0b3IgU2lsdmEgW3ZpdG9yLXQtc2lsdmFAdGVsZWNvbS5wdF0KKiBAdmVyc2lvbiAwLjEuMAoqLwoKdmFyIEh5cGVydHlDb25uZWN0b3IgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogIF9pbmhlcml0cyhIeXBlcnR5Q29ubmVjdG9yLCBfRXZlbnRFbWl0dGVyKTsKCiAgLyoqCiAgKiBDcmVhdGUgYSBuZXcgSHlwZXJ0eSBDb25uZWN0b3IKICAqIEBwYXJhbSAge1N5bmNoZXJ9IHN5bmNoZXIgLSBTeW5jaGVyIHByb3ZpZGVkIGZyb20gdGhlIHJ1bnRpbWUgY29yZQogICovCgogIGZ1bmN0aW9uIEh5cGVydHlDb25uZWN0b3IoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSHlwZXJ0eUNvbm5lY3Rvcik7CgogICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihIeXBlcnR5Q29ubmVjdG9yKS5jYWxsKHRoaXMsIGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikpOwoKICAgIHZhciBfdGhpcyA9IF90aGlzMjsKICAgIF90aGlzLl9oeXBlcnR5VVJMID0gaHlwZXJ0eVVSTDsKICAgIF90aGlzLl9idXMgPSBidXM7CiAgICBfdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247CiAgICBfdGhpcy5fZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKCiAgICBfdGhpcy5fb2JqZWN0RGVzY1VSTCA9ICdoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4nICsgX3RoaXMuX2RvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db25uZWN0aW9uJzsKCiAgICBfdGhpcy5fY29udHJvbGxlcnMgPSB7fTsKCiAgICB2YXIgaHlwZXJ0eURpc2NvdmVyeSA9IG5ldyBfSHlwZXJ0eURpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLCBidXMpOwogICAgdmFyIGRpc2NvdmVyeSA9IG5ldyBfRGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsIGJ1cyk7CiAgICB2YXIgaWRlbnRpdHlNYW5hZ2VyID0gbmV3IF9JZGVudGl0eU1hbmFnZXIyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgY29uZmlndXJhdGlvbi5ydW50aW1lVVJMLCBidXMpOwoKICAgIF90aGlzLmh5cGVydHlEaXNjb3ZlcnkgPSBoeXBlcnR5RGlzY292ZXJ5OwogICAgX3RoaXMuZGlzY292ZXJ5ID0gZGlzY292ZXJ5OwogICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyID0gaWRlbnRpdHlNYW5hZ2VyOwoKICAgIGNvbnNvbGUubG9nKCdEaXNjb3ZlcjogJywgZGlzY292ZXJ5KTsKICAgIGNvbnNvbGUubG9nKCdJZGVudGl0eSBNYW5hZ2VyOiAnLCBpZGVudGl0eU1hbmFnZXIpOwogICAgY29uc29sZS5sb2coJ0h5cGVydHkgRGlzY292ZXJ5OiAnLCBoeXBlcnR5RGlzY292ZXJ5KTsKCiAgICB2YXIgc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CiAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5fb25Ob3RpZmljYXRpb24oZXZlbnQpOwogICAgfSk7CgogICAgX3RoaXMuX3N5bmNoZXIgPSBzeW5jaGVyOwogICAgcmV0dXJuIF90aGlzMjsKICB9CgogIF9jcmVhdGVDbGFzcyhIeXBlcnR5Q29ubmVjdG9yLCBbewogICAga2V5OiAnX29uTm90aWZpY2F0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLSBBY2tub3dsZWRnZXMgdGhlIFJlcG9ydGVyIC0tLS0tLS0tLS0tLSBcbicpOwogICAgICBldmVudC5hY2soKTsKICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKCiAgICAgIGlmIChfdGhpcy5fY29udHJvbGxlcnNbZXZlbnQuZnJvbV0pIHsKICAgICAgICBfdGhpcy5fYXV0b1N1YnNjcmliZShldmVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuX2F1dG9BY2NlcHQoZXZlbnQpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAnX2F1dG9TdWJzY3JpYmUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hdXRvU3Vic2NyaWJlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzeW5jaGVyID0gX3RoaXMuX3N5bmNoZXI7CgogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBBdXRvIFN1YnNjcmliZSAtLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgIGNvbnNvbGUuaW5mbygnU3Vic2NyaWJlIFVSTCBPYmplY3QgJywgZXZlbnQsIHN5bmNoZXIpOwogICAgICBzeW5jaGVyLnN1YnNjcmliZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgICBjb25zb2xlLmluZm8oJzEuIFJldHVybiBTdWJzY3JpYmUgRGF0YSBPYmplY3QgT2JzZXJ2ZXInLCBkYXRhT2JqZWN0T2JzZXJ2ZXIpOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLl9jb250cm9sbGVycyk7CiAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW2V2ZW50LmZyb21dLmRhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX2F1dG9BY2NlcHQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hdXRvQWNjZXB0KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzeW5jaGVyID0gX3RoaXMuX3N5bmNoZXI7CgogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tIFN5bmNoZXIgU3Vic2NyaWJlIChBdXRvIEFjY2VwdCkgLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICBjb25zb2xlLmluZm8oJ1N1YnNjcmliZSBVUkwgT2JqZWN0ICcsIGV2ZW50LCBzeW5jaGVyKTsKICAgICAgc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIGV2ZW50LnVybCkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdE9ic2VydmVyKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCcxLiBSZXR1cm4gU3Vic2NyaWJlIERhdGEgT2JqZWN0IE9ic2VydmVyJywgZGF0YU9iamVjdE9ic2VydmVyKTsKCiAgICAgICAgdmFyIGNvbm5lY3Rpb25Db250cm9sbGVyID0gbmV3IF9Db25uZWN0aW9uQ29udHJvbGxlcjIuZGVmYXVsdChzeW5jaGVyLCBfdGhpcy5fZG9tYWluLCBfdGhpcy5fY29uZmlndXJhdGlvbik7CiAgICAgICAgY29ubmVjdGlvbkNvbnRyb2xsZXIucmVtb3RlUGVlckluZm9ybWF0aW9uID0gZXZlbnQ7CiAgICAgICAgY29ubmVjdGlvbkNvbnRyb2xsZXIuZGF0YU9iamVjdE9ic2VydmVyID0gZGF0YU9iamVjdE9ic2VydmVyOwoKICAgICAgICBfdGhpcy50cmlnZ2VyKCdjb25uZWN0b3I6Y29ubmVjdGVkJywgY29ubmVjdGlvbkNvbnRyb2xsZXIpOwogICAgICAgIF90aGlzLnRyaWdnZXIoJ2hhdmU6bm90aWZpY2F0aW9uJywgZXZlbnQpOwoKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogRXN0YWJsaXNoIGNvbm5lY3Rpb24gd2l0aCBvdGhlciBjbGllbnQgaWRlbnRpZmllcgogICAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMfSBIeXBlcnR5VVJMIC0gRGVmaW5lIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBvdGhlciBjb21wb25lbnQKICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggb3B0aW9ucyB0byBpbXByb3ZlIHRoZSBjb25uZWN0CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdjb25uZWN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KGVtYWlsLCBzdHJlYW0sIGRvbWFpbikgewogICAgICAvLyBUT0RPOiBQYXNzIGFyZ3VtZW50IG9wdGlvbnMgYXMgYSBzdHJlYW0sIGJlY2F1c2UgaXMgc3BlY2lmaWMgb2YgaW1wbGVtZW50YXRpb247CiAgICAgIC8vIFRPRE86IENIYW5nZSB0aGUgaHlwZXJ0eVVSTCBmb3IgYSBsaXN0IG9mIFVSTFMKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjsKICAgICAgdmFyIGh5cGVydHlVUkwgPSB2b2lkIDA7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB2YXIgY29ubmVjdGlvbkNvbnRyb2xsZXIgPSB2b2lkIDA7CiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBDcmVhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwoKICAgICAgICBjb25zb2xlLmluZm8oJ2VtYWlsOiAnLCBlbWFpbCwgJyBzdHJlYW06ICcsIHN0cmVhbSwgJyBkb21haW46JywgZG9tYWluKTsKCiAgICAgICAgLy8gdXNlciwgc2NoZW1lLCByZXNvdXJjZXMsIGRvbWFpbgogICAgICAgIC8vIHNjaGVtZTogWydDT01NJywgJ0NPTk5FQ1RJT04nLCAnQ1RYVCcsICdJREVOVElUWSddCiAgICAgICAgX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIoZW1haWwsIGRvbWFpbikudGhlbihmdW5jdGlvbiAodXNlcikgewoKICAgICAgICAgIGh5cGVydHlVUkwgPSB1c2VyLmh5cGVydHlVUkw7CgogICAgICAgICAgY29uc29sZS5sb2coJ0h5cGVydHk6ICcsIHVzZXIpOwoKICAgICAgICAgIHJldHVybiBzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgW2h5cGVydHlVUkxdLCB7fSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdFJlcG9ydGVyKSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJzEuIFJldHVybiBDcmVhdGUgRGF0YSBPYmplY3QgUmVwb3J0ZXInLCBkYXRhT2JqZWN0UmVwb3J0ZXIpOwoKICAgICAgICAgIGNvbm5lY3Rpb25Db250cm9sbGVyID0gbmV3IF9Db25uZWN0aW9uQ29udHJvbGxlcjIuZGVmYXVsdChzeW5jaGVyLCBfdGhpcy5fZG9tYWluLCBfdGhpcy5fY29uZmlndXJhdGlvbik7CiAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlci5zdHJlYW0gPSBzdHJlYW07CiAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlci5kYXRhT2JqZWN0UmVwb3J0ZXIgPSBkYXRhT2JqZWN0UmVwb3J0ZXI7CgogICAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW2h5cGVydHlVUkxdID0gY29ubmVjdGlvbkNvbnRyb2xsZXI7CgogICAgICAgICAgcmVzb2x2ZShjb25uZWN0aW9uQ29udHJvbGxlcik7CiAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEh5cGVydHlDb25uZWN0b3I7Cn0oX0V2ZW50RW1pdHRlcjMuZGVmYXVsdCk7CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgcmV0dXJuIHsKICAgIG5hbWU6ICdIeXBlcnR5Q29ubmVjdG9yJywKICAgIGluc3RhbmNlOiBuZXcgSHlwZXJ0eUNvbm5lY3RvcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjEwLCIuLi91dGlscy91dGlscyI6MTEsIi4vQ29ubmVjdGlvbkNvbnRyb2xsZXIiOjYsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnkiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyIjozLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjR9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJydMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBkYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YSA9IHsKLy8gICAgc3RhdHVzIDogImNvbm5lY3RlZCIsCi8vICAgIG93bmVyIDogImh5cGVydHk6Ly9leGFtcGxlLmNvbS9hbGljZWh5IiwKLy8gICAgcGVlciA6ICJjb25uZWN0aW9uOi8vZXhhbXBsZS5jb20vYWxpY2UvYm9iMjcwMTIwMTYiLAovLyAgICBvd25lclBlZXIgOiB7Ci8vICAgICAgICAgIGNvbm5lY3Rpb25EZXNjcmlwdGlvbjogewovLyAgICAgICAgICAgICBzZHA6ICdzNGRmYWYxc2EzZjFhc2Q1ZjRzZGFmYScsCi8vICAgICAgICAgICAgIHR5cGU6ICdvZmZlcicKLy8gICAgICAgICAgfSwKLy8gICAgICAgICAgaWNlQ2FuZGlkYXRlczogW3sKLy8gICAgICAgICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLAovLyAgICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLAovLyAgICAgICAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLAovLyAgICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgKLy8gICAgICAgICAgICB9LAovLyAgICAgICAgICAgIHsKLy8gICAgICAgICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLAovLyAgICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLAovLyAgICAgICAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLAovLyAgICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgKLy8gICAgICAgICAgICB9LAovLyAgICAgICAgICAgIC4uLi4uCi8vICAgICAgICBdCi8vICAgICAgfQovLyAgfQoKdmFyIGNvbm5lY3Rpb24gPSB7CiAgbmFtZTogJycsCiAgc3RhdHVzOiAnJywKICBvd25lcjogJycsCiAgcGVlcjogJycsCiAgb3duZXJQZWVyOiB7CiAgICBjb25uZWN0aW9uRGVzY3JpcHRpb246IHt9LAogICAgaWNlQ2FuZGlkYXRlczogW10KICB9Cn07CgpleHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0aW9uOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKdmFyIHBlZXIgPSB7CiAgbmFtZTogJycsCiAgY29ubmVjdGlvbkRlc2NyaXB0aW9uOiB7fSwKICBpY2VDYW5kaWRhdGVzOiBbXQp9OwoKZXhwb3J0cy5kZWZhdWx0ID0gcGVlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8qKgogKiBFdmVudEVtaXR0ZXIKICogQWxsIGNsYXNzZXMgd2hpY2ggZXh0ZW5kcyB0aGlzLCBjYW4gaGF2ZSBhZGRFdmVudExpc3RlbmVyIGFuZCB0cmlnZ2VyIGV2ZW50czsKICovCgp2YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3sKICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAoKCiAgICAvKioKICAgICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZAogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzW2V2ZW50VHlwZV0gPSBjYjsKICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHdpbGwgYmUgaW52b2tlZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJpZ2dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudFR5cGUsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKF90aGlzW2V2ZW50VHlwZV0pIHsKICAgICAgICBfdGhpc1tldmVudFR5cGVdKHBhcmFtcyk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBFdmVudEVtaXR0ZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kaXZpZGVVUkwgPSBkaXZpZGVVUkw7CmV4cG9ydHMuZGVlcENsb25lID0gZGVlcENsb25lOwpleHBvcnRzLmdldENvbmZpZyA9IGdldENvbmZpZzsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7CmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplOwpleHBvcnRzLmdldFRlbXBsYXRlID0gZ2V0VGVtcGxhdGU7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqLwpmdW5jdGlvbiBnZXRDb25maWcoSlNPTk9iamVjdCkgewogIGNvbnNvbGUubG9nKCdkZXZlbG9wJyk7CiAgcmV0dXJuIEpTT05PYmplY3RbJ2RldmVsb3AnXTsKfQoKLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtPYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi8KZnVuY3Rpb24gZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKG1lZGlhU3RyZWFtKSB7CiAgICAgIHJlc29sdmUobWVkaWFTdHJlYW0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICByZWplY3QocmVhc29uKTsKICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBzZXJpYWxpemUoKSB7CgogICQuZm4uc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG8gPSB7fTsKICAgIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpOwogICAgJC5lYWNoKGEsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG9bdGhpcy5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFvW3RoaXMubmFtZV0ucHVzaCkgewogICAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07CiAgICAgICAgfQoKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlIHx8ICcnOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gbzsKICB9OwoKICAkLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG8gPSB7fTsKICAgIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpOwogICAgJC5lYWNoKGEsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG9bdGhpcy5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFvW3RoaXMubmFtZV0ucHVzaCkgewogICAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07CiAgICAgICAgfQoKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXSkgb1t0aGlzLm5hbWVdID0gW107CiAgICAgICAgb1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZSB8fCAnJyk7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvOwogIH07Cn0KCmZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsIHNjcmlwdCkgewoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgIGlmIChIYW5kbGViYXJzLnRlbXBsYXRlcyA9PT0gdW5kZWZpbmVkIHx8IEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXMgPSB7fTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pOwogICAgfQoKICAgIHZhciB0ZW1wbGF0ZUZpbGUgPSAkLmFqYXgoewogICAgICB1cmw6IHBhdGggKyAnLmhicycsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkgewogICAgICAgIEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdID0gSGFuZGxlYmFycy5jb21waWxlKGRhdGEpOwogICAgICB9LAoKICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChyZWFzb24pIHsKICAgICAgICByZXR1cm4gcmVhc29uOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc2NyaXB0RmlsZSA9ICQuZ2V0U2NyaXB0KHNjcmlwdCk7CgogICAgdmFyIHJlcXVlc3RzID0gW107CiAgICBpZiAocGF0aCkgcmVxdWVzdHMucHVzaCh0ZW1wbGF0ZUZpbGUpOwogICAgaWYgKHNjcmlwdCkgcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTsKCiAgICBQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIHJlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICByZWplY3QocmVhc29uKTsKICAgIH0pOwogIH0pOwp9Cgp9LHt9XX0se30sWzddKSg3KQp9KTs=",
      "sourceCodeClassname": "HypertyConnector",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10001,
    "hypertyType": [
      "audio",
      "video"
    ],
    "version": "0.1",
    "description": "Description of HypertyConnector",
    "objectName": "HypertyConnector",
    "configuration": {
      "webrtc": {
        "iceServers": [
          {
            "url": "stun:stun.l.google.com:19302"
          },
          {
            "url": "turn:194.65.138.95:3478",
            "credential": "luis123",
            "username": "luis"
          }
        ]
      }
    },
    "constraints": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "HelloWorldObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDg6MDUgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGMoZSl7dmFyIHQ9YXJndW1lbnRzLHM9Y1tvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxhPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYS5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDphfX0sdGhpcyksYX19O2Zvcih2YXIgYSBpbiBzKXNbYV1bb109dC5wcm90b3R5cGVbYV0sdC5wcm90b3R5cGVbYV09c1thXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE3fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyMn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjIzfV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI0fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjV9XSwxMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHM9dCxhPXI7bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYz1uKGkscyk7aWYodm9pZCAwIT09Yyl7aWYoInZhbHVlImluIGMpcmV0dXJuIGMudmFsdWU7dmFyIHU9Yy5nZXQ7aWYodm9pZCAwPT09dSlyZXR1cm47cmV0dXJuIHUuY2FsbChhKX12YXIgbD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSk7aWYobnVsbD09PWwpcmV0dXJuO2U9bCx0PXMscj1hLG89ITAsYz1sPXZvaWQgMH19LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9bih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKG8/byhlLHQpOmUuX19wcm90b19fPXQpfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OH1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCxpWyJkZWZhdWx0Il0pKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0seyIuLi9oZWxwZXJzL3R5cGVvZiI6MTZ9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY29uc3RydWN0b3I9PT1uPyJzeW1ib2wiOnR5cGVvZiBlfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCI6MTB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREZXNjKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjgxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo4Mn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo4M31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6ODR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo4NiwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo4NywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo4OX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjg4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0Ijo0OX1dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MzAsIi4vJC53a3MiOjc4fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjM4fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRLZXlzKGUpLHI9bi5nZXRTeW1ib2xzO2lmKHIpZm9yKHZhciBvLGk9cihlKSxzPW4uaXNFbnVtLGE9MDtpLmxlbmd0aD5hOylzLmNhbGwoZSxvPWlbYSsrXSkmJnQucHVzaChvKTtyZXR1cm4gdH19LHsiLi8kIjo1Nn1dLDM3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLHUsbCxmPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyxiPWUmYS5QLGg9ZSZhLkIsdj1lJmEuVyx5PWQ/bzpvW3RdfHwob1t0XT17fSksXz1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGMgaW4gcil1PSFmJiZfJiZjIGluIF8sdSYmYyBpbiB5fHwobD11P19bY106cltjXSx5W2NdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106aCYmdT9pKGwsbik6diYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShsKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9pKEZ1bmN0aW9uLmNhbGwsbCk6bCxiJiYoKHlbc118fCh5W3NdPXt9KSlbY109bCkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLHQuZXhwb3J0cz1hfSx7Ii4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5nbG9iYWwiOjQxfV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYT1lKCIuLyQudG8tbGVuZ3RoIiksYz1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgbCxmLGQscD1jKGUpLGI9bihyLHUsdD8yOjEpLGg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihsPWEoZS5sZW5ndGgpO2w+aDtoKyspdD9iKHMoZj1lW2hdKVswXSxmWzFdKTpiKGVbaF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEoZj1kLm5leHQoKSkuZG9uZTspbyhkLGIsZi52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtYXJyYXktaXRlciI6NDcsIi4vJC5pdGVyLWNhbGwiOjUwLCIuLyQudG8tbGVuZ3RoIjo3NSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjc5fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpLG89ZSgiLi8kIikuZ2V0TmFtZXMsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6NTYsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MX1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjozMH1dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuLyQuY29mIjozMH1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6Mjh9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6NTYsIi4vJC5oaWRlIjo0MywiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYT1lKCIuLyQuaGFzIiksYz1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxsPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxiPSJAQGl0ZXJhdG9yIixoPSJrZXlzIix2PSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLF8sZyxtLGope3Uocix0LF8pO3ZhciAkLHcsTz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIseD1nPT12LEM9ITEsRT1lLnByb3RvdHlwZSxTPUVbZF18fEVbYl18fGcmJkVbZ10sVD1TfHxPKGcpO2lmKFMpe3ZhciBSPWYoVC5jYWxsKG5ldyBlKSk7bChSLGssITApLCFuJiZhKEUsYikmJnMoUixkLHkpLHgmJlMubmFtZSE9PXYmJihDPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIWp8fCFwJiYhQyYmRVtkXXx8cyhFLGQsVCksY1t0XT1ULGNba109eSxnKWlmKCQ9e3ZhbHVlczp4P1Q6Tyh2KSxrZXlzOm0/VDpPKGgpLGVudHJpZXM6eD9PKCJlbnRyaWVzIik6VH0sailmb3IodyBpbiAkKXcgaW4gRXx8aShFLHcsJFt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEMpLHQsJCk7cmV0dXJuICR9fSx7Ii4vJCI6NTYsIi4vJC5leHBvcnQiOjM3LCIuLyQuaGFzIjo0MiwiLi8kLmhpZGUiOjQzLCIuLyQuaXRlci1jcmVhdGUiOjUxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLmxpYnJhcnkiOjU4LCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuLyQud2tzIjo3OH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUpLHM9bi5nZXRLZXlzKGkpLGE9cy5sZW5ndGgsYz0wO2E+YzspaWYoaVtyPXNbYysrXV09PT10KXJldHVybiByfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLnRhc2siKS5zZXQsYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxsPXMuUHJvbWlzZSxmPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGYmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGMpe3ZhciBwPTEsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGMoZCkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe2IuZGF0YT1wPS1wfX1lbHNlIGk9bCYmbC5yZXNvbHZlP2Z1bmN0aW9uKCl7bC5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXthLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpmJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjozMCwiLi8kLmdsb2JhbCI6NDEsIi4vJC50YXNrIjo3Mn1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjozMSwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6Mzh9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6NDN9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDY2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjo1NiwiLi8kLmNvcmUiOjMxLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQud2tzIjo3OH1dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjo1NiwiLi8kLmhhcyI6NDIsIi4vJC53a3MiOjc4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6NDF9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQud2tzIjo3OH1dLDcwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksYz1uKHIpLHU9YS5sZW5ndGg7cmV0dXJuIDA+Y3x8Yz49dT9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksNTUyOTY+aXx8aT41NjMxOXx8YysxPT09dXx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQoYyk6aTplP2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLnRvLWludGVnZXIiOjczfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYT1lKCIuLyQuaW52b2tlIiksYz1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxsPWUoIi4vJC5nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsaD0wLHY9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9dltlXTtkZWxldGUgdltlXSx0KCl9fSxnPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gdlsrK2hdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGgpLGh9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKF8sZSwxKSl9OmI/KG89bmV3IGIsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWcsbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZywhMSkpOm49eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksXy5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKF8sZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MzAsIi4vJC5jdHgiOjMyLCIuLyQuZG9tLWNyZWF0ZSI6MzUsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaHRtbCI6NDQsIi4vJC5pbnZva2UiOjQ1fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLmlvYmplY3QiOjQ2fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo3M31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLnNoYXJlZCI6NjgsIi4vJC51aWQiOjc3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDgwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5pdGVyLXN0ZXAiOjU0LCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vJC5zZXQtcHJvdG8iKS5zZXR9KX0seyIuLyQuZXhwb3J0IjozNywiLi8kLnNldC1wcm90byI6NjV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDg2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxsPWUoIi4vJC5pcy1vYmplY3QiKSxmPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLGI9ZSgiLi8kLmZvci1vZiIpLGg9ZSgiLi8kLnNldC1wcm90byIpLnNldCx2PWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxfPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksZz1lKCIuLyQubWljcm90YXNrIiksbT0iUHJvbWlzZSIsaj1zLnByb2Nlc3MsJD0icHJvY2VzcyI9PWMoaiksdz1zW21dLE89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gaChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmTygpLGgodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnYoZSx0KX0sQz1mdW5jdGlvbihlKXt2YXIgdD1mKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBsKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO2coZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxhPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGE9dC5yZXNvbHZlLGM9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2MoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLGEsYyk6YShyKSk6YyhuKX1jYXRjaCh1KXtjKHUpfX07ci5sZW5ndGg+aTspYShyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO00obykmJigkP2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxNPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFNKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFIodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2coZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFIociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxtKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYShOLHQsMSksYShELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoXyh0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlIobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxtKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShtKSxuPWUoIi4vJC5jb3JlIilbbV0sdSh1LlMrdS5GKiFrLG0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxPKCEwKSksbSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLG0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGE9VChmdW5jdGlvbigpe2IoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYT1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxhW29dPWUsLS1yfHxuKGEpKX0saSl9KTpuKGEpfSk7cmV0dXJuIGEmJmkoYS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89VChmdW5jdGlvbigpe2IoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjU2LCIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5leHBvcnQiOjM3LCIuLyQuZm9yLW9mIjozOSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5LCIuLyQuaXRlci1kZXRlY3QiOjUzLCIuLyQubGlicmFyeSI6NTgsIi4vJC5taWNyb3Rhc2siOjU5LCIuLyQucmVkZWZpbmUtYWxsIjo2MiwiLi8kLnNhbWUtdmFsdWUiOjY0LCIuLyQuc2V0LXByb3RvIjo2NSwiLi8kLnNldC1zcGVjaWVzIjo2NiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjY5LCIuLyQuc3RyaWN0LW5ldyI6NzAsIi4vJC53a3MiOjc4fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5zdHJpbmctYXQiOjcxfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQuZ2xvYmFsIiksaT1lKCIuLyQuaGFzIikscz1lKCIuLyQuZGVzY3JpcHRvcnMiKSxhPWUoIi4vJC5leHBvcnQiKSxjPWUoIi4vJC5yZWRlZmluZSIpLHU9ZSgiLi8kLmZhaWxzIiksbD1lKCIuLyQuc2hhcmVkIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vJC51aWQiKSxwPWUoIi4vJC53a3MiKSxiPWUoIi4vJC5rZXlvZiIpLGg9ZSgiLi8kLmdldC1uYW1lcyIpLHY9ZSgiLi8kLmVudW0ta2V5cyIpLHk9ZSgiLi8kLmlzLWFycmF5IiksXz1lKCIuLyQuYW4tb2JqZWN0IiksZz1lKCIuLyQudG8taW9iamVjdCIpLG09ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxqPW4uZ2V0RGVzYywkPW4uc2V0RGVzYyx3PW4uY3JlYXRlLE89aC5nZXQsaz1vLlN5bWJvbCx4PW8uSlNPTixDPXgmJnguc3RyaW5naWZ5LEU9ITEsUz1wKCJfaGlkZGVuIiksVD1uLmlzRW51bSxSPWwoInN5bWJvbC1yZWdpc3RyeSIpLE09bCgic3ltYm9scyIpLEQ9ImZ1bmN0aW9uIj09dHlwZW9mIGssTj1PYmplY3QucHJvdG90eXBlLFA9cyYmdShmdW5jdGlvbigpe3JldHVybiA3IT13KCQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49aihOLHQpO24mJmRlbGV0ZSBOW3RdLCQoZSx0LHIpLG4mJmUhPT1OJiYkKE4sdCxuKX06JCxBPWZ1bmN0aW9uKGUpe3ZhciB0PU1bZV09dyhrLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZFJiZQKE4sZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsUykmJmkodGhpc1tTXSxlKSYmKHRoaXNbU11bZV09ITEpLFAodGhpcyxlLG0oMSx0KSl9fSksdH0sTD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZpKE0sdCk/KHIuZW51bWVyYWJsZT8oaShlLFMpJiZlW1NdW3RdJiYoZVtTXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6bSgwLCExKX0pKTooaShlLFMpfHwkKGUsUyxtKDEse30pKSxlW1NdW3RdPSEwKSxQKGUsdCxyKSk6JChlLHQscil9LEk9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1nKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUYoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sVj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6SSh3KGUpLHQpfSxVPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGUpO3JldHVybiB0fHwhaSh0aGlzLGUpfHwhaShNLGUpfHxpKHRoaXMsUykmJnRoaXNbU11bZV0/dDohMH0sej1mdW5jdGlvbihlLHQpe3ZhciByPWooZT1nKGUpLHQpO3JldHVybiFyfHwhaShNLHQpfHxpKGUsUykmJmVbU11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LEg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pfHx0PT1TfHxuLnB1c2godCk7cmV0dXJuIG59LEI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pJiZuLnB1c2goTVt0XSk7cmV0dXJuIG59LEo9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUwoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MSxpPWFyZ3VtZW50cztpLmxlbmd0aD5vOyluLnB1c2goaVtvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmeSh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksTCh0KT92b2lkIDA6dH0pLG5bMV09dCxDLmFwcGx5KHgsbil9fSxXPXUoZnVuY3Rpb24oKXt2YXIgZT1rKCk7cmV0dXJuIltudWxsXSIhPUMoW2VdKXx8Int9IiE9Qyh7YTplfSl8fCJ7fSIhPUMoT2JqZWN0KGUpKX0pO0R8fChrPWZ1bmN0aW9uKCl7aWYoTCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBBKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhrLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Yga30sbi5jcmVhdGU9VixuLmlzRW51bT1VLG4uZ2V0RGVzYz16LG4uc2V0RGVzYz1GLG4uc2V0RGVzY3M9SSxuLmdldE5hbWVzPWguZ2V0PUgsbi5nZXRTeW1ib2xzPUIscyYmIWUoIi4vJC5saWJyYXJ5IikmJmMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFUsITApKTt2YXIgWT17ImZvciI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoUixlKz0iIik/UltlXTpSW2VdPWsoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYihSLGUpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtFPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtFPSExfX07bi5lYWNoLmNhbGwoImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7WVtlXT1EP3Q6QSh0KX0pLEU9ITAsYShhLkcrYS5XLHtTeW1ib2w6a30pLGEoYS5TLCJTeW1ib2wiLFkpLGEoYS5TK2EuRiohRCwiT2JqZWN0Iix7Y3JlYXRlOlYsZGVmaW5lUHJvcGVydHk6RixkZWZpbmVQcm9wZXJ0aWVzOkksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczpILGdldE93blByb3BlcnR5U3ltYm9sczpCfSkseCYmYShhLlMrYS5GKighRHx8VyksIkpTT04iLHtzdHJpbmdpZnk6Sn0pLGYoaywiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihvLkpTT04sIkpTT04iLCEwKX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmVudW0ta2V5cyI6MzYsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4LCIuLyQuZ2V0LW5hbWVzIjo0MCwiLi8kLmdsb2JhbCI6NDEsIi4vJC5oYXMiOjQyLCIuLyQuaXMtYXJyYXkiOjQ4LCIuLyQua2V5b2YiOjU3LCIuLyQubGlicmFyeSI6NTgsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNoYXJlZCI6NjgsIi4vJC50by1pb2JqZWN0Ijo3NCwiLi8kLnVpZCI6NzcsIi4vJC53a3MiOjc4fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjgwfV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWEoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYz1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YykmJihyPWEoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGEsYz17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGE9cy5uYW1lLGkmJmlbYV09PT1lfHwocy52YWx1ZSE9PW9bYV0mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksY1thXT0hMCk7Zm9yKGEgaW4gbyljW2FdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV19KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBhKGUscixvLGEsYyl7dmFyIGw9ZS5sZW5ndGgtMTtjPS1+KChsLWMpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWFbcC5pXSxzLmImJmMmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxjLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLGgsdix5PXIuY2hpbGROb2RlcyxfPW8uYixnPXkubGVuZ3RoLG09Xz9fLmxlbmd0aDowLGo9MCwkPTAsdz0wO2c+JHx8bT53OyloPXlbJF0sdj0oYj1fW3ddKSYmYi5qLGg9PT12PyhzLmEmJmIuYSYmaSh0LGgsYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZoLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpofSkpLHAmJmEocCxyLHksXyxqKSxzLmUmJihoLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KGgsYiksJCsrLHcrKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksaCYmKGRbYj1jKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKF8saCx3LCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOmgubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmgucHJldmlvdXNTaWJsaW5nfSkpLGorKyk6cC5wdXNoKHtoOiQsaTpifSkpLCQrKyksdiYmdiE9PXlbJF0mJihkW2I9Yyh2KV18fChkW2JdPSEwLC0xPT09KGI9Zih5LHYsJCkpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOlt2XSxuZXh0U2libGluZzpfW3crMV0scHJldmlvdXNTaWJsaW5nOl9bdy0xXX0pKSxqLS0pOnAucHVzaCh7aDpiLGk6d30pKSx3KyspKTtwJiZhKHAscix5LF8sail9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBjKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7CnJldHVybiBlW3RdPSEwLGV9KSksaS5wdXNoKHttOmUsbDpvKGUsbil9KSx0aGlzLmZ8fHIodGhpcyl9LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmwoZSk7cmV0dXJuIGV9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLmc9W10sY2xlYXJUaW1lb3V0KHRoaXMuZiksdGhpcy5mPW51bGx9fTt2YXIgZD0xO3JldHVybiB0fSh2b2lkIDApfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxhPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYz10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFtjKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1jKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWMoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChjKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YyhyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYSh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KHYobixlKSxtKGUsbix0LHIpKToobj1oKGUpLG0oZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LGg9ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxhPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjpnKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTthPGkubGVuZ3RoOyluW2FdPWQodCxpW2FdKSxzW2FdPXRbaVthKytdXTtlbHNlIGZvcig7YTxpLmxlbmd0aDspc1thXT10W2lbYSsrXV07cmV0dXJuIG8uc2V0KHQscikscn0sdj1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGE9dC52YWx1ZXNbcl0sYz10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYT09PXM/MD09PWEmJjEvYSE9PTEvczphPT09YXx8cz09PXMpJiYoaihlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQudmFsdWVzW3JdPXMpLCFjLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1jLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1jLmVudW1lcmFibGUmJm8uZ2V0PT09Yy5nZXQmJm8uc2V0PT09Yy5zZXR8fChqKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGooZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGE9ci5sZW5ndGg7biYmYS0tOyludWxsIT09clthXSYmKHM9ZChlLHJbYV0pLG4tLSxzP3QoZSxvLGEsaSxzKTooaihlLG8se25hbWU6clthXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2FdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGEsMSksby52YWx1ZXMuc3BsaWNlKGEsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYSwxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoaihlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYSx1LHAsYixoLHYseSxfPW4udmFsdWVzLGc9bi5kZXNjcmlwdG9ycyxtPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYT1zLmxlbmd0aCx1PWwobyksZyl7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSx5PWQobyxiKSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKG9bYl0pLGcucHVzaCh5KSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpLHkpKTtyKG8scyxhLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsaihvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLGg9b1tiXSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKGgpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkpKTtyKG8scyxhLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7bTxzLmxlbmd0aDttKyspYj1zW21dLHQobyxuLG0saSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKHY9ZihvKSx2IT09bi5wcm90byYmKGoobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89dikpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaCh2KSxpLmZvckVhY2goXykscCh5KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtqKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGE9by5nZXQoZSksYz1hcmd1bWVudHNbMl0sdT1jPT09bj9yKCk6ci5jYWxsKGMpO2lmKGEmJnYoYSxlLHQpLGEmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7aihlLGEscyl9fX19LG09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGo9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1jKG8sbikpJiZjKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7XyhuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDpnKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxfKHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxhPW4ocyksYz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGMpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9YVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vc3luY2hlci9TeW5jaGVyIjo5OSwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjo5MCwib2JqZWN0Lm9ic2VydmUiOjkxfV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGg9bihiKSx2PWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9dCxhLl91cmw9cixhLl9zY2hlbWE9bixhLl9zdGF0dXM9byxhLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYS5fY2hpbGRyZW5zPXMsYS5fdmVyc2lvbj0wLGEuX2NoaWxkSWQ9MCxhLl9jaGlsZHJlbk9iamVjdHM9e30sYS5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYS5fb3duZXI9dC5fb3duZXIsYS5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxhWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBhPW5ldyBoWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGhbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsdi5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGE9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYSwwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBjPWkub2JqLHU9aS5sYXN0O2Muc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsIi4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYyksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9wYXJlbnQ9dCxhLl9jaGlsZElkPXIsYS5fb3duZXI9byxhLl9tc2dJZD1zLGEuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxhLl9idXM9dC5fYnVzLGEuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaj1uKG0pLCQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYyxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGMpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBqWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTokLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9JC5BTlk6KG4udHlwZT0kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT0kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT13LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0Ijo5MywiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGM9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1jO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGN9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gYWN0aXZhdGU7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9FdmVudEVtaXR0ZXIyID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikgPyBjYWxsIDogc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoganNoaW50IHVuZGVmOiB0cnVlICovCgovKioKKiBIZWxsbyBXb3JsZCBPYnNlcnZlcgoqIEBhdXRob3IgUGF1bG8gQ2hhaW5obyBbcGF1bG8tZy1jaGFpbmhvQHRlbGVjb20ucHRdCiogQHZlcnNpb24gMC4xLjAKKi8KCnZhciBIZWxsb1dvcmxkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogIF9pbmhlcml0cyhIZWxsb1dvcmxkT2JzZXJ2ZXIsIF9FdmVudEVtaXR0ZXIpOwoKICAvKioKICAqIENyZWF0ZSBhIG5ldyBIZWxsb1dvcmxkT2JzZXJ2ZXIKICAqIEBwYXJhbSAge1N5bmNoZXJ9IHN5bmNoZXIgLSBTeW5jaGVyIHByb3ZpZGVkIGZyb20gdGhlIHJ1bnRpbWUgY29yZQogICovCgogIGZ1bmN0aW9uIEhlbGxvV29ybGRPYnNlcnZlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWxsb1dvcmxkT2JzZXJ2ZXIpOwoKICAgIGlmICghaHlwZXJ0eVVSTCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghYnVzKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFjb25maWd1cmF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSGVsbG9Xb3JsZE9ic2VydmVyKS5jYWxsKHRoaXMpKTsKCiAgICB2YXIgX3RoaXMgPSBfdGhpczI7CiAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKICAgIF90aGlzLl9kb21haW4gPSBkb21haW47CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9IZWxsb1dvcmxkRGF0YVNjaGVtYSc7CgogICAgdmFyIHN5bmNoZXIgPSBuZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pOwogICAgc3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uKGV2ZW50KTsKICAgIH0pOwoKICAgIF90aGlzLl9zeW5jaGVyID0gc3luY2hlcjsKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGVsbG9Xb3JsZE9ic2VydmVyLCBbewogICAga2V5OiAnX29uTm90aWZpY2F0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmluZm8oJ0V2ZW50IFJlY2VpdmVkOiAnLCBldmVudCk7CgogICAgICBfdGhpcy50cmlnZ2VyKCdpbnZpdGF0aW9uJywgZXZlbnQuaWRlbnRpdHkpOwoKICAgICAgLy8gQWNrbm93bGVkZ2UgcmVwb3J0ZXIgYWJvdXQgdGhlIEludml0YXRpb24gd2FzIHJlY2VpdmVkCiAgICAgIGV2ZW50LmFjaygpOwoKICAgICAgLy8gU3Vic2NyaWJlIEhlbGxvIFdvcmxkIE9iamVjdAogICAgICBfdGhpcy5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIGV2ZW50LnVybCkudGhlbihmdW5jdGlvbiAoaGVsbG9PYmp0T2JzZXJ2ZXIpIHsKCiAgICAgICAgLy8gSGVsbG8gV29ybGQgT2JqZWN0IHdhcyBzdWJzY3JpYmVkCiAgICAgICAgY29uc29sZS5pbmZvKGhlbGxvT2JqdE9ic2VydmVyKTsKCiAgICAgICAgLy8gbGV0cyBub3RpZnkgdGhlIEFwcCB0aGUgc3Vic2NyaXB0aW9uIHdhcyBhY2NlcHRlZCB3aXRoIHRoZSBtbm9zdCB1cGRhdGVkIHZlcnNpb24gb2YgSGVsbG8gV29ybGQgT2JqZWN0CgogICAgICAgIF90aGlzLnRyaWdnZXIoJ2hlbGxvJywgaGVsbG9PYmp0T2JzZXJ2ZXIuZGF0YSk7CgogICAgICAgIC8vIGxldHMgbm93IG9ic2VydmUgYW55IGNoYW5nZXMgZG9uZSBpbiBIZWxsbyBXb3JsZCBPYmplY3QKCiAgICAgICAgaGVsbG9PYmp0T2JzZXJ2ZXIub25DaGFuZ2UoJyonLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgICAgICAvLyBIZWxsbyBXb3JsZCBPYmplY3Qgd2FzIGNoYW5nZWQKICAgICAgICAgIGNvbnNvbGUuaW5mbygnbWVzc2FnZSByZWNlaXZlZDonLCBldmVudCk7CgogICAgICAgICAgLy8gbGV0cyBub3RpZnkgdGhlIEFwcCBhYm91dCB0aGUgY2hhbmdlCiAgICAgICAgICBfdGhpcy50cmlnZ2VyKCdoZWxsbycsIGhlbGxvT2JqdE9ic2VydmVyLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWxsb1dvcmxkT2JzZXJ2ZXI7Cn0oX0V2ZW50RW1pdHRlcjMuZGVmYXVsdCk7CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgcmV0dXJuIHsKICAgIG5hbWU6ICdIZWxsb1dvcmxkT2JzZXJ2ZXInLAogICAgaW5zdGFuY2U6IG5ldyBIZWxsb1dvcmxkT2JzZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKQogIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyIjozLCIuLi91dGlscy91dGlscyI6NCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8qKgogKiBFdmVudEVtaXR0ZXIKICogQWxsIGNsYXNzZXMgd2hpY2ggZXh0ZW5kcyB0aGlzLCBjYW4gaGF2ZSBhZGRFdmVudExpc3RlbmVyIGFuZCB0cmlnZ2VyIGV2ZW50czsKICovCgp2YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3sKICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAoKCiAgICAvKioKICAgICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZAogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzW2V2ZW50VHlwZV0gPSBjYjsKICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHdpbGwgYmUgaW52b2tlZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJpZ2dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudFR5cGUsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKF90aGlzW2V2ZW50VHlwZV0pIHsKICAgICAgICBfdGhpc1tldmVudFR5cGVdKHBhcmFtcyk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBFdmVudEVtaXR0ZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRpdmlkZVVSTCA9IGRpdmlkZVVSTDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0Q29uZmlnID0gZ2V0Q29uZmlnOwpleHBvcnRzLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7CmV4cG9ydHMuZ2V0VGVtcGxhdGUgPSBnZXRUZW1wbGF0ZTsKLyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovCgovLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8KCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBhbiBqc29uIGZpbGU7CiAqIEBwYXJhbSAge0pTT05PYmplY3R9IGpzb25GaWxlCiAqIEByZXR1cm4ge29iamVjdH0KICovCmZ1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KSB7CiAgY29uc29sZS5sb2coJ2RldmVsb3AnKTsKICByZXR1cm4gSlNPTk9iamVjdFsnZGV2ZWxvcCddOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIHNlcmlhbGl6ZSgpIHsKCiAgJC5mbi5zZXJpYWxpemVPYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIG9bdGhpcy5uYW1lXSA9IHRoaXMudmFsdWUgfHwgJyc7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvOwogIH07CgogICQuZm4uc2VyaWFsaXplT2JqZWN0QXJyYXkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdKSBvW3RoaXMubmFtZV0gPSBbXTsKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIG87CiAgfTsKfQoKZnVuY3Rpb24gZ2V0VGVtcGxhdGUocGF0aCwgc2NyaXB0KSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgaWYgKEhhbmRsZWJhcnMudGVtcGxhdGVzID09PSB1bmRlZmluZWQgfHwgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICBIYW5kbGViYXJzLnRlbXBsYXRlcyA9IHt9OwogICAgfSBlbHNlIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9CgogICAgdmFyIHRlbXBsYXRlRmlsZSA9ICQuYWpheCh7CiAgICAgIHVybDogcGF0aCArICcuaGJzJywKICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPSBIYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7CiAgICAgIH0sCgogICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKHJlYXNvbikgewogICAgICAgIHJldHVybiByZWFzb247CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBzY3JpcHRGaWxlID0gJC5nZXRTY3JpcHQoc2NyaXB0KTsKCiAgICB2YXIgcmVxdWVzdHMgPSBbXTsKICAgIGlmIChwYXRoKSByZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7CiAgICBpZiAoc2NyaXB0KSByZXF1ZXN0cy5wdXNoKHNjcmlwdEZpbGUpOwoKICAgIFByb21pc2UuYWxsKHJlcXVlc3RzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "HelloWorldObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10002,
    "version": "0.1",
    "description": "Description of HelloWorldObserver",
    "objectName": "HelloWorldObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": [
      "audio",
      "video"
    ]
  },
  "HelloWorldReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDg6MDUgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGMoZSl7dmFyIHQ9YXJndW1lbnRzLHM9Y1tvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxhPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYS5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDphfX0sdGhpcyksYX19O2Zvcih2YXIgYSBpbiBzKXNbYV1bb109dC5wcm90b3R5cGVbYV0sdC5wcm90b3R5cGVbYV09c1thXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE3fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyMn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjIzfV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI0fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjV9XSwxMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHM9dCxhPXI7bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYz1uKGkscyk7aWYodm9pZCAwIT09Yyl7aWYoInZhbHVlImluIGMpcmV0dXJuIGMudmFsdWU7dmFyIHU9Yy5nZXQ7aWYodm9pZCAwPT09dSlyZXR1cm47cmV0dXJuIHUuY2FsbChhKX12YXIgbD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSk7aWYobnVsbD09PWwpcmV0dXJuO2U9bCx0PXMscj1hLG89ITAsYz1sPXZvaWQgMH19LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9bih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKG8/byhlLHQpOmUuX19wcm90b19fPXQpfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OH1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCxpWyJkZWZhdWx0Il0pKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0seyIuLi9oZWxwZXJzL3R5cGVvZiI6MTZ9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY29uc3RydWN0b3I9PT1uPyJzeW1ib2wiOnR5cGVvZiBlfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCI6MTB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREZXNjKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjgxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo4Mn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo4M31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6ODR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo4NiwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo4NywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo4OX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjg4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0Ijo0OX1dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MzAsIi4vJC53a3MiOjc4fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjM4fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRLZXlzKGUpLHI9bi5nZXRTeW1ib2xzO2lmKHIpZm9yKHZhciBvLGk9cihlKSxzPW4uaXNFbnVtLGE9MDtpLmxlbmd0aD5hOylzLmNhbGwoZSxvPWlbYSsrXSkmJnQucHVzaChvKTtyZXR1cm4gdH19LHsiLi8kIjo1Nn1dLDM3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLHUsbCxmPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyxiPWUmYS5QLGg9ZSZhLkIsdj1lJmEuVyx5PWQ/bzpvW3RdfHwob1t0XT17fSksXz1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGMgaW4gcil1PSFmJiZfJiZjIGluIF8sdSYmYyBpbiB5fHwobD11P19bY106cltjXSx5W2NdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106aCYmdT9pKGwsbik6diYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShsKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9pKEZ1bmN0aW9uLmNhbGwsbCk6bCxiJiYoKHlbc118fCh5W3NdPXt9KSlbY109bCkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLHQuZXhwb3J0cz1hfSx7Ii4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5nbG9iYWwiOjQxfV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYT1lKCIuLyQudG8tbGVuZ3RoIiksYz1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgbCxmLGQscD1jKGUpLGI9bihyLHUsdD8yOjEpLGg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihsPWEoZS5sZW5ndGgpO2w+aDtoKyspdD9iKHMoZj1lW2hdKVswXSxmWzFdKTpiKGVbaF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEoZj1kLm5leHQoKSkuZG9uZTspbyhkLGIsZi52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtYXJyYXktaXRlciI6NDcsIi4vJC5pdGVyLWNhbGwiOjUwLCIuLyQudG8tbGVuZ3RoIjo3NSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjc5fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpLG89ZSgiLi8kIikuZ2V0TmFtZXMsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6NTYsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MX1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjozMH1dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuLyQuY29mIjozMH1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6Mjh9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6NTYsIi4vJC5oaWRlIjo0MywiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYT1lKCIuLyQuaGFzIiksYz1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxsPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxiPSJAQGl0ZXJhdG9yIixoPSJrZXlzIix2PSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLF8sZyxtLGope3Uocix0LF8pO3ZhciAkLHcsTz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIseD1nPT12LEM9ITEsRT1lLnByb3RvdHlwZSxTPUVbZF18fEVbYl18fGcmJkVbZ10sVD1TfHxPKGcpO2lmKFMpe3ZhciBSPWYoVC5jYWxsKG5ldyBlKSk7bChSLGssITApLCFuJiZhKEUsYikmJnMoUixkLHkpLHgmJlMubmFtZSE9PXYmJihDPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIWp8fCFwJiYhQyYmRVtkXXx8cyhFLGQsVCksY1t0XT1ULGNba109eSxnKWlmKCQ9e3ZhbHVlczp4P1Q6Tyh2KSxrZXlzOm0/VDpPKGgpLGVudHJpZXM6eD9PKCJlbnRyaWVzIik6VH0sailmb3IodyBpbiAkKXcgaW4gRXx8aShFLHcsJFt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEMpLHQsJCk7cmV0dXJuICR9fSx7Ii4vJCI6NTYsIi4vJC5leHBvcnQiOjM3LCIuLyQuaGFzIjo0MiwiLi8kLmhpZGUiOjQzLCIuLyQuaXRlci1jcmVhdGUiOjUxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLmxpYnJhcnkiOjU4LCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuLyQud2tzIjo3OH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUpLHM9bi5nZXRLZXlzKGkpLGE9cy5sZW5ndGgsYz0wO2E+YzspaWYoaVtyPXNbYysrXV09PT10KXJldHVybiByfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLnRhc2siKS5zZXQsYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxsPXMuUHJvbWlzZSxmPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGYmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGMpe3ZhciBwPTEsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGMoZCkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe2IuZGF0YT1wPS1wfX1lbHNlIGk9bCYmbC5yZXNvbHZlP2Z1bmN0aW9uKCl7bC5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXthLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpmJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjozMCwiLi8kLmdsb2JhbCI6NDEsIi4vJC50YXNrIjo3Mn1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjozMSwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6Mzh9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6NDN9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDY2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjo1NiwiLi8kLmNvcmUiOjMxLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQud2tzIjo3OH1dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjo1NiwiLi8kLmhhcyI6NDIsIi4vJC53a3MiOjc4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6NDF9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQud2tzIjo3OH1dLDcwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksYz1uKHIpLHU9YS5sZW5ndGg7cmV0dXJuIDA+Y3x8Yz49dT9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksNTUyOTY+aXx8aT41NjMxOXx8YysxPT09dXx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQoYyk6aTplP2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLnRvLWludGVnZXIiOjczfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYT1lKCIuLyQuaW52b2tlIiksYz1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxsPWUoIi4vJC5nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsaD0wLHY9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9dltlXTtkZWxldGUgdltlXSx0KCl9fSxnPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gdlsrK2hdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGgpLGh9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKF8sZSwxKSl9OmI/KG89bmV3IGIsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWcsbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZywhMSkpOm49eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksXy5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKF8sZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MzAsIi4vJC5jdHgiOjMyLCIuLyQuZG9tLWNyZWF0ZSI6MzUsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaHRtbCI6NDQsIi4vJC5pbnZva2UiOjQ1fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLmlvYmplY3QiOjQ2fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo3M31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLnNoYXJlZCI6NjgsIi4vJC51aWQiOjc3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDgwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5pdGVyLXN0ZXAiOjU0LCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vJC5zZXQtcHJvdG8iKS5zZXR9KX0seyIuLyQuZXhwb3J0IjozNywiLi8kLnNldC1wcm90byI6NjV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDg2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxsPWUoIi4vJC5pcy1vYmplY3QiKSxmPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLGI9ZSgiLi8kLmZvci1vZiIpLGg9ZSgiLi8kLnNldC1wcm90byIpLnNldCx2PWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxfPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksZz1lKCIuLyQubWljcm90YXNrIiksbT0iUHJvbWlzZSIsaj1zLnByb2Nlc3MsJD0icHJvY2VzcyI9PWMoaiksdz1zW21dLE89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gaChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmTygpLGgodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnYoZSx0KX0sQz1mdW5jdGlvbihlKXt2YXIgdD1mKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBsKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO2coZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxhPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGE9dC5yZXNvbHZlLGM9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2MoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLGEsYyk6YShyKSk6YyhuKX1jYXRjaCh1KXtjKHUpfX07ci5sZW5ndGg+aTspYShyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO00obykmJigkP2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxNPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFNKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFIodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2coZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFIociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxtKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYShOLHQsMSksYShELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoXyh0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlIobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxtKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShtKSxuPWUoIi4vJC5jb3JlIilbbV0sdSh1LlMrdS5GKiFrLG0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxPKCEwKSksbSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLG0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGE9VChmdW5jdGlvbigpe2IoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYT1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxhW29dPWUsLS1yfHxuKGEpKX0saSl9KTpuKGEpfSk7cmV0dXJuIGEmJmkoYS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89VChmdW5jdGlvbigpe2IoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjU2LCIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5leHBvcnQiOjM3LCIuLyQuZm9yLW9mIjozOSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5LCIuLyQuaXRlci1kZXRlY3QiOjUzLCIuLyQubGlicmFyeSI6NTgsIi4vJC5taWNyb3Rhc2siOjU5LCIuLyQucmVkZWZpbmUtYWxsIjo2MiwiLi8kLnNhbWUtdmFsdWUiOjY0LCIuLyQuc2V0LXByb3RvIjo2NSwiLi8kLnNldC1zcGVjaWVzIjo2NiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjY5LCIuLyQuc3RyaWN0LW5ldyI6NzAsIi4vJC53a3MiOjc4fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5zdHJpbmctYXQiOjcxfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQuZ2xvYmFsIiksaT1lKCIuLyQuaGFzIikscz1lKCIuLyQuZGVzY3JpcHRvcnMiKSxhPWUoIi4vJC5leHBvcnQiKSxjPWUoIi4vJC5yZWRlZmluZSIpLHU9ZSgiLi8kLmZhaWxzIiksbD1lKCIuLyQuc2hhcmVkIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vJC51aWQiKSxwPWUoIi4vJC53a3MiKSxiPWUoIi4vJC5rZXlvZiIpLGg9ZSgiLi8kLmdldC1uYW1lcyIpLHY9ZSgiLi8kLmVudW0ta2V5cyIpLHk9ZSgiLi8kLmlzLWFycmF5IiksXz1lKCIuLyQuYW4tb2JqZWN0IiksZz1lKCIuLyQudG8taW9iamVjdCIpLG09ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxqPW4uZ2V0RGVzYywkPW4uc2V0RGVzYyx3PW4uY3JlYXRlLE89aC5nZXQsaz1vLlN5bWJvbCx4PW8uSlNPTixDPXgmJnguc3RyaW5naWZ5LEU9ITEsUz1wKCJfaGlkZGVuIiksVD1uLmlzRW51bSxSPWwoInN5bWJvbC1yZWdpc3RyeSIpLE09bCgic3ltYm9scyIpLEQ9ImZ1bmN0aW9uIj09dHlwZW9mIGssTj1PYmplY3QucHJvdG90eXBlLFA9cyYmdShmdW5jdGlvbigpe3JldHVybiA3IT13KCQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49aihOLHQpO24mJmRlbGV0ZSBOW3RdLCQoZSx0LHIpLG4mJmUhPT1OJiYkKE4sdCxuKX06JCxBPWZ1bmN0aW9uKGUpe3ZhciB0PU1bZV09dyhrLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZFJiZQKE4sZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsUykmJmkodGhpc1tTXSxlKSYmKHRoaXNbU11bZV09ITEpLFAodGhpcyxlLG0oMSx0KSl9fSksdH0sTD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZpKE0sdCk/KHIuZW51bWVyYWJsZT8oaShlLFMpJiZlW1NdW3RdJiYoZVtTXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6bSgwLCExKX0pKTooaShlLFMpfHwkKGUsUyxtKDEse30pKSxlW1NdW3RdPSEwKSxQKGUsdCxyKSk6JChlLHQscil9LEk9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1nKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUYoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sVj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6SSh3KGUpLHQpfSxVPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGUpO3JldHVybiB0fHwhaSh0aGlzLGUpfHwhaShNLGUpfHxpKHRoaXMsUykmJnRoaXNbU11bZV0/dDohMH0sej1mdW5jdGlvbihlLHQpe3ZhciByPWooZT1nKGUpLHQpO3JldHVybiFyfHwhaShNLHQpfHxpKGUsUykmJmVbU11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LEg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pfHx0PT1TfHxuLnB1c2godCk7cmV0dXJuIG59LEI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pJiZuLnB1c2goTVt0XSk7cmV0dXJuIG59LEo9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUwoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MSxpPWFyZ3VtZW50cztpLmxlbmd0aD5vOyluLnB1c2goaVtvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmeSh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksTCh0KT92b2lkIDA6dH0pLG5bMV09dCxDLmFwcGx5KHgsbil9fSxXPXUoZnVuY3Rpb24oKXt2YXIgZT1rKCk7cmV0dXJuIltudWxsXSIhPUMoW2VdKXx8Int9IiE9Qyh7YTplfSl8fCJ7fSIhPUMoT2JqZWN0KGUpKX0pO0R8fChrPWZ1bmN0aW9uKCl7aWYoTCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBBKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhrLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Yga30sbi5jcmVhdGU9VixuLmlzRW51bT1VLG4uZ2V0RGVzYz16LG4uc2V0RGVzYz1GLG4uc2V0RGVzY3M9SSxuLmdldE5hbWVzPWguZ2V0PUgsbi5nZXRTeW1ib2xzPUIscyYmIWUoIi4vJC5saWJyYXJ5IikmJmMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFUsITApKTt2YXIgWT17ImZvciI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoUixlKz0iIik/UltlXTpSW2VdPWsoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYihSLGUpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtFPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtFPSExfX07bi5lYWNoLmNhbGwoImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7WVtlXT1EP3Q6QSh0KX0pLEU9ITAsYShhLkcrYS5XLHtTeW1ib2w6a30pLGEoYS5TLCJTeW1ib2wiLFkpLGEoYS5TK2EuRiohRCwiT2JqZWN0Iix7Y3JlYXRlOlYsZGVmaW5lUHJvcGVydHk6RixkZWZpbmVQcm9wZXJ0aWVzOkksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczpILGdldE93blByb3BlcnR5U3ltYm9sczpCfSkseCYmYShhLlMrYS5GKighRHx8VyksIkpTT04iLHtzdHJpbmdpZnk6Sn0pLGYoaywiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihvLkpTT04sIkpTT04iLCEwKX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmVudW0ta2V5cyI6MzYsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4LCIuLyQuZ2V0LW5hbWVzIjo0MCwiLi8kLmdsb2JhbCI6NDEsIi4vJC5oYXMiOjQyLCIuLyQuaXMtYXJyYXkiOjQ4LCIuLyQua2V5b2YiOjU3LCIuLyQubGlicmFyeSI6NTgsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNoYXJlZCI6NjgsIi4vJC50by1pb2JqZWN0Ijo3NCwiLi8kLnVpZCI6NzcsIi4vJC53a3MiOjc4fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjgwfV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWEoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYz1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YykmJihyPWEoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGEsYz17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGE9cy5uYW1lLGkmJmlbYV09PT1lfHwocy52YWx1ZSE9PW9bYV0mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksY1thXT0hMCk7Zm9yKGEgaW4gbyljW2FdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV19KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBhKGUscixvLGEsYyl7dmFyIGw9ZS5sZW5ndGgtMTtjPS1+KChsLWMpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWFbcC5pXSxzLmImJmMmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxjLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLGgsdix5PXIuY2hpbGROb2RlcyxfPW8uYixnPXkubGVuZ3RoLG09Xz9fLmxlbmd0aDowLGo9MCwkPTAsdz0wO2c+JHx8bT53OyloPXlbJF0sdj0oYj1fW3ddKSYmYi5qLGg9PT12PyhzLmEmJmIuYSYmaSh0LGgsYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZoLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpofSkpLHAmJmEocCxyLHksXyxqKSxzLmUmJihoLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KGgsYiksJCsrLHcrKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksaCYmKGRbYj1jKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKF8saCx3LCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOmgubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmgucHJldmlvdXNTaWJsaW5nfSkpLGorKyk6cC5wdXNoKHtoOiQsaTpifSkpLCQrKyksdiYmdiE9PXlbJF0mJihkW2I9Yyh2KV18fChkW2JdPSEwLC0xPT09KGI9Zih5LHYsJCkpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOlt2XSxuZXh0U2libGluZzpfW3crMV0scHJldmlvdXNTaWJsaW5nOl9bdy0xXX0pKSxqLS0pOnAucHVzaCh7aDpiLGk6d30pKSx3KyspKTtwJiZhKHAscix5LF8sail9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBjKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7CnJldHVybiBlW3RdPSEwLGV9KSksaS5wdXNoKHttOmUsbDpvKGUsbil9KSx0aGlzLmZ8fHIodGhpcyl9LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmwoZSk7cmV0dXJuIGV9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLmc9W10sY2xlYXJUaW1lb3V0KHRoaXMuZiksdGhpcy5mPW51bGx9fTt2YXIgZD0xO3JldHVybiB0fSh2b2lkIDApfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxhPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYz10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFtjKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1jKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWMoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChjKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YyhyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYSh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KHYobixlKSxtKGUsbix0LHIpKToobj1oKGUpLG0oZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LGg9ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxhPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjpnKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTthPGkubGVuZ3RoOyluW2FdPWQodCxpW2FdKSxzW2FdPXRbaVthKytdXTtlbHNlIGZvcig7YTxpLmxlbmd0aDspc1thXT10W2lbYSsrXV07cmV0dXJuIG8uc2V0KHQscikscn0sdj1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGE9dC52YWx1ZXNbcl0sYz10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYT09PXM/MD09PWEmJjEvYSE9PTEvczphPT09YXx8cz09PXMpJiYoaihlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQudmFsdWVzW3JdPXMpLCFjLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1jLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1jLmVudW1lcmFibGUmJm8uZ2V0PT09Yy5nZXQmJm8uc2V0PT09Yy5zZXR8fChqKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGooZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGE9ci5sZW5ndGg7biYmYS0tOyludWxsIT09clthXSYmKHM9ZChlLHJbYV0pLG4tLSxzP3QoZSxvLGEsaSxzKTooaihlLG8se25hbWU6clthXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2FdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGEsMSksby52YWx1ZXMuc3BsaWNlKGEsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYSwxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoaihlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYSx1LHAsYixoLHYseSxfPW4udmFsdWVzLGc9bi5kZXNjcmlwdG9ycyxtPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYT1zLmxlbmd0aCx1PWwobyksZyl7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSx5PWQobyxiKSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKG9bYl0pLGcucHVzaCh5KSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpLHkpKTtyKG8scyxhLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsaihvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLGg9b1tiXSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKGgpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkpKTtyKG8scyxhLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7bTxzLmxlbmd0aDttKyspYj1zW21dLHQobyxuLG0saSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKHY9ZihvKSx2IT09bi5wcm90byYmKGoobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89dikpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaCh2KSxpLmZvckVhY2goXykscCh5KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtqKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGE9by5nZXQoZSksYz1hcmd1bWVudHNbMl0sdT1jPT09bj9yKCk6ci5jYWxsKGMpO2lmKGEmJnYoYSxlLHQpLGEmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7aihlLGEscyl9fX19LG09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGo9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1jKG8sbikpJiZjKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7XyhuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDpnKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxfKHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxhPW4ocyksYz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGMpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9YVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vc3luY2hlci9TeW5jaGVyIjo5OSwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjo5MCwib2JqZWN0Lm9ic2VydmUiOjkxfV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGg9bihiKSx2PWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9dCxhLl91cmw9cixhLl9zY2hlbWE9bixhLl9zdGF0dXM9byxhLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYS5fY2hpbGRyZW5zPXMsYS5fdmVyc2lvbj0wLGEuX2NoaWxkSWQ9MCxhLl9jaGlsZHJlbk9iamVjdHM9e30sYS5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYS5fb3duZXI9dC5fb3duZXIsYS5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxhWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBhPW5ldyBoWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGhbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsdi5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGE9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYSwwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBjPWkub2JqLHU9aS5sYXN0O2Muc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsIi4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYyksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9wYXJlbnQ9dCxhLl9jaGlsZElkPXIsYS5fb3duZXI9byxhLl9tc2dJZD1zLGEuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxhLl9idXM9dC5fYnVzLGEuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaj1uKG0pLCQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYyxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGMpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBqWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTokLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9JC5BTlk6KG4udHlwZT0kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT0kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT13LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0Ijo5MywiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGM9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1jO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGN9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKiBqc2hpbnQgdW5kZWY6IHRydWUgKi8KCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfaGVsbG8yID0gcmVxdWlyZSgnLi9oZWxsbycpOwoKdmFyIF9oZWxsbzMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxsbzIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogSHlwZXJ0eSBDb25uZWN0b3I7CiogQGF1dGhvciBQYXVsbyBDaGFpbmhvIFtwYXVsby1nLWNoYWluaG9AdGVsZWNvbS5wdF0KKiBAdmVyc2lvbiAwLjEuMAoqLwoKdmFyIEhlbGxvV29ybGRSZXBvcnRlciA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgKiBDcmVhdGUgYSBuZXcgSGVsbG9Xb3JsZFJlcG9ydGVyCiAgKiBAcGFyYW0gIHtTeW5jaGVyfSBzeW5jaGVyIC0gU3luY2hlciBwcm92aWRlZCBmcm9tIHRoZSBydW50aW1lIGNvcmUKICAqLwoKICBmdW5jdGlvbiBIZWxsb1dvcmxkUmVwb3J0ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVsbG9Xb3JsZFJlcG9ydGVyKTsKCiAgICBpZiAoIWh5cGVydHlVUkwpIHRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWJ1cykgdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBkb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluOwogICAgX3RoaXMuX2RvbWFpbiA9IGRvbWFpbjsKICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBkb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvSGVsbG9Xb3JsZERhdGFTY2hlbWEnOwoKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7CiAgfQoKICAvKioKICAqIENyZWF0ZSBIZWxsb1dvcmxkIERhdGEgT2JqZWN0CiAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMfSBIeXBlcnR5VVJMIC0gSW52aXRlZAogICovCgogIF9jcmVhdGVDbGFzcyhIZWxsb1dvcmxkUmVwb3J0ZXIsIFt7CiAgICBrZXk6ICdoZWxsbycsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGVsbG8oaHlwZXJ0eVVSTCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgc3luY2hlci5jcmVhdGUoX3RoaXMuX29iamVjdERlc2NVUkwsIFtoeXBlcnR5VVJMXSwgX2hlbGxvMy5kZWZhdWx0KS50aGVuKGZ1bmN0aW9uIChoZWxsb09ianRSZXBvcnRlcikgewogICAgICAgICAgY29uc29sZS5pbmZvKCcxLiBSZXR1cm4gQ3JlYXRlZCBIZWxsbyBXb3JsZCBEYXRhIE9iamVjdCBSZXBvcnRlcicsIGhlbGxvT2JqdFJlcG9ydGVyKTsKCiAgICAgICAgICBfdGhpcy5oZWxsb09ianRSZXBvcnRlciA9IGhlbGxvT2JqdFJlcG9ydGVyOwoKICAgICAgICAgIGhlbGxvT2JqdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tIEhlbGxvIFdvcmxkIFJlcG9ydGVyIHJlY2VpdmVkIHN1YnNjcmlwdGlvbiByZXF1ZXN0IC0tLS0tLS0tLSBcbicpOwoKICAgICAgICAgICAgLy8gQWxsIHN1YnNjcmlwdGlvbiByZXF1ZXN0ZWQgYXJlIGFjY2VwdGVkCgogICAgICAgICAgICBldmVudC5hY2NlcHQoKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJlc29sdmUoaGVsbG9PYmp0UmVwb3J0ZXIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICAgIHJlamVjdChyZWFzb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVXBkYXRlIEhlbGxvV29ybGQgRGF0YSBPYmplY3QKICAgICoKICAgICovCgogIH0sIHsKICAgIGtleTogJ2J5ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnllKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2J5ZTonLCBfdGhpcy5oZWxsb09ianRSZXBvcnRlcik7CgogICAgICBfdGhpcy5oZWxsb09ianRSZXBvcnRlci5kYXRhLmhlbGxvID0gIkJ5ZSEhIjsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWxsb1dvcmxkUmVwb3J0ZXI7Cn0oKTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewoKICByZXR1cm4gewogICAgbmFtZTogJ0hlbGxvV29ybGRSZXBvcnRlcicsCiAgICBpbnN0YW5jZTogbmV3IEhlbGxvV29ybGRSZXBvcnRlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy91dGlscyI6NCwiLi9oZWxsbyI6Mywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCgp2YXIgaGVsbG8gPSB7CiAgbmFtZTogImhlbGxvIiwKICBoZWxsbzogIkhlbGxvIFdvcmxkISEiCn07CgpleHBvcnRzLmRlZmF1bHQgPSBoZWxsbzsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRpdmlkZVVSTCA9IGRpdmlkZVVSTDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0Q29uZmlnID0gZ2V0Q29uZmlnOwpleHBvcnRzLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7CmV4cG9ydHMuZ2V0VGVtcGxhdGUgPSBnZXRUZW1wbGF0ZTsKLyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovCgovLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8KCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBhbiBqc29uIGZpbGU7CiAqIEBwYXJhbSAge0pTT05PYmplY3R9IGpzb25GaWxlCiAqIEByZXR1cm4ge29iamVjdH0KICovCmZ1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KSB7CiAgY29uc29sZS5sb2coJ2RldmVsb3AnKTsKICByZXR1cm4gSlNPTk9iamVjdFsnZGV2ZWxvcCddOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIHNlcmlhbGl6ZSgpIHsKCiAgJC5mbi5zZXJpYWxpemVPYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIG9bdGhpcy5uYW1lXSA9IHRoaXMudmFsdWUgfHwgJyc7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvOwogIH07CgogICQuZm4uc2VyaWFsaXplT2JqZWN0QXJyYXkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdKSBvW3RoaXMubmFtZV0gPSBbXTsKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIG87CiAgfTsKfQoKZnVuY3Rpb24gZ2V0VGVtcGxhdGUocGF0aCwgc2NyaXB0KSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgaWYgKEhhbmRsZWJhcnMudGVtcGxhdGVzID09PSB1bmRlZmluZWQgfHwgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICBIYW5kbGViYXJzLnRlbXBsYXRlcyA9IHt9OwogICAgfSBlbHNlIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9CgogICAgdmFyIHRlbXBsYXRlRmlsZSA9ICQuYWpheCh7CiAgICAgIHVybDogcGF0aCArICcuaGJzJywKICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPSBIYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7CiAgICAgIH0sCgogICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKHJlYXNvbikgewogICAgICAgIHJldHVybiByZWFzb247CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBzY3JpcHRGaWxlID0gJC5nZXRTY3JpcHQoc2NyaXB0KTsKCiAgICB2YXIgcmVxdWVzdHMgPSBbXTsKICAgIGlmIChwYXRoKSByZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7CiAgICBpZiAoc2NyaXB0KSByZXF1ZXN0cy5wdXNoKHNjcmlwdEZpbGUpOwoKICAgIFByb21pc2UuYWxsKHJlcXVlc3RzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "HelloWorldReporter",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10003,
    "version": "0.1",
    "description": "Description of HelloWorldReporter",
    "objectName": "HelloWorldReporter",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": [
      "audio",
      "video"
    ]
  },
  "HypertyChat": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLHUsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUyx2PWUmYy5QLCQ9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGEgaW4gcil1PSFsJiZiJiZhIGluIGIsdSYmYSBpbiBofHwoZj11P2JbYV06clthXSxoW2FdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW2FdP3JbYV06JCYmdT9pKGYsbik6eSYmYlthXT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6Zix2JiYoKGhbc118fChoW3NdPXt9KSlbYV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgZixsLGQscD1hKGUpLHY9bihyLHUsdD8yOjEpLCQ9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+JDskKyspdD92KHMobD1lWyRdKVswXSxsWzFdKTp2KGVbJF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLHYsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksYT1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSx2PSJAQGl0ZXJhdG9yIiwkPSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe3Uocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBVKXJldHVybiBVW2VdO3N3aXRjaChlKXtjYXNlICQ6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsVT1lLnByb3RvdHlwZSxQPVVbZF18fFVbdl18fG0mJlVbbV0sUz1QfHxfKG0pO2lmKFApe3ZhciBFPWwoUy5jYWxsKG5ldyBlKSk7ZihFLGssITApLCFuJiZjKFUsdikmJnMoRSxkLGgpLE8mJlAubmFtZSE9PXkmJihNPSEwLFM9ZnVuY3Rpb24oKXtyZXR1cm4gUC5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmVVtkXXx8cyhVLGQsUyksYVt0XT1TLGFba109aCxtKWlmKGo9e3ZhbHVlczpPP1M6Xyh5KSxrZXlzOmc/UzpfKCQpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6U30seClmb3IodyBpbiBqKXcgaW4gVXx8aShVLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsYT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGEpe3ZhciBwPTEsdj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGEoZCkub2JzZXJ2ZSh2LHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe3YuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksYT1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx2PWYuTWVzc2FnZUNoYW5uZWwsJD0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrKyRdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKCQpLCR9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OnY/KG89bmV3IHYsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLHY9ZSgiLi8kLmZvci1vZiIpLCQ9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PWEoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gJChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLCQodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxVPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUz1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LEU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2EoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVUocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaCh1KXthKHUpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO0wobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxMPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFMKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLEUodCwhMCkpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVUoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKFQsbiwxKSxjKFIsbiwxKSl9Y2F0Y2gobyl7Ui5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLEUociwhMSkpfWNhdGNoKG4pe1IuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhULHQsMSksYyhSLHQsMSkpfWNhdGNoKHIpe1IuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFAoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJkUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sdSh1LlMrdS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBQKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UyhmdW5jdGlvbigpe3YoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3YoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJVUkwifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplLHNlYXJjaDoiZGF0YU9iamVjdFBlclJlcG9ydGVyIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMCxjPSgwLGYuY29udmVydFRvVXNlclVSTCkoZSk7cz1uP246by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcysiLyIsYm9keTp7cmVzb3VyY2U6e3VzZXI6YyxyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSxzZWFyY2g6Imh5cGVydHlSZXNvdXJjZXNEYXRhU2NoZW1lcyJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgYT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8YS5nZXRUaW1lKCkmJihpPWEscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIHU9cztpZih2b2lkIDA9PT11KXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW3VdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDp1fTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6byxzZWFyY2g6Ikh5cGVydHlQZXJVc2VyIn19O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkZWxldGVIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXZvaWQgMDtvPXI/cjpuLmRvbWFpbjt2YXIgcz17dHlwZToiZGVsZXRlIixmcm9tOm4uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK28rIi8iLGJvZHk6e3ZhbHVlOnt1c2VyOmUsaHlwZXJ0eVVSTDp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LmNvZGU7bj9lKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIik6dCgiRXJyb3Igb24gZGVsZXRpbmcgaHlwZXJ0eSIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsdlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksdj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDc6NTYgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYsZD1lJmMuRyxwPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQix5PWUmYy5XLGg9ZD9vOm9bdF18fChvW3RdPXt9KSxiPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIGh8fChmPWE/Ylt1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoaFtzXXx8KGhbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwsZCxwPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShsPWQubmV4dCgpKS5kb25lOylvKGQsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHk9InZhbHVlcyIsaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIFApcmV0dXJuIFBbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PXksTT0hMSxQPWUucHJvdG90eXBlLFM9UFtkXXx8UFskXXx8bSYmUFttXSxFPVN8fF8obSk7aWYoUyl7dmFyIFU9bChFLmNhbGwobmV3IGUpKTtmKFUsaywhMCksIW4mJmMoUCwkKSYmcyhVLGQsaCksTyYmUy5uYW1lIT09eSYmKE09ITAsRT1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IXAmJiFNJiZQW2RdfHxzKFAsZCxFKSx1W3RdPUUsdVtrXT1oLG0paWYoaj17dmFsdWVzOk8/RTpfKHkpLGtleXM6Zz9FOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpFfSx4KWZvcih3IGluIGopdyBpbiBQfHxpKFAsdyxqW3ddKTtlbHNlIG8oby5QK28uRioocHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2soZCl9O2Vsc2UgaWYodSl7dmFyIHA9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShkKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPXA9LXB9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2MuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxoPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHk9ZSgiLi8kLnNhbWUtdmFsdWUiKSxoPWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6eShlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbaF07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VChvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVQodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVSh0LCEwKSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQSxuLDEpLGMoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci52PWUsci5zPTEsVShyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEEsdCwxKSxjKEQsdCwxKSl9Y2F0Y2gocil7RC5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVShvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1FKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1FKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWlbImRlZmF1bHQiXSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSI6Njh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPXR9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ImRhdGFPYmplY3Q6Ly8iK2V9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZS51cmw7bj9lKG4pOnQoIkRhdGFPYmplY3QgbmFtZSBkb2VzIG5vdCBleGlzdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciB1PW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTx1LmdldFRpbWUoKSYmKGk9dSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgYT1zO2lmKHZvaWQgMD09PWEpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbYV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmF9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NiBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKLy8gTGFzdCBidWlsZDogVGh1IEp1biAwMiAyMDE2IDE1OjQ4OjA1IEdNVCswMTAwIChXRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCx3LE89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8TyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOk8odiksa2V5czptP1Q6TyhoKSxlbnRyaWVzOng/TygiZW50cmllcyIpOlR9LGopZm9yKHcgaW4gJCl3IGluIEV8fGkoRSx3LCRbd10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLHc9c1ttXSxPPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJk8oKSxoKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sTj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShOLG4sMSksYShELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoTix0LDEpLGEoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8TyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2Msdz1uLmNyZWF0ZSxPPWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxEPSJmdW5jdGlvbiI9PXR5cGVvZiBrLE49T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooTix0KTtuJiZkZWxldGUgTlt0XSwkKGUsdCxyKSxuJiZlIT09TiYmJChOLHQsbil9OiQsQT1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPXcoay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkkodyhlKSx0KX0sVT1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFMKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEwodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtEfHwoaz1mdW5jdGlvbigpe2lmKEwodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gQShkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVYsbi5pc0VudW09VSxuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKE4sInByb3BlcnR5SXNFbnVtZXJhYmxlIixVLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09RD90OkEodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIUQsIk9iamVjdCIse2NyZWF0ZTpWLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIUR8fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLHc9MDtnPiR8fG0+dzspaD15WyRdLHY9KGI9X1t3XSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyx3KyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsdywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1t3KzFdLHByZXZpb3VzU2libGluZzpfW3ctMV19KSksai0tKTpwLnB1c2goe2g6YixpOnd9KSksdysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InJlYWQiLGZyb206dC5fb3duZXIsdG86ZX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSxuKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6bih0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpufX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdO2lmKG4pe3ZhciBvPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSwyMDA9PT1vJiZuWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm8sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9EYXRhUHJvdmlzaW9uYWwiOjk3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxiWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gdShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gbChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiBjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4oZikscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxiPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWEsci5nZXRVc2VyVVJMRnJvbUVtYWlsPWMsci5nZXRVc2VyRW1haWxGcm9tVVJMPXUsci5jb252ZXJ0VG9Vc2VyVVJMPWx9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjd9XX0se30sWzkyXSkoOTIpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCnZhciBfRXZlbnRFbWl0dGVyMiA9IHJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpOwoKdmFyIF9FdmVudEVtaXR0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRFbWl0dGVyMik7Cgp2YXIgX3BhcnRpY2lwYW50ID0gcmVxdWlyZSgnLi9wYXJ0aWNpcGFudCcpOwoKdmFyIF9wYXJ0aWNpcGFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJ0aWNpcGFudCk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqLwoKdmFyIENoYXRHcm91cCA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7CiAgX2luaGVyaXRzKENoYXRHcm91cCwgX0V2ZW50RW1pdHRlcik7CgogIGZ1bmN0aW9uIENoYXRHcm91cChzeW5jaGVyLCBkaXNjb3ZlcnksIGRvbWFpbikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXRHcm91cCk7CgogICAgaWYgKCFzeW5jaGVyKSB0aHJvdyBFcnJvcignU3luY2hlciBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTsKICAgIGlmICghZGlzY292ZXJ5KSB0aHJvdyBFcnJvcignSHlwZXJ0eSBkaXNjb3ZlciBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTsKCiAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoYXRHcm91cCkuY2FsbCh0aGlzLCBzeW5jaGVyLCBkaXNjb3ZlcnkpKTsKCiAgICB2YXIgX3RoaXMgPSBfdGhpczI7CiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7CiAgICBfdGhpcy5kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJzsKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2hhdEdyb3VwLCBbewogICAga2V5OiAncHJvY2Vzc1BhcnRpcGFudHMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3NQYXJ0aXBhbnRzKHBhcnRpY2lwYW50cykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcGFydGljaXBhbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7CiAgICAgICAgaWYgKF90aGlzLl9kYXRhT2JqZWN0T2JzZXJ2ZXIuX293bmVyICE9PSBwYXJ0aWNpcGFudC5oeXBlcnR5UmVzb3VyY2UpIHsKICAgICAgICAgIF90aGlzLnByb2Nlc3NQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdwcm9jZXNzUGFydGljaXBhbnQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3NQYXJ0aWNpcGFudChwYXJ0aWNpcGFudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmxvZygnRWFjaCBQYXJ0aWNpcGFudCB3aWxsIGJlIHRyaWdnZXI6ICcsIHBhcnRpY2lwYW50KTsKICAgICAgX3RoaXMudHJpZ2dlcigncGFydGljaXBhbnQ6YWRkZWQnLCBwYXJ0aWNpcGFudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBQcm9jZXNzIGNoaWxkIG1lc3NhZ2VzCiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGNoaWxkIFtkZXNjcmlwdGlvbl0KICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgW2Rlc2NyaXB0aW9uXQogICAgICovCgogIH0sIHsKICAgIGtleTogJ19wcm9jZXNzQ2hpbGQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzQ2hpbGQoY2hpbGQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUuaW5mbygnUHJvY2VzcyBNZXNzYWdlOicsIGNoaWxkKTsKCiAgICAgIF90aGlzLnRyaWdnZXIoJ25ldzptZXNzYWdlOnJlY2l2ZWQnLCBjaGlsZCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc2VuZCBhIGNoYXQgbWVzc2FnZS4KICAgICAqIEBwYXJhbSAge01lc3NhZ2V9IG1lc3NhZ2UgdGV4dCB0byBiZSBzZW5kCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnc2VuZCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZChtZXNzYWdlKSB7CgogICAgICBjb25zb2xlLmluZm8oJ1NlbmQgTWVzc2FnZTonLCBtZXNzYWdlLCB0aGlzKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkYXRhT2JqZWN0ID0gX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyID8gX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyIDogX3RoaXMuZGF0YU9iamVjdE9ic2VydmVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgZGF0YU9iamVjdC5hZGRDaGlsZCgnY2hhdG1lc3NhZ2VzJywgeyBjaGF0TWVzc2FnZTogbWVzc2FnZSB9KS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0Q2hpbGQpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnRGF0YSBPYmplY3QgQ2hpbGQ6ICcsIGRhdGFPYmplY3RDaGlsZCk7CiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICBjaGlsZElkOiBkYXRhT2JqZWN0Q2hpbGQuX2NoaWxkSWQsCiAgICAgICAgICAgIGZyb206IGRhdGFPYmplY3RDaGlsZC5fb3duZXIsCiAgICAgICAgICAgIHZhbHVlOiBkYXRhT2JqZWN0Q2hpbGQuZGF0YQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpcy5fcHJvY2Vzc0NoaWxkKG1zZyk7CiAgICAgICAgICByZXNvbHZlKGRhdGFPYmplY3RDaGlsZCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5lcnJvcignUmVhc29uOicsIHJlYXNvbik7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnam9pbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihyZXNvdXJjZSkgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIF90aGlzLmFkZFBhcnRpY2lwYW50KHJlc291cmNlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHJlc29sdmUoJ2pvaW5lZDogJywgcmVzdWx0KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLy8gVE9ETzogaW1wcm92ZSB0aGlzIHdpdGggYW4gaW52aXRlOwogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWRkIC8gaW52aXRlIG5ldyBwYXJ0aWNpcGFudCBvbiBhbiBleGlzdGluZyBHcm91cCBDaGF0IGluc3RhbmNlLgogICAgICogQHJldHVybiB7UHJvbWlzZX0gUHJvbWlzZSB3aXRoIHRoZSBzdGF0dXMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdpbnZpdGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGludml0ZSh1c2VyTGlzdCkgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwcGluZyBQYXJ0aWNwYW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICAgIF90aGlzLl9tYXBwaW5nVXNlcih1c2VyTGlzdCkudGhlbihmdW5jdGlvbiAoaHlwZXJ0aWVzKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuZGF0YU9iamVjdC5pbnZpdGVPYnNlcnZlcnMoaHlwZXJ0aWVzKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnMi4gUmVzdWx0IG9mIGludml0aW9uJyk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbW92ZSBhIHBhcnRpY2lwYW50IGZyb20gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFByb21pc2Ugd2l0aCB0aGUgc3RhdHVzCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAncmVtb3ZlUGFydGljaXBhbnQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBhcnRpY2lwYW50KCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB0cnkgewogICAgICAgICAgcmVzb2x2ZSgncGFydGljaXBhbnQgcmVtb3ZlZCcpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdCgncmVtb3ZlIHBhcnRpY2lwYW50IGZhaWwnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ19tYXBwaW5nVXNlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gX21hcHBpbmdVc2VyKHVzZXJMaXN0KSB7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdmFyIGh5cGVydGllcyA9IFtdOwogICAgICAgIHZhciBjb3VudCA9IDA7CgogICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIExpc3Q6JywgdXNlckxpc3QsIHVzZXJMaXN0Lmxlbmd0aCk7CgogICAgICAgIGlmICh1c2VyTGlzdC5sZW5ndGggPT09IDApIHJlamVjdChoeXBlcnRpZXMpOwoKICAgICAgICB2YXIgcmVzdWx0VXNlcnMgPSBmdW5jdGlvbiByZXN1bHRVc2VycygpIHsKICAgICAgICAgIGlmIChjb3VudCA9PT0gdXNlckxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnSGF2ZSAnICsgaHlwZXJ0aWVzLmxlbmd0aCArICd1c2VycyBmb3VuZDsnKTsKICAgICAgICAgICAgcmVzb2x2ZShoeXBlcnRpZXMpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBhY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGFjdGl2ZVVzZXJzKHVzZXIpIHsKICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICBoeXBlcnRpZXMucHVzaCh1c2VyLmh5cGVydHlVUkwpOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgaW5hY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGluYWN0aXZlVXNlcnMoKSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB1c2VyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICAgIGlmICh1c2VyLmVtYWlsLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodXNlci5lbWFpbCwgdXNlci5kb21haW4pLnRoZW4oYWN0aXZlVXNlcnMpLmNhdGNoKGluYWN0aXZlVXNlcnMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdkYXRhT2JqZWN0UmVwb3J0ZXInLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0YU9iamVjdFJlcG9ydGVyKSB7CgogICAgICBpZiAoIWRhdGFPYmplY3RSZXBvcnRlcikgdGhyb3cgbmV3IEVycm9yKCdUaGUgZGF0YSBvYmplY3QgcmVwb3J0ZXIgaXMgbmVjZXNzYXJ5IHBhcmFtZXRlcicpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUuaW5mbygnU2V0IGRhdGEgb2JqZWN0IHJlcG9ydGVyOiAnLCBkYXRhT2JqZWN0UmVwb3J0ZXIpOwoKICAgICAgZGF0YU9iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewoKICAgICAgICBldmVudC5hY2NlcHQoKTsKCiAgICAgICAgLy8gU2V0IHRoZSBvdGhlciBzdWJzY3JpcHRpb24gbGlrZSBhIHBhcnRpY2lwYW50CiAgICAgICAgX3BhcnRpY2lwYW50Mi5kZWZhdWx0Lmh5cGVydHlSZXNvdXJjZSA9IGV2ZW50LnVybDsKCiAgICAgICAgY29uc29sZS5pbmZvKCdPbiBTdWJzY3JpcHRpb24gYWRkIFBhcnRpY2lwYW50OiAnLCBfcGFydGljaXBhbnQyLmRlZmF1bHQsIGV2ZW50KTsKCiAgICAgICAgZGF0YU9iamVjdFJlcG9ydGVyLmRhdGEucGFydGljaXBhbnRzLnB1c2goX3BhcnRpY2lwYW50Mi5kZWZhdWx0KTsKCiAgICAgICAgX3RoaXMucHJvY2Vzc1BhcnRpY2lwYW50KF9wYXJ0aWNpcGFudDIuZGVmYXVsdCk7CiAgICAgIH0pOwoKICAgICAgZGF0YU9iamVjdFJlcG9ydGVyLm9uQWRkQ2hpbGQoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCdSZXBvcnRlciAtIEFkZCBDaGlsZDogJywgY2hpbGQpOwogICAgICAgIGRhdGFPYmplY3RSZXBvcnRlci5kYXRhLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKCkudG9KU09OKCk7CiAgICAgICAgX3RoaXMuX3Byb2Nlc3NDaGlsZChjaGlsZCk7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAnZGF0YU9iamVjdE9ic2VydmVyJywKICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGFPYmplY3RPYnNlcnZlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjsKCiAgICAgIGRhdGFPYmplY3RPYnNlcnZlci5vbkNoYW5nZSgncGFydGljaXBhbnRzLionLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBjb25zb2xlLmluZm8oJ0NoYW5nZSBFdmVudDogJywgZXZlbnQpOwogICAgICAgIF90aGlzLnByb2Nlc3NQYXJ0aXBhbnRzKGV2ZW50LmRhdGEpOwogICAgICB9KTsKCiAgICAgIGRhdGFPYmplY3RPYnNlcnZlci5vbkFkZENoaWxkKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgIGNvbnNvbGUuaW5mbygnT2JzZXJ2ZXIgLSBBZGQgQ2hpbGQ6ICcsIGNoaWxkKTsKICAgICAgICBfdGhpcy5fcHJvY2Vzc0NoaWxkKGNoaWxkKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyOwogICAgfQogIH0sIHsKICAgIGtleTogJ2RhdGFPYmplY3QnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyID8gX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyIDogX3RoaXMuZGF0YU9iamVjdE9ic2VydmVyOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENoYXRHcm91cDsKfShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTsKCmV4cG9ydHMuZGVmYXVsdCA9IENoYXRHcm91cDsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyIjo5LCIuL3BhcnRpY2lwYW50Ijo4fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gYWN0aXZhdGU7Cgp2YXIgX0h5cGVydHlEaXNjb3ZlcnkgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnknKTsKCnZhciBfSHlwZXJ0eURpc2NvdmVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IeXBlcnR5RGlzY292ZXJ5KTsKCnZhciBfSWRlbnRpdHlNYW5hZ2VyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXInKTsKCnZhciBfSWRlbnRpdHlNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lkZW50aXR5TWFuYWdlcik7Cgp2YXIgX0Rpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5Jyk7Cgp2YXIgX0Rpc2NvdmVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNjb3ZlcnkpOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSByZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTsKCnZhciBfRXZlbnRFbWl0dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7Cgp2YXIgX2NvbW11bmljYXRpb24gPSByZXF1aXJlKCcuL2NvbW11bmljYXRpb24nKTsKCnZhciBfcGFydGljaXBhbnQgPSByZXF1aXJlKCcuL3BhcnRpY2lwYW50Jyk7Cgp2YXIgX3BhcnRpY2lwYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnRpY2lwYW50KTsKCnZhciBfQ2hhdCA9IHJlcXVpcmUoJy4vQ2hhdCcpOwoKdmFyIF9DaGF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoYXQpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSA/IGNhbGwgOiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KCi8vIFNlcnZpY2UgRnJhbWV3b3JrCgoKLy8gVXRpbHMKCgovLyBJbnRlcm5hbHMKCgovKioKKiBIeXBlcnR5IENoYXQ7CiogQGF1dGhvciBWaXRvciBTaWx2YSBbdml0b3ItdC1zaWx2YUB0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovCgp2YXIgSHlwZXJ0eUNoYXQgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogIF9pbmhlcml0cyhIeXBlcnR5Q2hhdCwgX0V2ZW50RW1pdHRlcik7CgogIGZ1bmN0aW9uIEh5cGVydHlDaGF0KGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEh5cGVydHlDaGF0KTsKCiAgICBpZiAoIWh5cGVydHlVUkwpIHRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWJ1cykgdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEh5cGVydHlDaGF0KS5jYWxsKHRoaXMsIGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikpOwoKICAgIHZhciBfdGhpcyA9IF90aGlzMjsKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKICAgIHZhciBoeXBlcnR5RGlzY292ZXJ5ID0gbmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsIGJ1cyk7CiAgICB2YXIgZGlzY292ZXJ5ID0gbmV3IF9EaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgYnVzKTsKICAgIHZhciBpZGVudGl0eU1hbmFnZXIgPSBuZXcgX0lkZW50aXR5TWFuYWdlcjIuZGVmYXVsdChoeXBlcnR5VVJMLCBjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwsIGJ1cyk7CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJzsKCiAgICBfdGhpcy5faHlwZXJ0eVVSTCA9IGh5cGVydHlVUkw7CiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7CiAgICBfdGhpcy5fZG9tYWluID0gZG9tYWluOwoKICAgIF90aGlzLmh5cGVydHlEaXNjb3ZlcnkgPSBoeXBlcnR5RGlzY292ZXJ5OwogICAgX3RoaXMuZGlzY292ZXJ5ID0gZGlzY292ZXJ5OwogICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyID0gaWRlbnRpdHlNYW5hZ2VyOwoKICAgIGNvbnNvbGUubG9nKCdEaXNjb3ZlcjogJywgZGlzY292ZXJ5KTsKICAgIGNvbnNvbGUubG9nKCdJZGVudGl0eSBNYW5hZ2VyOiAnLCBpZGVudGl0eU1hbmFnZXIpOwogICAgY29uc29sZS5sb2coJ0h5cGVydHkgRGlzY292ZXJ5OiAnLCBoeXBlcnR5RGlzY292ZXJ5KTsKCiAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICBjb25zb2xlLmxvZygnTm90aWZpY2F0aW9uOiAnLCBldmVudCk7CiAgICAgIF90aGlzLl9hdXRvU3Vic2NyaWJlKGV2ZW50LnVybCk7CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXMyOwogIH0KCiAgLyoqCiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBHcm91cCBDaGF0IHByb3ZpZGluZyB0aGUgaWRlbnRpZmllciBvZiB0aGUgR3JvdXAgdG8gYmUgbm90aWZpZWQuCiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgICAgICAgICAgIGNoYXQgbmFtZQogICAqIEBwYXJhbSAge1VSTC5Vc2VyVVJMfSBVc2VyVVJMTGlzdCBMaXN0IG9mIFVzZXIgYWxsb3dlZAogICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoSHlwZXJ0eUNoYXQsIFt7CiAgICBrZXk6ICdjcmVhdGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBwYXJ0aWNpcGFudHMpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzeW5jaGVyID0gX3RoaXMuX3N5bmNoZXI7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICAvLyBDcmVhdGUgb3duZXIgcGFydGljaXBhbnQKICAgICAgICAvLyBUT0RPOiBjcmVhdGUgYWxsIGluZm9ybWF0aW9uIHRvIGNvbW11bmljYXRpb247CiAgICAgICAgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5vd25lciA9IF90aGlzLl9oeXBlcnR5VVJMOwogICAgICAgIF9jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3QubmFtZSA9IG5hbWU7CiAgICAgICAgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5pZCA9IG5hbWU7CiAgICAgICAgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5zdGF0dXMgPSBfY29tbXVuaWNhdGlvbi5Db21tdW5pY2F0aW9uU3RhdHVzLk9QRU47CiAgICAgICAgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5zdGFydGluZ1RpbWUgPSBuZXcgRGF0ZSgpLnRvSlNPTigpOwogICAgICAgIF9jb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25PYmplY3QubGFzdE1vZGlmaWVkID0gX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdC5zdGFydGluZ1RpbWU7CgogICAgICAgIC8vIFNldCB0aGUgb3RoZXIgc3Vic2NyaXB0aW9uIGxpa2UgYSBwYXJ0aWNpcGFudAogICAgICAgIF9wYXJ0aWNpcGFudDIuZGVmYXVsdC5oeXBlcnR5UmVzb3VyY2UgPSBfdGhpcy5faHlwZXJ0eVVSTDsKICAgICAgICBfY29tbXVuaWNhdGlvbi5jb21tdW5pY2F0aW9uT2JqZWN0LnBhcnRpY2lwYW50cy5wdXNoKF9wYXJ0aWNpcGFudDIuZGVmYXVsdCk7CgogICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwcGluZyBQYXJ0aWNwYW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICAgIF90aGlzLl9tYXBwaW5nVXNlcihwYXJ0aWNpcGFudHMpLnRoZW4oZnVuY3Rpb24gKGh5cGVydGllcykgewogICAgICAgICAgcmV0dXJuIF90aGlzLl9jcmVhdGVTeW5jaGVyKGh5cGVydGllcywgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGh5cGVydGllcykgewogICAgICAgICAgcmV0dXJuIF90aGlzLl9jcmVhdGVTeW5jaGVyKGh5cGVydGllcywgX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdFJlcG9ydGVyKSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJzMuIFJldHVybiBDcmVhdGUgRGF0YSBPYmplY3QgUmVwb3J0ZXInLCBkYXRhT2JqZWN0UmVwb3J0ZXIpOwoKICAgICAgICAgIHZhciBjaGF0ID0gbmV3IF9DaGF0Mi5kZWZhdWx0KHN5bmNoZXIsIF90aGlzLmRpc2NvdmVyeSwgX3RoaXMuX2RvbWFpbik7CiAgICAgICAgICBjaGF0LmRhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjsKICAgICAgICAgIF90aGlzLmNoYXQgPSBjaGF0OwogICAgICAgICAgcmVzb2x2ZShjaGF0KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnam9pbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihyZXNvdXJjZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBzdWJzY3JpYmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICAgIGNvbnNvbGUuaW5mbyhyZXNvdXJjZSk7CgogICAgICAgIHN5bmNoZXIuc3Vic2NyaWJlKF90aGlzLl9vYmplY3REZXNjVVJMLCByZXNvdXJjZSkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdE9ic2VydmVyKSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJ0RhdGEgT2JqZWN0IE9ic2VydmVyOiAnLCBkYXRhT2JqZWN0T2JzZXJ2ZXIpOwogICAgICAgICAgdmFyIGNoYXQgPSBuZXcgX0NoYXQyLmRlZmF1bHQoc3luY2hlciwgX3RoaXMuZGlzY292ZXJ5LCBfdGhpcy5fZG9tYWluKTsKICAgICAgICAgIGNoYXQuZGF0YU9iamVjdE9ic2VydmVyID0gZGF0YU9iamVjdE9ic2VydmVyOwoKICAgICAgICAgIHJlc29sdmUoY2hhdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogSW52aXRlIG90aGVyIG9ic2VydmVycwogICAgICogQHBhcmFtICB7dXNlckxpc3R9IEFycmF5IEFycmF5IG9mIG9iamVjdHMgdGhhdCBjb250aW5pbmcgdGhlIHVzZXIuZW1haWwgYW5kIHVzZXIuZG9tYWluOwogICAgICogQHJldHVybiB7Y2hhdH0gICAgICAgICAgIENoYXQgR3JvdXAgY29udHJvbGxlcgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2ludml0ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW52aXRlKHVzZXJMaXN0KSB7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgX3RoaXMuY2hhdC5pbnZpdGUodXNlckxpc3QpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCd1c2VycyBhcmUgaW52aXRlZCcpOwogICAgICAgICAgdmFyIGNoYXQgPSBuZXcgX0NoYXQyLmRlZmF1bHQoc3luY2hlciwgX3RoaXMuZGlzY292ZXJ5LCBfdGhpcy5fZG9tYWluKTsKCiAgICAgICAgICByZXNvbHZlKGNoYXQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIHJlamVjdChyZWFzb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfYXV0b1N1YnNjcmliZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2F1dG9TdWJzY3JpYmUocmVzb3VyY2UpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLmpvaW4ocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKGNoYXRHcm91cCkgewogICAgICAgIF90aGlzLnRyaWdnZXIoJ2NoYXQ6c3Vic2NyaWJlJywgY2hhdEdyb3VwKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX2NyZWF0ZVN5bmNoZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVTeW5jaGVyKGh5cGVydGllcywgY29tbXVuaWNhdGlvbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwoKICAgICAgY29uc29sZS5pbmZvKCdIYXZlICcgKyBoeXBlcnRpZXMubGVuZ3RoICsgJyBwYXJ0aWNpcGFudHM7Jyk7CiAgICAgIGNvbnNvbGUuaW5mbygnV0l0aCBjb21tdW5pY2F0aW9uT2JqZWN0OiAnLCBjb21tdW5pY2F0aW9uKTsKCiAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgcmV0dXJuIHN5bmNoZXIuY3JlYXRlKF90aGlzLl9vYmplY3REZXNjVVJMLCBoeXBlcnRpZXMsIGNvbW11bmljYXRpb24pOwogICAgfQogIH0sIHsKICAgIGtleTogJ19tYXBwaW5nVXNlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gX21hcHBpbmdVc2VyKHVzZXJMaXN0KSB7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdmFyIGh5cGVydGllcyA9IFtdOwogICAgICAgIHZhciBjb3VudCA9IDA7CgogICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIExpc3Q6JywgdXNlckxpc3QsIHVzZXJMaXN0Lmxlbmd0aCk7CgogICAgICAgIGlmICh1c2VyTGlzdC5sZW5ndGggPT09IDApIHJlamVjdChoeXBlcnRpZXMpOwoKICAgICAgICB2YXIgcmVzdWx0VXNlcnMgPSBmdW5jdGlvbiByZXN1bHRVc2VycygpIHsKICAgICAgICAgIGlmIChjb3VudCA9PT0gdXNlckxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnSGF2ZSAnICsgaHlwZXJ0aWVzLmxlbmd0aCArICd1c2VycyBmb3VuZDsnKTsKICAgICAgICAgICAgcmVzb2x2ZShoeXBlcnRpZXMpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBhY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGFjdGl2ZVVzZXJzKHVzZXIpIHsKICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICBoeXBlcnRpZXMucHVzaCh1c2VyLmh5cGVydHlVUkwpOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgaW5hY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGluYWN0aXZlVXNlcnMoKSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB1c2VyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICAgIGlmICh1c2VyLmVtYWlsLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodXNlci5lbWFpbCwgdXNlci5kb21haW4pLnRoZW4oYWN0aXZlVXNlcnMpLmNhdGNoKGluYWN0aXZlVXNlcnMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIeXBlcnR5Q2hhdDsKfShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewoKICByZXR1cm4gewogICAgbmFtZTogJ0h5cGVydHlDaGF0JywKICAgIGluc3RhbmNlOiBuZXcgSHlwZXJ0eUNoYXQoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKQogIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyIjo5LCIuLi91dGlscy91dGlscyI6MTAsIi4vQ2hhdCI6NSwiLi9jb21tdW5pY2F0aW9uIjo3LCIuL3BhcnRpY2lwYW50Ijo4LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlciI6Mywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjo0fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgp2YXIgQ29tbXVuaWNhdGlvblN0YXR1cyA9IGV4cG9ydHMuQ29tbXVuaWNhdGlvblN0YXR1cyA9IHsKICBPUEVOOiAnb3BlbicsCiAgUEVORElORzogJ3BlbmRpbmcnLAogIENMT1NFRDogJ2Nsb3NlZCcsCiAgUEFVU0VEOiAncGF1c2VkJywKICBGQUlMRUQ6ICdmYWlsZWQnCn07Cgp2YXIgY29tbXVuaWNhdGlvbk9iamVjdCA9IGV4cG9ydHMuY29tbXVuaWNhdGlvbk9iamVjdCA9IHsKICBpZDogJycsCiAgbmFtZTogJycsCiAgb3duZXI6ICcnLAogIHN0YXJ0aW5nVGltZTogJycsCiAgbGFzdE1vZGlmaWVkOiAnJywKICBkdXJhdGlvbjogJycsCiAgc3RhdHVzOiAnJywKICBxb3M6ICcnLAogIHBhcnRpY2lwYW50czogW10KfTsKCn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKdmFyIHBhcnRpY2lwYW50ID0gewogIHN0YXR1czogJycsCiAgaHlwZXJ0eVJlc291cmNlOiAnJywKICBpZGVudGl0eTogJycKfTsKCmV4cG9ydHMuZGVmYXVsdCA9IHBhcnRpY2lwYW50Owptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqLwoKdmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRFbWl0dGVyKTsKICB9CgogIF9jcmVhdGVDbGFzcyhFdmVudEVtaXR0ZXIsIFt7CiAgICBrZXk6ICJhZGRFdmVudExpc3RlbmVyIiwKCgogICAgLyoqCiAgICAgKiBhZGRFdmVudExpc3RlbmVyIGxpc3RlbiBmb3IgYW4gZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpc1tldmVudFR5cGVdID0gY2I7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgICAqIEBwYXJhbSAge29iamVjdH0gcGFyYW1zIC0gcGFyYW1ldGVycyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgYWRkRXZlbnRMaXN0ZW5lcgogICAgICovCgogIH0sIHsKICAgIGtleTogInRyaWdnZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLCBwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpc1tldmVudFR5cGVdKSB7CiAgICAgICAgX3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRXZlbnRFbWl0dGVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBFdmVudEVtaXR0ZXI7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRlZXBDbG9uZSA9IGRlZXBDbG9uZTsKZXhwb3J0cy5nZXRDb25maWcgPSBnZXRDb25maWc7CmV4cG9ydHMuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhOwpleHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTsKZXhwb3J0cy5nZXRUZW1wbGF0ZSA9IGdldFRlbXBsYXRlOwovKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8KCi8vIGpzaGludCBicm93c2VyOnRydWUsIGpxdWVyeTogdHJ1ZQovLyBqc2hpbnQgdmFyc3RtdDogdHJ1ZQovKiBnbG9iYWwgSGFuZGxlYmFycyAqLwoKLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8KCi8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLwoKLyoqCiAqIERpdmlkZSBhbiB1cmwgaW4gdHlwZSwgZG9tYWluIGFuZCBpZGVudGl0eQogKiBAcGFyYW0gIHtVUkwuVVJMfSB1cmwgLSB1cmwgYWRkcmVzcwogKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMCiAqLwpmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7CgogIC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CiAgdmFyIHJlID0gLyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2k7CiAgdmFyIHN1YnN0ID0gJyQxLCQyLCQzJzsKICB2YXIgcGFydHMgPSB1cmwucmVwbGFjZShyZSwgc3Vic3QpLnNwbGl0KCcsJyk7CgogIC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKICBpZiAocGFydHNbMF0gPT09IHVybCkgewogICAgcGFydHNbMF0gPSAnaHR0cHMnOwogICAgcGFydHNbMV0gPSB1cmw7CiAgfQoKICB2YXIgcmVzdWx0ID0gewogICAgdHlwZTogcGFydHNbMF0sCiAgICBkb21haW46IHBhcnRzWzFdLAogICAgaWRlbnRpdHk6IHBhcnRzWzJdCiAgfTsKCiAgcmV0dXJuIHJlc3VsdDsKfQoKLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi8KZnVuY3Rpb24gZGVlcENsb25lKG9iaikgewogIC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi4KICBpZiAob2JqKSByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTsKfQoKLyoqCiAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGFuIGpzb24gZmlsZTsKICogQHBhcmFtICB7SlNPTk9iamVjdH0ganNvbkZpbGUKICogQHJldHVybiB7b2JqZWN0fQogKi8KZnVuY3Rpb24gZ2V0Q29uZmlnKEpTT05PYmplY3QpIHsKICBjb25zb2xlLmxvZygnZGV2ZWxvcCcpOwogIHJldHVybiBKU09OT2JqZWN0WydkZXZlbG9wJ107Cn0KCi8qKgogKiBHZXQgV2ViUlRDIEFQSSByZXNvdXJjZXMKICogQHBhcmFtICB7T2JqZWN0fSAgICAgb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXNvdXJjZXMgd2lsbCBiZSB1c2VkIChjYW1lcmEsIG1pYywgcmVzb2x1dGlvbiwgZXRjKTsKICogQHJldHVybiB7UHJvbWlzZX0KICovCmZ1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cykgewoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChtZWRpYVN0cmVhbSkgewogICAgICByZXNvbHZlKG1lZGlhU3RyZWFtKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICB9KTsKICB9KTsKfQoKZnVuY3Rpb24gc2VyaWFsaXplKCkgewoKICAkLmZuLnNlcmlhbGl6ZU9iamVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvID0ge307CiAgICB2YXIgYSA9IHRoaXMuc2VyaWFsaXplQXJyYXkoKTsKICAgICQuZWFjaChhLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChvW3RoaXMubmFtZV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdLnB1c2gpIHsKICAgICAgICAgIG9bdGhpcy5uYW1lXSA9IFtvW3RoaXMubmFtZV1dOwogICAgICAgIH0KCiAgICAgICAgb1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZSB8fCAnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb1t0aGlzLm5hbWVdID0gdGhpcy52YWx1ZSB8fCAnJzsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIG87CiAgfTsKCiAgJC5mbi5zZXJpYWxpemVPYmplY3RBcnJheSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvID0ge307CiAgICB2YXIgYSA9IHRoaXMuc2VyaWFsaXplQXJyYXkoKTsKICAgICQuZWFjaChhLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChvW3RoaXMubmFtZV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdLnB1c2gpIHsKICAgICAgICAgIG9bdGhpcy5uYW1lXSA9IFtvW3RoaXMubmFtZV1dOwogICAgICAgIH0KCiAgICAgICAgb1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZSB8fCAnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCFvW3RoaXMubmFtZV0pIG9bdGhpcy5uYW1lXSA9IFtdOwogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gbzsKICB9Owp9CgpmdW5jdGlvbiBnZXRUZW1wbGF0ZShwYXRoLCBzY3JpcHQpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBpZiAoSGFuZGxlYmFycy50ZW1wbGF0ZXMgPT09IHVuZGVmaW5lZCB8fCBIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIEhhbmRsZWJhcnMudGVtcGxhdGVzID0ge307CiAgICB9IGVsc2UgewogICAgICByZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTsKICAgIH0KCiAgICB2YXIgdGVtcGxhdGVGaWxlID0gJC5hamF4KHsKICAgICAgdXJsOiBwYXRoICsgJy5oYnMnLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHsKICAgICAgICBIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSA9IEhhbmRsZWJhcnMuY29tcGlsZShkYXRhKTsKICAgICAgfSwKCiAgICAgIGZhaWw6IGZ1bmN0aW9uIGZhaWwocmVhc29uKSB7CiAgICAgICAgcmV0dXJuIHJlYXNvbjsKICAgICAgfQogICAgfSk7CgogICAgdmFyIHNjcmlwdEZpbGUgPSAkLmdldFNjcmlwdChzY3JpcHQpOwoKICAgIHZhciByZXF1ZXN0cyA9IFtdOwogICAgaWYgKHBhdGgpIHJlcXVlc3RzLnB1c2godGVtcGxhdGVGaWxlKTsKICAgIGlmIChzY3JpcHQpIHJlcXVlc3RzLnB1c2goc2NyaXB0RmlsZSk7CgogICAgUHJvbWlzZS5hbGwocmVxdWVzdHMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICByZXNvbHZlKEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICB9KTsKICB9KTsKfQoKfSx7fV19LHt9LFs2XSkoNikKfSk7",
      "sourceCodeClassname": "HypertyChat",
      "encoding": "base64",
      "signature": ""
    },
    "hypertyType": [
      "audio",
      "video"
    ],
    "cguid": 10004,
    "version": "0.1",
    "description": "Description of HypertyChat",
    "objectName": "HypertyChat",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "GroupChat": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDc6NTYgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYsZD1lJmMuRyxwPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQix5PWUmYy5XLGg9ZD9vOm9bdF18fChvW3RdPXt9KSxiPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIGh8fChmPWE/Ylt1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoaFtzXXx8KGhbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwsZCxwPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShsPWQubmV4dCgpKS5kb25lOylvKGQsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHk9InZhbHVlcyIsaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIFApcmV0dXJuIFBbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PXksTT0hMSxQPWUucHJvdG90eXBlLFM9UFtkXXx8UFskXXx8bSYmUFttXSxFPVN8fF8obSk7aWYoUyl7dmFyIFU9bChFLmNhbGwobmV3IGUpKTtmKFUsaywhMCksIW4mJmMoUCwkKSYmcyhVLGQsaCksTyYmUy5uYW1lIT09eSYmKE09ITAsRT1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IXAmJiFNJiZQW2RdfHxzKFAsZCxFKSx1W3RdPUUsdVtrXT1oLG0paWYoaj17dmFsdWVzOk8/RTpfKHkpLGtleXM6Zz9FOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpFfSx4KWZvcih3IGluIGopdyBpbiBQfHxpKFAsdyxqW3ddKTtlbHNlIG8oby5QK28uRioocHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2soZCl9O2Vsc2UgaWYodSl7dmFyIHA9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShkKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPXA9LXB9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2MuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxoPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHk9ZSgiLi8kLnNhbWUtdmFsdWUiKSxoPWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6eShlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbaF07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VChvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVQodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVSh0LCEwKSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQSxuLDEpLGMoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci52PWUsci5zPTEsVShyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEEsdCwxKSxjKEQsdCwxKSl9Y2F0Y2gocil7RC5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVShvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1FKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1FKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWlbImRlZmF1bHQiXSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSI6Njh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPXR9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ImRhdGFPYmplY3Q6Ly8iK2V9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZS51cmw7bj9lKG4pOnQoIkRhdGFPYmplY3QgbmFtZSBkb2VzIG5vdCBleGlzdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciB1PW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTx1LmdldFRpbWUoKSYmKGk9dSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgYT1zO2lmKHZvaWQgMD09PWEpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbYV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmF9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NiBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKLy8gTGFzdCBidWlsZDogVGh1IEp1biAwMiAyMDE2IDE1OjQ4OjA1IEdNVCswMTAwIChXRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCx3LE89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8TyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOk8odiksa2V5czptP1Q6TyhoKSxlbnRyaWVzOng/TygiZW50cmllcyIpOlR9LGopZm9yKHcgaW4gJCl3IGluIEV8fGkoRSx3LCRbd10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLHc9c1ttXSxPPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJk8oKSxoKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sTj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShOLG4sMSksYShELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoTix0LDEpLGEoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8TyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2Msdz1uLmNyZWF0ZSxPPWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxEPSJmdW5jdGlvbiI9PXR5cGVvZiBrLE49T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooTix0KTtuJiZkZWxldGUgTlt0XSwkKGUsdCxyKSxuJiZlIT09TiYmJChOLHQsbil9OiQsQT1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPXcoay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkkodyhlKSx0KX0sVT1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFMKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEwodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtEfHwoaz1mdW5jdGlvbigpe2lmKEwodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gQShkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVYsbi5pc0VudW09VSxuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKE4sInByb3BlcnR5SXNFbnVtZXJhYmxlIixVLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09RD90OkEodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIUQsIk9iamVjdCIse2NyZWF0ZTpWLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIUR8fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLHc9MDtnPiR8fG0+dzspaD15WyRdLHY9KGI9X1t3XSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyx3KyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsdywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1t3KzFdLHByZXZpb3VzU2libGluZzpfW3ctMV19KSksai0tKTpwLnB1c2goe2g6YixpOnd9KSksdysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InJlYWQiLGZyb206dC5fb3duZXIsdG86ZX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSxuKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6bih0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpufX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdO2lmKG4pe3ZhciBvPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSwyMDA9PT1vJiZuWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm8sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9EYXRhUHJvdmlzaW9uYWwiOjk3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxiWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gdShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gbChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiBjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4oZikscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxiPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWEsci5nZXRVc2VyVVJMRnJvbUVtYWlsPWMsci5nZXRVc2VyRW1haWxGcm9tVVJMPXUsci5jb252ZXJ0VG9Vc2VyVVJMPWx9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjd9XX0se30sWzkyXSkoOTIpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBJUHY2IFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5JUHY2ID0gZmFjdG9yeShyb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHJvb3QpIHsKICAndXNlIHN0cmljdCc7CgogIC8qCiAgdmFyIF9pbiA9ICJmZTgwOjAwMDA6MDAwMDowMDAwOjAyMDQ6NjFmZjpmZTlkOmYxNTYiOwogIHZhciBfb3V0ID0gSVB2Ni5iZXN0KF9pbik7CiAgdmFyIF9leHBlY3RlZCA9ICJmZTgwOjoyMDQ6NjFmZjpmZTlkOmYxNTYiOwoKICBjb25zb2xlLmxvZyhfaW4sIF9vdXQsIF9leHBlY3RlZCwgX291dCA9PT0gX2V4cGVjdGVkKTsKICAqLwoKICAvLyBzYXZlIGN1cnJlbnQgSVB2NiB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9JUHY2ID0gcm9vdCAmJiByb290LklQdjY7CgogIGZ1bmN0aW9uIGJlc3RQcmVzZW50YXRpb24oYWRkcmVzcykgewogICAgLy8gYmFzZWQgb246CiAgICAvLyBKYXZhc2NyaXB0IHRvIHRlc3QgYW4gSVB2NiBhZGRyZXNzIGZvciBwcm9wZXIgZm9ybWF0LCBhbmQgdG8KICAgIC8vIHByZXNlbnQgdGhlICJiZXN0IHRleHQgcmVwcmVzZW50YXRpb24iIGFjY29yZGluZyB0byBJRVRGIERyYWZ0IFJGQyBhdAogICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNAogICAgLy8gOCBGZWIgMjAxMCBSaWNoIEJyb3duLCBEYXJ0d2FyZSwgTExDCiAgICAvLyBQbGVhc2UgZmVlbCBmcmVlIHRvIHVzZSB0aGlzIGNvZGUgYXMgbG9uZyBhcyB5b3UgcHJvdmlkZSBhIGxpbmsgdG8KICAgIC8vIGh0dHA6Ly93d3cuaW50ZXJtYXBwZXIuY29tCiAgICAvLyBodHRwOi8vaW50ZXJtYXBwZXIuY29tL3N1cHBvcnQvdG9vbHMvSVBWNi1WYWxpZGF0b3IuYXNweAogICAgLy8gaHR0cDovL2Rvd25sb2FkLmRhcnR3YXJlLmNvbS90aGlyZHBhcnR5L2lwdjZ2YWxpZGF0b3IuanMKCiAgICB2YXIgX2FkZHJlc3MgPSBhZGRyZXNzLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgc2VnbWVudHMgPSBfYWRkcmVzcy5zcGxpdCgnOicpOwogICAgdmFyIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKICAgIHZhciB0b3RhbCA9IDg7CgogICAgLy8gdHJpbSBjb2xvbnMgKDo6IG9yIDo6YTpiOmPigKYgb3Ig4oCmYTpiOmM6OikKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnICYmIHNlZ21lbnRzWzJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6OgogICAgICAvLyByZW1vdmUgZmlyc3QgdHdvIGl0ZW1zCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjp4eHh4CiAgICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgaXRlbQogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycgJiYgc2VnbWVudHNbbGVuZ3RoIC0gMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIHh4eHg6OgogICAgICBzZWdtZW50cy5wb3AoKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYWRqdXN0IHRvdGFsIHNlZ21lbnRzIGZvciBJUHY0IHRyYWlsZXIKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXS5pbmRleE9mKCcuJykgIT09IC0xKSB7CiAgICAgIC8vIGZvdW5kIGEgIi4iIHdoaWNoIG1lYW5zIElQdjQKICAgICAgdG90YWwgPSA3OwogICAgfQoKICAgIC8vIGZpbGwgZW1wdHkgc2VnbWVudHMgdGhlbSB3aXRoICIwMDAwIgogICAgdmFyIHBvczsKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoc2VnbWVudHNbcG9zXSA9PT0gJycpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCB0b3RhbCkgewogICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAxLCAnMDAwMCcpOwogICAgICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoIDwgdG90YWwpIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAwLCAnMDAwMCcpOwogICAgICB9CiAgICB9CgogICAgLy8gc3RyaXAgbGVhZGluZyB6ZXJvcwogICAgdmFyIF9zZWdtZW50czsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBfc2VnbWVudHMgPSBzZWdtZW50c1tpXS5zcGxpdCgnJyk7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMyA7IGorKykgewogICAgICAgIGlmIChfc2VnbWVudHNbMF0gPT09ICcwJyAmJiBfc2VnbWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgX3NlZ21lbnRzLnNwbGljZSgwLDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNlZ21lbnRzW2ldID0gX3NlZ21lbnRzLmpvaW4oJycpOwogICAgfQoKICAgIC8vIGZpbmQgbG9uZ2VzdCBzZXF1ZW5jZSBvZiB6ZXJvZXMgYW5kIGNvYWxlc2NlIHRoZW0gaW50byBvbmUgc2VnbWVudAogICAgdmFyIGJlc3QgPSAtMTsKICAgIHZhciBfYmVzdCA9IDA7CiAgICB2YXIgX2N1cnJlbnQgPSAwOwogICAgdmFyIGN1cnJlbnQgPSAtMTsKICAgIHZhciBpbnplcm9lcyA9IGZhbHNlOwogICAgLy8gaTsgYWxyZWFkeSBkZWNsYXJlZAoKICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIGlmIChpbnplcm9lcykgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBfY3VycmVudCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnplcm9lcyA9IGZhbHNlOwogICAgICAgICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBpbnplcm9lcyA9IHRydWU7CiAgICAgICAgICBjdXJyZW50ID0gaTsKICAgICAgICAgIF9jdXJyZW50ID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgIH0KCiAgICBpZiAoX2Jlc3QgPiAxKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShiZXN0LCBfYmVzdCwgJycpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhc3NlbWJsZSByZW1haW5pbmcgc2VnbWVudHMKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycpICB7CiAgICAgIHJlc3VsdCA9ICc6JzsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0ICs9IHNlZ21lbnRzW2ldOwogICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycpIHsKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHsKICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqLwogICAgaWYgKHJvb3QuSVB2NiA9PT0gdGhpcykgewogICAgICByb290LklQdjYgPSBfSVB2NjsKICAgIH0KICAKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGJlc3Q6IGJlc3RQcmVzZW50YXRpb24sCiAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0CiAgfTsKfSkpOwoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqIFNlY29uZCBMZXZlbCBEb21haW4gKFNMRCkgU3VwcG9ydAogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvLyBzYXZlIGN1cnJlbnQgU2Vjb25kTGV2ZWxEb21haW5zIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1NlY29uZExldmVsRG9tYWlucyA9IHJvb3QgJiYgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnM7CgogIHZhciBTTEQgPSB7CiAgICAvLyBsaXN0IG9mIGtub3duIFNlY29uZCBMZXZlbCBEb21haW5zCiAgICAvLyBjb252ZXJ0ZWQgbGlzdCBvZiBTTERzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhdmluZ21pbGxlci9zZWNvbmQtbGV2ZWwtZG9tYWlucwogICAgLy8gLS0tLQogICAgLy8gcHVibGljc3VmZml4Lm9yZyBpcyBtb3JlIGN1cnJlbnQgYW5kIGFjdHVhbGx5IHVzZWQgYnkgYSBjb3VwbGUgb2YgYnJvd3NlcnMgaW50ZXJuYWxseS4KICAgIC8vIGRvd25zaWRlIGlzIGl0IGFsc28gY29udGFpbnMgZG9tYWlucyBsaWtlICJkeW5kbnMub3JnIiAtIHdoaWNoIGlzIGZpbmUgZm9yIHRoZSBzZWN1cml0eQogICAgLy8gaXNzdWVzIGJyb3dzZXIgaGF2ZSB0byBkZWFsIHdpdGggKFNPUCBmb3IgY29va2llcywgZXRjKSAtIGJ1dCBpcyB3YXkgb3ZlcmJvYXJkIGZvciBVUkkuanMKICAgIC8vIC0tLS0KICAgIGxpc3Q6IHsKICAgICAgJ2FjJzonIGNvbSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FlJzonIGFjIGNvIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ2FmJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2FsJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhbyc6JyBjbyBlZCBndiBpdCBvZyBwYiAnLAogICAgICAnYXInOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0dXIgJywKICAgICAgJ2F0JzonIGFjIGNvIGd2IG9yICcsCiAgICAgICdhdSc6JyBhc24gY29tIGNzaXJvIGVkdSBnb3YgaWQgbmV0IG9yZyAnLAogICAgICAnYmEnOicgY28gY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgcnMgdW5iaSB1bm1vIHVuc2EgdW50eiB1bnplICcsCiAgICAgICdiYic6JyBiaXogY28gY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnIHN0b3JlIHR2ICcsCiAgICAgICdiaCc6JyBiaXogY2MgY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdibic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdibyc6JyBjb20gZWR1IGdvYiBnb3YgaW50IG1pbCBuZXQgb3JnIHR2ICcsCiAgICAgICdicic6JyBhZG0gYWR2IGFnciBhbSBhcnEgYXJ0IGF0byBiIGJpbyBibG9nIGJtZCBjaW0gY25nIGNudCBjb20gY29vcCBlY24gZWR1IGVuZyBlc3AgZXRjIGV0aSBmYXIgZmxvZyBmbSBmbmQgZm90IGZzdCBnMTIgZ2dmIGdvdiBpbWIgaW5kIGluZiBqb3IganVzIGxlbCBtYXQgbWVkIG1pbCBtdXMgbmV0IG5vbSBub3QgbnRyIG9kbyBvcmcgcHBnIHBybyBwc2MgcHNpIHFzbCByZWMgc2xnIHNydiB0bXAgdHJkIHR1ciB0diB2ZXQgdmxvZyB3aWtpIHpsZyAnLAogICAgICAnYnMnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYnonOicgZHUgZXQgb20gb3YgcmcgJywKICAgICAgJ2NhJzonIGFiIGJjIG1iIG5iIG5mIG5sIG5zIG50IG51IG9uIHBlIHFjIHNrIHlrICcsCiAgICAgICdjayc6JyBiaXogY28gZWR1IGdlbiBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdjbic6JyBhYyBhaCBiaiBjb20gY3EgZWR1IGZqIGdkIGdvdiBncyBneCBneiBoYSBoYiBoZSBoaSBobCBobiBqbCBqcyBqeCBsbiBtaWwgbmV0IG5tIG54IG9yZyBxaCBzYyBzZCBzaCBzbiBzeCB0aiB0dyB4aiB4eiB5biB6aiAnLAogICAgICAnY28nOicgY29tIGVkdSBnb3YgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICdjcic6JyBhYyBjIGNvIGVkIGZpIGdvIG9yIHNhICcsCiAgICAgICdjeSc6JyBhYyBiaXogY29tIGVrbG9nZXMgZ292IGx0ZCBuYW1lIG5ldCBvcmcgcGFybGlhbWVudCBwcmVzcyBwcm8gdG0gJywKICAgICAgJ2RvJzonIGFydCBjb20gZWR1IGdvYiBnb3YgbWlsIG5ldCBvcmcgc2xkIHdlYiAnLAogICAgICAnZHonOicgYXJ0IGFzc28gY29tIGVkdSBnb3YgbmV0IG9yZyBwb2wgJywKICAgICAgJ2VjJzonIGNvbSBlZHUgZmluIGdvdiBpbmZvIG1lZCBtaWwgbmV0IG9yZyBwcm8gJywKICAgICAgJ2VnJzonIGNvbSBlZHUgZXVuIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaSAnLAogICAgICAnZXInOicgY29tIGVkdSBnb3YgaW5kIG1pbCBuZXQgb3JnIHJvY2hlc3QgdyAnLAogICAgICAnZXMnOicgY29tIGVkdSBnb2Igbm9tIG9yZyAnLAogICAgICAnZXQnOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmFtZSBuZXQgb3JnICcsCiAgICAgICdmaic6JyBhYyBiaXogY29tIGluZm8gbWlsIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ2ZrJzonIGFjIGNvIGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnZnInOicgYXNzbyBjb20gZiBnb3V2IG5vbSBwcmQgcHJlc3NlIHRtICcsCiAgICAgICdnZyc6JyBjbyBuZXQgb3JnICcsCiAgICAgICdnaCc6JyBjb20gZWR1IGdvdiBtaWwgb3JnICcsCiAgICAgICdnbic6JyBhYyBjb20gZ292IG5ldCBvcmcgJywKICAgICAgJ2dyJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdndCc6JyBjb20gZWR1IGdvYiBpbmQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2d1JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2hrJzonIGNvbSBlZHUgZ292IGlkdiBuZXQgb3JnICcsCiAgICAgICdodSc6JyAyMDAwIGFncmFyIGJvbHQgY2FzaW5vIGNpdHkgY28gZXJvdGljYSBlcm90aWthIGZpbG0gZm9ydW0gZ2FtZXMgaG90ZWwgaW5mbyBpbmdhdGxhbiBqb2dhc3oga29ueXZlbG8gbGFrYXMgbWVkaWEgbmV3cyBvcmcgcHJpdiByZWtsYW0gc2V4IHNob3Agc3BvcnQgc3VsaSBzemV4IHRtIHRvenNkZSB1dGF6YXMgdmlkZW8gJywKICAgICAgJ2lkJzonIGFjIGNvIGdvIG1pbCBuZXQgb3Igc2NoIHdlYiAnLAogICAgICAnaWwnOicgYWMgY28gZ292IGlkZiBrMTIgbXVuaSBuZXQgb3JnICcsCiAgICAgICdpbic6JyBhYyBjbyBlZHUgZXJuZXQgZmlybSBnZW4gZ292IGkgaW5kIG1pbCBuZXQgbmljIG9yZyByZXMgJywKICAgICAgJ2lxJzonIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBvcmcgJywKICAgICAgJ2lyJzonIGFjIGNvIGRuc3NlYyBnb3YgaSBpZCBuZXQgb3JnIHNjaCAnLAogICAgICAnaXQnOicgZWR1IGdvdiAnLAogICAgICAnamUnOicgY28gbmV0IG9yZyAnLAogICAgICAnam8nOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ2pwJzonIGFjIGFkIGNvIGVkIGdvIGdyIGxnIG5lIG9yICcsCiAgICAgICdrZSc6JyBhYyBjbyBnbyBpbmZvIG1lIG1vYmkgbmUgb3Igc2MgJywKICAgICAgJ2toJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHBlciAnLAogICAgICAna2knOicgYml6IGNvbSBkZSBlZHUgZ292IGluZm8gbW9iIG5ldCBvcmcgdGVsICcsCiAgICAgICdrbSc6JyBhc3NvIGNvbSBjb29wIGVkdSBnb3V2IGsgbWVkZWNpbiBtaWwgbm9tIG5vdGFpcmVzIHBoYXJtYWNpZW5zIHByZXNzZSB0bSB2ZXRlcmluYWlyZSAnLAogICAgICAna24nOicgZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdrcic6JyBhYyBidXNhbiBjaHVuZ2J1ayBjaHVuZ25hbSBjbyBkYWVndSBkYWVqZW9uIGVzIGdhbmd3b24gZ28gZ3dhbmdqdSBneWVvbmdidWsgZ3llb25nZ2kgZ3llb25nbmFtIGhzIGluY2hlb24gamVqdSBqZW9uYnVrIGplb25uYW0gayBrZyBtaWwgbXMgbmUgb3IgcGUgcmUgc2Mgc2VvdWwgdWxzYW4gJywKICAgICAgJ2t3JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t5JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t6JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdsYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsayc6JyBhc3NuIGNvbSBlZHUgZ292IGdycCBob3RlbCBpbnQgbHRkIG5ldCBuZ28gb3JnIHNjaCBzb2Mgd2ViICcsCiAgICAgICdscic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsdic6JyBhc24gY29tIGNvbmYgZWR1IGdvdiBpZCBtaWwgbmV0IG9yZyAnLAogICAgICAnbHknOicgY29tIGVkdSBnb3YgaWQgbWVkIG5ldCBvcmcgcGxjIHNjaCAnLAogICAgICAnbWEnOicgYWMgY28gZ292IG0gbmV0IG9yZyBwcmVzcyAnLAogICAgICAnbWMnOicgYXNzbyB0bSAnLAogICAgICAnbWUnOicgYWMgY28gZWR1IGdvdiBpdHMgbmV0IG9yZyBwcml2ICcsCiAgICAgICdtZyc6JyBjb20gZWR1IGdvdiBtaWwgbm9tIG9yZyBwcmQgdG0gJywKICAgICAgJ21rJzonIGNvbSBlZHUgZ292IGluZiBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtbCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHByZXNzZSAnLAogICAgICAnbW4nOicgZWR1IGdvdiBvcmcgJywKICAgICAgJ21vJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ210JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ212JzonIGFlcm8gYml6IGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgbWlsIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtdyc6JyBhYyBjbyBjb20gY29vcCBlZHUgZ292IGludCBtdXNldW0gbmV0IG9yZyAnLAogICAgICAnbXgnOicgY29tIGVkdSBnb2IgbmV0IG9yZyAnLAogICAgICAnbXknOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ25mJzonIGFydHMgY29tIGZpcm0gaW5mbyBuZXQgb3RoZXIgcGVyIHJlYyBzdG9yZSB3ZWIgJywKICAgICAgJ25nJzonIGJpeiBjb20gZWR1IGdvdiBtaWwgbW9iaSBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduaSc6JyBhYyBjbyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgJywKICAgICAgJ25wJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICducic6JyBiaXogY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdvbSc6JyBhYyBiaXogY28gY29tIGVkdSBnb3YgbWVkIG1pbCBtdXNldW0gbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdwZSc6JyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwaCc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgbmdvIG9yZyAnLAogICAgICAncGsnOicgYml6IGNvbSBlZHUgZmFtIGdvYiBnb2sgZ29uIGdvcCBnb3MgZ292IG5ldCBvcmcgd2ViICcsCiAgICAgICdwbCc6JyBhcnQgYmlhbHlzdG9rIGJpeiBjb20gZWR1IGdkYSBnZGFuc2sgZ29yem93IGdvdiBpbmZvIGthdG93aWNlIGtyYWtvdyBsb2R6IGx1YmxpbiBtaWwgbmV0IG5nbyBvbHN6dHluIG9yZyBwb3puYW4gcHdyIHJhZG9tIHNsdXBzayBzemN6ZWNpbiB0b3J1biB3YXJzemF3YSB3YXcgd3JvYyB3cm9jbGF3IHpnb3JhICcsCiAgICAgICdwcic6JyBhYyBiaXogY29tIGVkdSBlc3QgZ292IGluZm8gaXNsYSBuYW1lIG5ldCBvcmcgcHJvIHByb2YgJywKICAgICAgJ3BzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgcGxvIHNlYyAnLAogICAgICAncHcnOicgYmVsYXUgY28gZWQgZ28gbmUgb3IgJywKICAgICAgJ3JvJzonIGFydHMgY29tIGZpcm0gaW5mbyBub20gbnQgb3JnIHJlYyBzdG9yZSB0bSB3d3cgJywKICAgICAgJ3JzJzonIGFjIGNvIGVkdSBnb3YgaW4gb3JnICcsCiAgICAgICdzYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzYyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzaCc6JyBjbyBjb20gZWR1IGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnc2wnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc3QnOicgY28gY29tIGNvbnN1bGFkbyBlZHUgZW1iYWl4YWRhIGdvdiBtaWwgbmV0IG9yZyBwcmluY2lwZSBzYW90b21lIHN0b3JlICcsCiAgICAgICdzdic6JyBjb20gZWR1IGdvYiBvcmcgcmVkICcsCiAgICAgICdzeic6JyBhYyBjbyBvcmcgJywKICAgICAgJ3RyJzonIGF2IGJicyBiZWwgYml6IGNvbSBkciBlZHUgZ2VuIGdvdiBpbmZvIGsxMiBuYW1lIG5ldCBvcmcgcG9sIHRlbCB0c2sgdHYgd2ViICcsCiAgICAgICd0dCc6JyBhZXJvIGJpeiBjYXQgY28gY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBqb2JzIG1pbCBtb2JpIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvIHRlbCB0cmF2ZWwgJywKICAgICAgJ3R3JzonIGNsdWIgY29tIGViaXogZWR1IGdhbWUgZ292IGlkdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbXUnOicgYWMgY28gY29tIGdvdiBuZXQgb3Igb3JnICcsCiAgICAgICdteic6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnbmEnOicgY28gY29tICcsCiAgICAgICdueic6JyBhYyBjbyBjcmkgZ2VlayBnZW4gZ292dCBoZWFsdGggaXdpIG1hb3JpIG1pbCBuZXQgb3JnIHBhcmxpYW1lbnQgc2Nob29sICcsCiAgICAgICdwYSc6JyBhYm8gYWMgY29tIGVkdSBnb2IgaW5nIG1lZCBuZXQgbm9tIG9yZyBzbGQgJywKICAgICAgJ3B0JzonIGNvbSBlZHUgZ292IGludCBuZXQgbm9tZSBvcmcgcHVibCAnLAogICAgICAncHknOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3FhJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdyZSc6JyBhc3NvIGNvbSBub20gJywKICAgICAgJ3J1JzonIGFjIGFkeWdleWEgYWx0YWkgYW11ciBhcmtoYW5nZWxzayBhc3RyYWtoYW4gYmFzaGtpcmlhIGJlbGdvcm9kIGJpciBicnlhbnNrIGJ1cnlhdGlhIGNiZyBjaGVsIGNoZWx5YWJpbnNrIGNoaXRhIGNodWtvdGthIGNodXZhc2hpYSBjb20gZGFnZXN0YW4gZS1idXJnIGVkdSBnb3YgZ3Jvem55IGludCBpcmt1dHNrIGl2YW5vdm8gaXpoZXZzayBqYXIgam9zaGthci1vbGEga2FsbXlraWEga2FsdWdhIGthbWNoYXRrYSBrYXJlbGlhIGthemFuIGtjaHIga2VtZXJvdm8ga2hhYmFyb3ZzayBraGFrYXNzaWEga2h2IGtpcm92IGtvZW5pZyBrb21pIGtvc3Ryb21hIGtyYW5veWFyc2sga3ViYW4ga3VyZ2FuIGt1cnNrIGxpcGV0c2sgbWFnYWRhbiBtYXJpIG1hcmktZWwgbWFyaW5lIG1pbCBtb3Jkb3ZpYSBtb3NyZWcgbXNrIG11cm1hbnNrIG5hbGNoaWsgbmV0IG5ub3Ygbm92IG5vdm9zaWJpcnNrIG5zayBvbXNrIG9yZW5idXJnIG9yZyBvcnlvbCBwZW56YSBwZXJtIHBwIHBza292IHB0eiBybmQgcnlhemFuIHNha2hhbGluIHNhbWFyYSBzYXJhdG92IHNpbWJpcnNrIHNtb2xlbnNrIHNwYiBzdGF2cm9wb2wgc3R2IHN1cmd1dCB0YW1ib3YgdGF0YXJzdGFuIHRvbSB0b21zayB0c2FyaXRzeW4gdHNrIHR1bGEgdHV2YSB0dmVyIHR5dW1lbiB1ZG0gdWRtdXJ0aWEgdWxhbi11ZGUgdmxhZGlrYXZrYXogdmxhZGltaXIgdmxhZGl2b3N0b2sgdm9sZ29ncmFkIHZvbG9nZGEgdm9yb25lemggdnJuIHZ5YXRrYSB5YWt1dGlhIHlhbWFsIHlla2F0ZXJpbmJ1cmcgeXV6aG5vLXNha2hhbGluc2sgJywKICAgICAgJ3J3JzonIGFjIGNvIGNvbSBlZHUgZ291diBnb3YgaW50IG1pbCBuZXQgJywKICAgICAgJ3NhJzonIGNvbSBlZHUgZ292IG1lZCBuZXQgb3JnIHB1YiBzY2ggJywKICAgICAgJ3NkJzonIGNvbSBlZHUgZ292IGluZm8gbWVkIG5ldCBvcmcgdHYgJywKICAgICAgJ3NlJzonIGEgYWMgYiBiZCBjIGQgZSBmIGcgaCBpIGsgbCBtIG4gbyBvcmcgcCBwYXJ0aSBwcCBwcmVzcyByIHMgdCB0bSB1IHcgeCB5IHogJywKICAgICAgJ3NnJzonIGNvbSBlZHUgZ292IGlkbiBuZXQgb3JnIHBlciAnLAogICAgICAnc24nOicgYXJ0IGNvbSBlZHUgZ291diBvcmcgcGVyc28gdW5pdiAnLAogICAgICAnc3knOicgY29tIGVkdSBnb3YgbWlsIG5ldCBuZXdzIG9yZyAnLAogICAgICAndGgnOicgYWMgY28gZ28gaW4gbWkgbmV0IG9yICcsCiAgICAgICd0aic6JyBhYyBiaXogY28gY29tIGVkdSBnbyBnb3YgaW5mbyBpbnQgbWlsIG5hbWUgbmV0IG5pYyBvcmcgdGVzdCB3ZWIgJywKICAgICAgJ3RuJzonIGFncmluZXQgY29tIGRlZmVuc2UgZWR1bmV0IGVucyBmaW4gZ292IGluZCBpbmZvIGludGwgbWluY29tIG5hdCBuZXQgb3JnIHBlcnNvIHJucnQgcm5zIHJudSB0b3VyaXNtICcsCiAgICAgICd0eic6JyBhYyBjbyBnbyBuZSBvciAnLAogICAgICAndWEnOicgYml6IGNoZXJrYXNzeSBjaGVybmlnb3YgY2hlcm5vdnRzeSBjayBjbiBjbyBjb20gY3JpbWVhIGN2IGRuIGRuZXByb3BldHJvdnNrIGRvbmV0c2sgZHAgZWR1IGdvdiBpZiBpbiBpdmFuby1mcmFua2l2c2sga2gga2hhcmtvdiBraGVyc29uIGtobWVsbml0c2tpeSBraWV2IGtpcm92b2dyYWQga20ga3Iga3Mga3YgbGcgbHVnYW5zayBsdXRzayBsdml2IG1lIG1rIG5ldCBuaWtvbGFldiBvZCBvZGVzc2Egb3JnIHBsIHBvbHRhdmEgcHAgcm92bm8gcnYgc2ViYXN0b3BvbCBzdW15IHRlIHRlcm5vcGlsIHV6aGdvcm9kIHZpbm5pY2Egdm4gemFwb3Jpemh6aGUgemhpdG9taXIgenAgenQgJywKICAgICAgJ3VnJzonIGFjIGNvIGdvIG5lIG9yIG9yZyBzYyAnLAogICAgICAndWsnOicgYWMgYmwgYnJpdGlzaC1saWJyYXJ5IGNvIGN5bSBnb3YgZ292dCBpY25ldCBqZXQgbGVhIGx0ZCBtZSBtaWwgbW9kIG5hdGlvbmFsLWxpYnJhcnktc2NvdGxhbmQgbmVsIG5ldCBuaHMgbmljIG5scyBvcmcgb3JnbiBwYXJsaWFtZW50IHBsYyBwb2xpY2Ugc2NoIHNjb3Qgc29jICcsCiAgICAgICd1cyc6JyBkbmkgZmVkIGlzYSBraWRzIG5zbiAnLAogICAgICAndXknOicgY29tIGVkdSBndWIgbWlsIG5ldCBvcmcgJywKICAgICAgJ3ZlJzonIGNvIGNvbSBlZHUgZ29iIGluZm8gbWlsIG5ldCBvcmcgd2ViICcsCiAgICAgICd2aSc6JyBjbyBjb20gazEyIG5ldCBvcmcgJywKICAgICAgJ3ZuJzonIGFjIGJpeiBjb20gZWR1IGdvdiBoZWFsdGggaW5mbyBpbnQgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAneWUnOicgY28gY29tIGdvdiBsdGQgbWUgbmV0IG9yZyBwbGMgJywKICAgICAgJ3l1JzonIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICd6YSc6JyBhYyBhZ3JpYyBhbHQgYm91cnNlIGNpdHkgY28gY3liZXJuZXQgZGIgZWR1IGdvdiBncm9uZGFyIGlhY2Nlc3MgaW10IGluY2EgbGFuZGVzaWduIGxhdyBtaWwgbmV0IG5nbyBuaXMgbm9tIG9saXZldHRpIG9yZyBwaXggc2Nob29sIHRtIHdlYiAnLAogICAgICAnem0nOicgYWMgY28gY29tIGVkdSBnb3YgbmV0IG9yZyBzY2ggJwogICAgfSwKICAgIC8vIGdvcmhpbGwgMjAxMy0xMC0yNTogVXNpbmcgaW5kZXhPZigpIGluc3RlYWQgUmVnZXhwKCkuIFNpZ25pZmljYW50IGJvb3N0CiAgICAvLyBpbiBib3RoIHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgZm9vdHByaW50LiBObyBpbml0aWFsaXphdGlvbiByZXF1aXJlZC4KICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3VyaS1qcy1zbGQtcmVnZXgtdnMtYmluYXJ5LXNlYXJjaC80CiAgICAvLyBGb2xsb3dpbmcgbWV0aG9kcyB1c2UgbGFzdEluZGV4T2YoKSByYXRoZXIgdGhhbiBhcnJheS5zcGxpdCgpIGluIG9yZGVyCiAgICAvLyB0byBhdm9pZCBhbnkgbWVtb3J5IGFsbG9jYXRpb25zLgogICAgaGFzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgaXM6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZSgwLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGlmIChzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA8IDApIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxKTsKICAgIH0sCiAgICBub0NvbmZsaWN0OiBmdW5jdGlvbigpewogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPT09IHRoaXMpIHsKICAgICAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IF9TZWNvbmRMZXZlbERvbWFpbnM7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKCiAgcmV0dXJuIFNMRDsKfSkpOwoKfSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9wdW55Y29kZScpLCByZXF1aXJlKCcuL0lQdjYnKSwgcmVxdWlyZSgnLi9TZWNvbmRMZXZlbERvbWFpbnMnKSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShbJy4vcHVueWNvZGUnLCAnLi9JUHY2JywgJy4vU2Vjb25kTGV2ZWxEb21haW5zJ10sIGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5VUkkgPSBmYWN0b3J5KHJvb3QucHVueWNvZGUsIHJvb3QuSVB2Niwgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMsIHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocHVueWNvZGUsIElQdjYsIFNMRCwgcm9vdCkgewogICd1c2Ugc3RyaWN0JzsKICAvKmdsb2JhbCBsb2NhdGlvbiwgZXNjYXBlLCB1bmVzY2FwZSAqLwogIC8vIEZJWE1FOiB2Mi4wLjAgcmVuYW1jZSBub24tY2FtZWxDYXNlIHByb3BlcnRpZXMgdG8gdXBwZXJjYXNlCiAgLypqc2hpbnQgY2FtZWxjYXNlOiBmYWxzZSAqLwoKICAvLyBzYXZlIGN1cnJlbnQgVVJJIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1VSSSA9IHJvb3QgJiYgcm9vdC5VUkk7CgogIGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHsKICAgIHZhciBfdXJsU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDE7CiAgICB2YXIgX2Jhc2VTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjsKCiAgICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmQKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICBpZiAoX2Jhc2VTdXBwbGllZCkgewogICAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsLCBiYXNlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgVVJJKHVybCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgVVJJKCk7CiAgICB9CgogICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSScpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHVybCA9IGxvY2F0aW9uLmhyZWYgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSAnJzsKICAgICAgfQogICAgfQoKICAgIHRoaXMuaHJlZih1cmwpOwoKICAgIC8vIHJlc29sdmUgdG8gYmFzZSBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb25zdHJ1Y3RvcgogICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgVVJJLnZlcnNpb24gPSAnMS4xOC4xJzsKCiAgdmFyIHAgPSBVUkkucHJvdG90eXBlOwogIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoKICBmdW5jdGlvbiBlc2NhcGVSZWdFeChzdHJpbmcpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzCiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKICB9CgogIGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHsKICAgIC8vIElFOCBkb2Vzbid0IHJldHVybiBbT2JqZWN0IFVuZGVmaW5lZF0gYnV0IFtPYmplY3QgT2JqZWN0XSBmb3IgdW5kZWZpbmVkIHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gJ1VuZGVmaW5lZCc7CiAgICB9CgogICAgcmV0dXJuIFN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKS5zbGljZSg4LCAtMSk7CiAgfQoKICBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgcmV0dXJuIGdldFR5cGUob2JqKSA9PT0gJ0FycmF5JzsKICB9CgogIGZ1bmN0aW9uIGZpbHRlckFycmF5VmFsdWVzKGRhdGEsIHZhbHVlKSB7CiAgICB2YXIgbG9va3VwID0ge307CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgbG9va3VwID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbdmFsdWVbaV1dID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbG9va3VwW3ZhbHVlXSA9IHRydWU7CiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICB2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgfHwgIWxvb2t1cCAmJiB2YWx1ZS50ZXN0KGRhdGFbaV0pOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgICAgaWYgKF9tYXRjaCkgewogICAgICAgIGRhdGEuc3BsaWNlKGksIDEpOwogICAgICAgIGxlbmd0aC0tOwogICAgICAgIGktLTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aDsKCiAgICAvLyB2YWx1ZSBtYXkgYmUgc3RyaW5nLCBudW1iZXIsIGFycmF5LCByZWdleHAKICAgIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICAvLyBOb3RlOiB0aGlzIGNhbiBiZSBvcHRpbWl6ZWQgdG8gTyhuKSAoaW5zdGVhZCBvZiBjdXJyZW50IE8obSAqIG4pKQogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGlmICghYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZVtpXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHZhciBfdHlwZSA9IGdldFR5cGUodmFsdWUpOwogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoX3R5cGUgPT09ICdSZWdFeHAnKSB7CiAgICAgICAgaWYgKHR5cGVvZiBsaXN0W2ldID09PSAnc3RyaW5nJyAmJiBsaXN0W2ldLm1hdGNoKHZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxpc3RbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhcnJheXNFcXVhbChvbmUsIHR3bykgewogICAgaWYgKCFpc0FycmF5KG9uZSkgfHwgIWlzQXJyYXkodHdvKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gYXJyYXlzIGNhbid0IGJlIGVxdWFsIGlmIHRoZXkgaGF2ZSBkaWZmZXJlbnQgYW1vdW50IG9mIGNvbnRlbnQKICAgIGlmIChvbmUubGVuZ3RoICE9PSB0d28ubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmUuc29ydCgpOwogICAgdHdvLnNvcnQoKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9uZS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgaWYgKG9uZVtpXSAhPT0gdHdvW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmltU2xhc2hlcyh0ZXh0KSB7CiAgICB2YXIgdHJpbV9leHByZXNzaW9uID0gL15cLyt8XC8rJC9nOwogICAgcmV0dXJuIHRleHQucmVwbGFjZSh0cmltX2V4cHJlc3Npb24sICcnKTsKICB9CgogIFVSSS5fcGFydHMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHByb3RvY29sOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgIGhvc3RuYW1lOiBudWxsLAogICAgICB1cm46IG51bGwsCiAgICAgIHBvcnQ6IG51bGwsCiAgICAgIHBhdGg6IG51bGwsCiAgICAgIHF1ZXJ5OiBudWxsLAogICAgICBmcmFnbWVudDogbnVsbCwKICAgICAgLy8gc3RhdGUKICAgICAgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOiBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLAogICAgICBlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZQogICAgfTsKICB9OwogIC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSkKICBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZmFsc2U7CiAgLy8gc3RhdGU6IHJlcGxhY2VzICsgd2l0aCAlMjAgKHNwYWNlIGluIHF1ZXJ5IHN0cmluZ3MpCiAgVVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlOwogIC8vIHN0YXRpYyBwcm9wZXJ0aWVzCiAgVVJJLnByb3RvY29sX2V4cHJlc3Npb24gPSAvXlthLXpdW2EtejAtOS4rLV0qJC9pOwogIFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVwuLV0vaTsKICBVUkkucHVueWNvZGVfZXhwcmVzc2lvbiA9IC8oeG4tLSkvaTsKICAvLyB3ZWxsLCAzMzMuNDQ0LjU1NS42NjYgbWF0Y2hlcywgYnV0IGl0IHN1cmUgYWluJ3Qgbm8gSVB2NCAtIGRvIHdlIGNhcmU/CiAgVVJJLmlwNF9leHByZXNzaW9uID0gL15cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9JC87CiAgLy8gY3JlZGl0cyB0byBSaWNoIEJyb3duCiAgLy8gc291cmNlOiBodHRwOi8vZm9ydW1zLmludGVybWFwcGVyLmNvbS92aWV3dG9waWMucGhwP3A9MTA5NiMxMDk2CiAgLy8gc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDI5MS50eHQKICBVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpKSglLispP1xzKiQvOwogIC8vIGV4cHJlc3Npb24gdXNlZCBpcyAiZ3J1YmVyIHJldmlzZWQiIChAZ3J1YmVyIHYyKSBkZXRlcm1pbmVkIHRvIGJlIHRoZQogIC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdAogIC8vICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXgKICAvLyAqIGh0dHA6Ly9yb2RuZXlyZWhtLmRlL3QvdXJsLXJlZ2V4Lmh0bWwKICBVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cYigoPzpbYS16XVtcdy1dKzooPzpcL3sxLDN9fFthLXowLTklXSl8d3d3XGR7MCwzfVsuXXxbYS16MC05LlwtXStbLl1bYS16XXsyLDR9XC8pKD86W15ccygpPD5dK3xcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpKSsoPzpcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpfFteXHNgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9pZzsKICBVUkkuZmluZFVyaSA9IHsKICAgIC8vIHZhbGlkICJzY2hlbWU6Ly8iIG9yICJ3d3cuIgogICAgc3RhcnQ6IC9cYig/OihbYS16XVthLXowLTkuKy1dKjpcL1wvKXx3d3dcLikvZ2ksCiAgICAvLyBldmVyeXRoaW5nIHVwIHRvIHRoZSBuZXh0IHdoaXRlc3BhY2UKICAgIGVuZDogL1tcc1xyXG5dfCQvLAogICAgLy8gdHJpbSB0cmFpbGluZyBwdW5jdHVhdGlvbiBjYXB0dXJlZCBieSBlbmQgUmVnRXhwCiAgICB0cmltOiAvW2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskLwogIH07CiAgLy8gaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy91cmktc2NoZW1lcy5odG1sCiAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX1RDUF9hbmRfVURQX3BvcnRfbnVtYmVycyNXZWxsLWtub3duX3BvcnRzCiAgVVJJLmRlZmF1bHRQb3J0cyA9IHsKICAgIGh0dHA6ICc4MCcsCiAgICBodHRwczogJzQ0MycsCiAgICBmdHA6ICcyMScsCiAgICBnb3BoZXI6ICc3MCcsCiAgICB3czogJzgwJywKICAgIHdzczogJzQ0MycKICB9OwogIC8vIGFsbG93ZWQgaG9zdG5hbWUgY2hhcmFjdGVycyBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAvLyBBTFBIQSBESUdJVCAiLSIgIi4iICJfIiAifiIgIiEiICIkIiAiJiIgIiciICIoIiAiKSIgIioiICIrIiAiLCIgIjsiICI9IiAlZW5jb2RlZAogIC8vIEkndmUgbmV2ZXIgc2VlbiBhIChub24tSUROKSBob3N0bmFtZSBvdGhlciB0aGFuOiBBTFBIQSBESUdJVCAuIC0KICBVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzID0gL1teYS16QS1aMC05XC4tXS87CiAgLy8gbWFwIERPTSBFbGVtZW50cyB0byB0aGVpciBVUkkgYXR0cmlidXRlCiAgVVJJLmRvbUF0dHJpYnV0ZXMgPSB7CiAgICAnYSc6ICdocmVmJywKICAgICdibG9ja3F1b3RlJzogJ2NpdGUnLAogICAgJ2xpbmsnOiAnaHJlZicsCiAgICAnYmFzZSc6ICdocmVmJywKICAgICdzY3JpcHQnOiAnc3JjJywKICAgICdmb3JtJzogJ2FjdGlvbicsCiAgICAnaW1nJzogJ3NyYycsCiAgICAnYXJlYSc6ICdocmVmJywKICAgICdpZnJhbWUnOiAnc3JjJywKICAgICdlbWJlZCc6ICdzcmMnLAogICAgJ3NvdXJjZSc6ICdzcmMnLAogICAgJ3RyYWNrJzogJ3NyYycsCiAgICAnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT0iaW1hZ2UiCiAgICAnYXVkaW8nOiAnc3JjJywKICAgICd2aWRlbyc6ICdzcmMnCiAgfTsKICBVUkkuZ2V0RG9tQXR0cmlidXRlID0gZnVuY3Rpb24obm9kZSkgewogICAgaWYgKCFub2RlIHx8ICFub2RlLm5vZGVOYW1lKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgLy8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPSJpbWFnZSIKICAgIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdOwogIH07CgogIGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MQogICAgcmV0dXJuIGVzY2FwZSh2YWx1ZSk7CiAgfQoKICAvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2CiAgZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgewogICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50CiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykKICAgICAgLnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlRm9yRHVtYkZpcmVmb3gzNikKICAgICAgLnJlcGxhY2UoL1wqL2csICclMkEnKTsKICB9CiAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIFVSSS5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogIH07CiAgVVJJLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIH07CiAgVVJJLmNoYXJhY3RlcnMgPSB7CiAgICBwYXRobmFtZTogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIC0uX34hJygpKgogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyNdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNlcnZlZDogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIGdlbi1kZWxpbXMKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTJGJzogJy8nLAogICAgICAgICAgJyUzRic6ICc/JywKICAgICAgICAgICclMjMnOiAnIycsCiAgICAgICAgICAnJTVCJzogJ1snLAogICAgICAgICAgJyU1RCc6ICddJywKICAgICAgICAgICclNDAnOiAnQCcsCiAgICAgICAgICAvLyBzdWItZGVsaW1zCiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cm5wYXRoOiB7CiAgICAgIC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGUKICAgICAgLy8gZm9yIHVzYWdlIGluIGEgVVJOLiBSRkMyMTQxIGFsc28gY2FsbHMgb3V0ICItIiwgIi4iLCBhbmQgIl8iIGFzIGFjY2VwdGFibGUgY2hhcmFjdGVycywgYnV0CiAgICAgIC8vIHRoZXNlIGFyZW4ndCBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHRoZW0gb3V0IGhlcmUuIEFsc28KICAgICAgLy8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanMKICAgICAgLy8gZ2l2ZXMgdGhlIGNvbG9ucyBpbiBVUk5zIHNlbWFudGljIG1lYW5pbmcgYXMgdGhlIGRlbGltaXRlcnMgb2YgcGF0aCBzZWdlbWVudHMsIGFuZCBzbyBpdAogICAgICAvLyBzaG91bGQgbm90IGFwcGVhciB1bmVuY29kZWQgaW4gYSBzZWdtZW50IGl0c2VsZi4KICAgICAgLy8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLgogICAgICBlbmNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyAicmVzZXJ2ZWQiIGNoYXJhY3RlcnMgdGhhdAogICAgICAvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS4KICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/IzpdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycsCiAgICAgICAgICAnOic6ICclM0EnCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICByZXR1cm4gZXNjYXBlUXVlcnlTcGFjZSA/IGVzY2FwZWQucmVwbGFjZSgvJTIwL2csICcrJykgOiBlc2NhcGVkOwogIH07CiAgVVJJLmRlY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBzdHJpbmcgKz0gJyc7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICB0cnkgewogICAgICByZXR1cm4gVVJJLmRlY29kZShlc2NhcGVRdWVyeVNwYWNlID8gc3RyaW5nLnJlcGxhY2UoL1wrL2csICclMjAnKSA6IHN0cmluZyk7CiAgICB9IGNhdGNoKGUpIHsKICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgcmV0dXJuIHN0cmluZzsKICAgIH0KICB9OwogIC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnMKICB2YXIgX3BhcnRzID0geydlbmNvZGUnOidlbmNvZGUnLCAnZGVjb2RlJzonZGVjb2RlJ307CiAgdmFyIF9wYXJ0OwogIHZhciBnZW5lcmF0ZUFjY2Vzc29yID0gZnVuY3Rpb24oX2dyb3VwLCBfcGFydCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBVUklbX3BhcnRdKHN0cmluZyArICcnKS5yZXBsYWNlKFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLmV4cHJlc3Npb24sIGZ1bmN0aW9uKGMpIHsKICAgICAgICAgIHJldHVybiBVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5tYXBbY107CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncywKICAgICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MgogICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgZm9yIChfcGFydCBpbiBfcGFydHMpIHsKICAgIFVSSVtfcGFydCArICdQYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigncGF0aG5hbWUnLCBfcGFydHNbX3BhcnRdKTsKICAgIFVSSVtfcGFydCArICdVcm5QYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigndXJucGF0aCcsIF9wYXJ0c1tfcGFydF0pOwogIH0KCiAgdmFyIGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uID0gZnVuY3Rpb24oX3NlcCwgX2NvZGluZ0Z1bmNOYW1lLCBfaW5uZXJDb2RpbmdGdW5jTmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICAvLyBXaHkgcGFzcyBpbiBuYW1lcyBvZiBmdW5jdGlvbnMsIHJhdGhlciB0aGFuIHRoZSBmdW5jdGlvbiBvYmplY3RzIHRoZW1zZWx2ZXM/IFRoZQogICAgICAvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWUKICAgICAgLy8gdG8gVVJJLmpzIGhhdmluZyBJU084ODU5IGFuZCBVbmljb2RlIG1vZGVzLiBQYXNzaW5nIGluIHRoZSBuYW1lIGFuZCBnZXR0aW5nIGl0IHdpbGwgZW5zdXJlCiAgICAgIC8vIHRoYXQgdGhlIGZ1bmN0aW9ucyB3ZSB1c2UgaGVyZSBhcmUgImZyZXNoIi4KICAgICAgdmFyIGFjdHVhbENvZGluZ0Z1bmM7CiAgICAgIGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgICAgICAgcmV0dXJuIFVSSVtfY29kaW5nRnVuY05hbWVdKFVSSVtfaW5uZXJDb2RpbmdGdW5jTmFtZV0oc3RyaW5nKSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHNlZ21lbnRzID0gKHN0cmluZyArICcnKS5zcGxpdChfc2VwKTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHNlZ21lbnRzW2ldID0gYWN0dWFsQ29kaW5nRnVuYyhzZWdtZW50c1tpXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50cy5qb2luKF9zZXApOwogICAgfTsKICB9OwoKICAvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy4KICBVUkkuZGVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2RlY29kZVBhdGhTZWdtZW50Jyk7CiAgVVJJLmRlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdkZWNvZGVVcm5QYXRoU2VnbWVudCcpOwogIFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CiAgVVJJLnJlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdlbmNvZGVVcm5QYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKCiAgVVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7CgogIFVSSS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHZhciBwb3M7CiAgICBpZiAoIXBhcnRzKSB7CiAgICAgIHBhcnRzID0ge307CiAgICB9CiAgICAvLyBbcHJvdG9jb2wiOi8vIlt1c2VybmFtZVsiOiJwYXNzd29yZF0iQCJdaG9zdG5hbWVbIjoicG9ydF0iLyI/XVtwYXRoXVsiPyJxdWVyeXN0cmluZ11bIiMiZnJhZ21lbnRdCgogICAgLy8gZXh0cmFjdCBmcmFnbWVudAogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcHJvdG9jb2wKICAgIGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7CiAgICAgIC8vIHJlbGF0aXZlLXNjaGVtZQogICAgICBwYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7CiAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgIHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgaWYgKHBhcnRzLnByb3RvY29sICYmICFwYXJ0cy5wcm90b2NvbC5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIC8vIDogbWF5IGJlIHdpdGhpbiB0aGUgcGF0aAogICAgICAgICAgcGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEsIHBvcyArIDMpID09PSAnLy8nKSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDMpOwoKICAgICAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICAgICAgICBwYXJ0cy51cm4gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGgKICAgIHBhcnRzLnBhdGggPSBzdHJpbmc7CgogICAgLy8gYW5kIHdlJ3JlIGRvbmUKICAgIHJldHVybiBwYXJ0czsKICB9OwogIFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci4KICAgIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlcwogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0CiAgICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvcHVsbC8yMzMKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXC9nLCAnLycpOwoKICAgIC8vIGV4dHJhY3QgaG9zdDpwb3J0CiAgICB2YXIgcG9zID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBicmFja2V0UG9zOwogICAgdmFyIHQ7CgogICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgcG9zID0gc3RyaW5nLmxlbmd0aDsKICAgIH0KCiAgICBpZiAoc3RyaW5nLmNoYXJBdCgwKSA9PT0gJ1snKSB7CiAgICAgIC8vIElQdjYgaG9zdCAtIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQjc2VjdGlvbi02CiAgICAgIC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzCiAgICAgIC8vIElQdjYrcG9ydCBpbiB0aGUgZm9ybWF0IFsyMDAxOmRiODo6MV06ODAgKGZvciB0aGUgdGltZSBiZWluZykKICAgICAgYnJhY2tldFBvcyA9IHN0cmluZy5pbmRleE9mKCddJyk7CiAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsOwogICAgICBwYXJ0cy5wb3J0ID0gc3RyaW5nLnN1YnN0cmluZyhicmFja2V0UG9zICsgMiwgcG9zKSB8fCBudWxsOwogICAgICBpZiAocGFydHMucG9ydCA9PT0gJy8nKSB7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTsKICAgICAgdmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgICB2YXIgbmV4dENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonLCBmaXJzdENvbG9uICsgMSk7CiAgICAgIGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkgewogICAgICAgIC8vIElQdjYgaG9zdCBjb250YWlucyBtdWx0aXBsZSBjb2xvbnMgLSBidXQgbm8gcG9ydAogICAgICAgIC8vIHRoaXMgbm90YXRpb24gaXMgYWN0dWFsbHkgbm90IGFsbG93ZWQgYnkgUkZDIDM5ODYsIGJ1dCB3ZSdyZSBhIGxpYmVyYWwgcGFyc2VyCiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDsKICAgICAgICBwYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSB0WzBdIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IHRbMV0gfHwgbnVsbDsKICAgICAgfQogICAgfQoKICAgIGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgcG9zKys7CiAgICAgIHN0cmluZyA9ICcvJyArIHN0cmluZzsKICAgIH0KCiAgICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3MpIHx8ICcvJzsKICB9OwogIFVSSS5wYXJzZUF1dGhvcml0eSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHN0cmluZyA9IFVSSS5wYXJzZVVzZXJpbmZvKHN0cmluZywgcGFydHMpOwogICAgcmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7CiAgfTsKICBVUkkucGFyc2VVc2VyaW5mbyA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmQKICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpOwogICAgdmFyIHQ7CgogICAgLy8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoCiAgICBpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7CiAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgcGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7CiAgICAgIHQuc2hpZnQoKTsKICAgICAgcGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMudXNlcm5hbWUgPSBudWxsOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZzsKICB9OwogIFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBpZiAoIXN0cmluZykgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgLy8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtICI/IltuYW1lIj0idmFsdWUiJiJdKwogICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLyYrL2csICcmJykucmVwbGFjZSgvXlw/KiYqfCYrJC9nLCAnJyk7CgogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIHZhciBpdGVtcyA9IHt9OwogICAgdmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpOwogICAgdmFyIGxlbmd0aCA9IHNwbGl0cy5sZW5ndGg7CiAgICB2YXIgdiwgbmFtZSwgdmFsdWU7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2ID0gc3BsaXRzW2ldLnNwbGl0KCc9Jyk7CiAgICAgIG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgLy8gbm8gIj0iIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVycwogICAgICB2YWx1ZSA9IHYubGVuZ3RoID8gVVJJLmRlY29kZVF1ZXJ5KHYuam9pbignPScpLCBlc2NhcGVRdWVyeVNwYWNlKSA6IG51bGw7CgogICAgICBpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7CiAgICAgICAgaWYgKHR5cGVvZiBpdGVtc1tuYW1lXSA9PT0gJ3N0cmluZycgfHwgaXRlbXNbbmFtZV0gPT09IG51bGwpIHsKICAgICAgICAgIGl0ZW1zW25hbWVdID0gW2l0ZW1zW25hbWVdXTsKICAgICAgICB9CgogICAgICAgIGl0ZW1zW25hbWVdLnB1c2godmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1zW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaXRlbXM7CiAgfTsKCiAgVVJJLmJ1aWxkID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7CiAgICB9CgogICAgaWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJy8vJzsKICAgIH0KCiAgICB0ICs9IChVUkkuYnVpbGRBdXRob3JpdHkocGFydHMpIHx8ICcnKTsKCiAgICBpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0ICs9ICcvJzsKICAgICAgfQoKICAgICAgdCArPSBwYXJ0cy5wYXRoOwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7CiAgICAgIHQgKz0gJz8nICsgcGFydHMucXVlcnk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDsKICAgIH0KICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmICghcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmV0dXJuICcnOwogICAgfSBlbHNlIGlmIChVUkkuaXA2X2V4cHJlc3Npb24udGVzdChwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnWycgKyBwYXJ0cy5ob3N0bmFtZSArICddJzsKICAgIH0gZWxzZSB7CiAgICAgIHQgKz0gcGFydHMuaG9zdG5hbWU7CiAgICB9CgogICAgaWYgKHBhcnRzLnBvcnQpIHsKICAgICAgdCArPSAnOicgKyBwYXJ0cy5wb3J0OwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkQXV0aG9yaXR5ID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHJldHVybiBVUkkuYnVpbGRVc2VyaW5mbyhwYXJ0cykgKyBVUkkuYnVpbGRIb3N0KHBhcnRzKTsKICB9OwogIFVSSS5idWlsZFVzZXJpbmZvID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnVzZXJuYW1lKSB7CiAgICAgIHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7CiAgICB9CgogICAgaWYgKHBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7CiAgICB9CgogICAgaWYgKHQpIHsKICAgICAgdCArPSAnQCc7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYgb3IgaHR0cDovL2xhYnMuYXBhY2hlLm9yZy93ZWJhcmNoL3VyaS9yZmMvcmZjMzk4Ni5odG1sCiAgICAvLyBiZWluZyDCuy0uX34hJCYnKCkqKyw7PTpALz/CqyAlSEVYIGFuZCBhbG51bSBhcmUgYWxsb3dlZAogICAgLy8gdGhlIFJGQyBleHBsaWNpdGx5IHN0YXRlcyA/L2ZvbyBiZWluZyBhIHZhbGlkIHVzZSBjYXNlLCBubyBtZW50aW9uIG9mIHBhcmFtZXRlciBzeW50YXghCiAgICAvLyBVUkkuanMgdHJlYXRzIHRoZSBxdWVyeSBzdHJpbmcgYXMgYmVpbmcgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlCgogICAgdmFyIHQgPSAnJzsKICAgIHZhciB1bmlxdWUsIGtleSwgaSwgbGVuZ3RoOwogICAgZm9yIChrZXkgaW4gZGF0YSkgewogICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSAmJiBrZXkpIHsKICAgICAgICBpZiAoaXNBcnJheShkYXRhW2tleV0pKSB7CiAgICAgICAgICB1bmlxdWUgPSB7fTsKICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGFba2V5XS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZGF0YVtrZXldW2ldICE9PSB1bmRlZmluZWQgJiYgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XVtpXSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgICAgICAgaWYgKGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQuc3Vic3RyaW5nKDEpOwogIH07CiAgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlIC0tIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gZG9uJ3QgYXBwZW5kICI9IiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvbgogICAgcmV0dXJuIFVSSS5lbmNvZGVRdWVyeShuYW1lLCBlc2NhcGVRdWVyeVNwYWNlKSArICh2YWx1ZSAhPT0gbnVsbCA/ICc9JyArIFVSSS5lbmNvZGVRdWVyeSh2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgOiAnJyk7CiAgfTsKCiAgVVJJLmFkZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBkYXRhW25hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykgewogICAgICAgIGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07CiAgICAgIH0KCiAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07CiAgICAgIH0KCiAgICAgIGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aCwga2V5OwoKICAgIGlmIChpc0FycmF5KG5hbWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGdldFR5cGUobmFtZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkpIHsKICAgICAgICAgIGRhdGFba2V5XSA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAoa2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykgewogICAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pICYmIHZhbHVlLnRlc3QoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW25hbWVdID09PSBTdHJpbmcodmFsdWUpICYmICghaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSkgewogICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkuaGFzUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHN3aXRjaCAoZ2V0VHlwZShuYW1lKSkgewogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZQogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkpIHsKICAgICAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpICYmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IFVSSS5oYXNRdWVyeShkYXRhLCBrZXksIHZhbHVlKSkpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgY2FzZSAnT2JqZWN0JzoKICAgICAgICBmb3IgKHZhciBfa2V5IGluIG5hbWUpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBfa2V5KSkgewogICAgICAgICAgICBpZiAoIVVSSS5oYXNRdWVyeShkYXRhLCBfa2V5LCBuYW1lW19rZXldKSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYSBzdHJpbmcsIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBvYmplY3QgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CgogICAgc3dpdGNoIChnZXRUeXBlKHZhbHVlKSkgewogICAgICBjYXNlICdVbmRlZmluZWQnOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIChidXQgbWF5IGJlIGVtcHR5KQogICAgICAgIHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDsKCiAgICAgIGNhc2UgJ0Jvb2xlYW4nOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHkKICAgICAgICB2YXIgX2Jvb2x5ID0gQm9vbGVhbihpc0FycmF5KGRhdGFbbmFtZV0pID8gZGF0YVtuYW1lXS5sZW5ndGggOiBkYXRhW25hbWVdKTsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IF9ib29seTsKCiAgICAgIGNhc2UgJ0Z1bmN0aW9uJzoKICAgICAgICAvLyBhbGxvdyBjb21wbGV4IGNvbXBhcmlzb24KICAgICAgICByZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTsKCiAgICAgIGNhc2UgJ0FycmF5JzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhciBvcCA9IHdpdGhpbkFycmF5ID8gYXJyYXlDb250YWlucyA6IGFycmF5c0VxdWFsOwogICAgICAgIHJldHVybiBvcChkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdOdW1iZXInOgogICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTsKICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovCiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKCgogIFVSSS5qb2luUGF0aHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBpbnB1dCA9IFtdOwogICAgdmFyIHNlZ21lbnRzID0gW107CiAgICB2YXIgbm9uRW1wdHlTZWdtZW50cyA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHVybCA9IG5ldyBVUkkoYXJndW1lbnRzW2ldKTsKICAgICAgaW5wdXQucHVzaCh1cmwpOwogICAgICB2YXIgX3NlZ21lbnRzID0gdXJsLnNlZ21lbnQoKTsKICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBfc2VnbWVudHMubGVuZ3RoOyBzKyspIHsKICAgICAgICBpZiAodHlwZW9mIF9zZWdtZW50c1tzXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2goX3NlZ21lbnRzW3NdKTsKICAgICAgICB9CgogICAgICAgIGlmIChfc2VnbWVudHNbc10pIHsKICAgICAgICAgIG5vbkVtcHR5U2VnbWVudHMrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhbm9uRW1wdHlTZWdtZW50cykgewogICAgICByZXR1cm4gbmV3IFVSSSgnJyk7CiAgICB9CgogICAgdmFyIHVyaSA9IG5ldyBVUkkoJycpLnNlZ21lbnQoc2VnbWVudHMpOwoKICAgIGlmIChpbnB1dFswXS5wYXRoKCkgPT09ICcnIHx8IGlucHV0WzBdLnBhdGgoKS5zbGljZSgwLCAxKSA9PT0gJy8nKSB7CiAgICAgIHVyaS5wYXRoKCcvJyArIHVyaS5wYXRoKCkpOwogICAgfQoKICAgIHJldHVybiB1cmkubm9ybWFsaXplKCk7CiAgfTsKCiAgVVJJLmNvbW1vblBhdGggPSBmdW5jdGlvbihvbmUsIHR3bykgewogICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKG9uZS5sZW5ndGgsIHR3by5sZW5ndGgpOwogICAgdmFyIHBvczsKCiAgICAvLyBmaW5kIGZpcnN0IG5vbi1tYXRjaGluZyBjaGFyYWN0ZXIKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSB0d28uY2hhckF0KHBvcykpIHsKICAgICAgICBwb3MtLTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCAxKSB7CiAgICAgIHJldHVybiBvbmUuY2hhckF0KDApID09PSB0d28uY2hhckF0KDApICYmIG9uZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnOwogICAgfQoKICAgIC8vIHJldmVydCB0byBsYXN0IC8KICAgIGlmIChvbmUuY2hhckF0KHBvcykgIT09ICcvJyB8fCB0d28uY2hhckF0KHBvcykgIT09ICcvJykgewogICAgICBwb3MgPSBvbmUuc3Vic3RyaW5nKDAsIHBvcykubGFzdEluZGV4T2YoJy8nKTsKICAgIH0KCiAgICByZXR1cm4gb25lLnN1YnN0cmluZygwLCBwb3MgKyAxKTsKICB9OwoKICBVUkkud2l0aGluU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgb3B0aW9ucykgewogICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTsKICAgIHZhciBfc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IFVSSS5maW5kVXJpLnN0YXJ0OwogICAgdmFyIF9lbmQgPSBvcHRpb25zLmVuZCB8fCBVUkkuZmluZFVyaS5lbmQ7CiAgICB2YXIgX3RyaW0gPSBvcHRpb25zLnRyaW0gfHwgVVJJLmZpbmRVcmkudHJpbTsKICAgIHZhciBfYXR0cmlidXRlT3BlbiA9IC9bYS16MC05LV09WyInXT8kL2k7CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICB2YXIgbWF0Y2ggPSBfc3RhcnQuZXhlYyhzdHJpbmcpOwogICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4OwogICAgICBpZiAob3B0aW9ucy5pZ25vcmVIdG1sKSB7CiAgICAgICAgLy8gYXR0cmlidXQoZT1bIiddPyQpCiAgICAgICAgdmFyIGF0dHJpYnV0ZU9wZW4gPSBzdHJpbmcuc2xpY2UoTWF0aC5tYXgoc3RhcnQgLSAzLCAwKSwgc3RhcnQpOwogICAgICAgIGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgc3RyaW5nLnNsaWNlKHN0YXJ0KS5zZWFyY2goX2VuZCk7CiAgICAgIHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZSAmJiBvcHRpb25zLmlnbm9yZS50ZXN0KHNsaWNlKSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBlbmQgPSBzdGFydCArIHNsaWNlLmxlbmd0aDsKICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgc3RhcnQpICsgcmVzdWx0ICsgc3RyaW5nLnNsaWNlKGVuZCk7CiAgICAgIF9zdGFydC5sYXN0SW5kZXggPSBzdGFydCArIHJlc3VsdC5sZW5ndGg7CiAgICB9CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICByZXR1cm4gc3RyaW5nOwogIH07CgogIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikgewogICAgLy8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpCiAgICAvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qcwoKICAgIGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgIC8vIHRlc3QgcHVueWNvZGUKICAgICAgaWYgKCFwdW55Y29kZSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7CiAgICAgIH0KCiAgICAgIGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIG5vQ29uZmxpY3QKICBVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uKHJlbW92ZUFsbCkgewogICAgaWYgKHJlbW92ZUFsbCkgewogICAgICB2YXIgdW5jb25mbGljdGVkID0gewogICAgICAgIFVSSTogdGhpcy5ub0NvbmZsaWN0KCkKICAgICAgfTsKCiAgICAgIGlmIChyb290LlVSSVRlbXBsYXRlICYmIHR5cGVvZiByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuVVJJVGVtcGxhdGUgPSByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgaWYgKHJvb3QuSVB2NiAmJiB0eXBlb2Ygcm9vdC5JUHY2Lm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuSVB2NiA9IHJvb3QuSVB2Ni5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyAmJiB0eXBlb2Ygcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5TZWNvbmRMZXZlbERvbWFpbnMgPSByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmNvbmZsaWN0ZWQ7CiAgICB9IGVsc2UgaWYgKHJvb3QuVVJJID09PSB0aGlzKSB7CiAgICAgIHJvb3QuVVJJID0gX1VSSTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmJ1aWxkID0gZnVuY3Rpb24oZGVmZXJCdWlsZCkgewogICAgaWYgKGRlZmVyQnVpbGQgPT09IHRydWUpIHsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkZWZlckJ1aWxkID09PSB1bmRlZmluZWQgfHwgdGhpcy5fZGVmZXJyZWRfYnVpbGQpIHsKICAgICAgdGhpcy5fc3RyaW5nID0gVVJJLmJ1aWxkKHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gbmV3IFVSSSh0aGlzKTsKICB9OwoKICBwLnZhbHVlT2YgPSBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5idWlsZChmYWxzZSkuX3N0cmluZzsKICB9OwoKCiAgZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcihfcGFydCl7CiAgICByZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcGFydHNbX3BhcnRdID0gdiB8fCBudWxsOwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoX3BhcnQsIF9rZXkpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh2ICE9PSBudWxsKSB7CiAgICAgICAgICB2ID0gdiArICcnOwogICAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSBfa2V5KSB7CiAgICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHY7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgcC5wcm90b2NvbCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Byb3RvY29sJyk7CiAgcC51c2VybmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3VzZXJuYW1lJyk7CiAgcC5wYXNzd29yZCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Bhc3N3b3JkJyk7CiAgcC5ob3N0bmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ2hvc3RuYW1lJyk7CiAgcC5wb3J0ID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncG9ydCcpOwogIHAucXVlcnkgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdxdWVyeScsICc/Jyk7CiAgcC5mcmFnbWVudCA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ2ZyYWdtZW50JywgJyMnKTsKCiAgcC5zZWFyY2ggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHQgPSB0aGlzLnF1ZXJ5KHYsIGJ1aWxkKTsKICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJz8nICsgdCkgOiB0OwogIH07CiAgcC5oYXNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5mcmFnbWVudCh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCcjJyArIHQpIDogdDsKICB9OwoKICBwLnBhdGhuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CiAgICAgIHJldHVybiB2ID8gKHRoaXMuX3BhcnRzLnVybiA/IFVSSS5kZWNvZGVVcm5QYXRoIDogVVJJLmRlY29kZVBhdGgpKHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlVXJuUGF0aCh2KSA6ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7CiAgICAgIH0KICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucGF0aCA9IHAucGF0aG5hbWU7CiAgcC5ocmVmID0gZnVuY3Rpb24oaHJlZiwgYnVpbGQpIHsKICAgIHZhciBrZXk7CgogICAgaWYgKGhyZWYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpOwogICAgfQoKICAgIHRoaXMuX3N0cmluZyA9ICcnOwogICAgdGhpcy5fcGFydHMgPSBVUkkuX3BhcnRzKCk7CgogICAgdmFyIF9VUkkgPSBocmVmIGluc3RhbmNlb2YgVVJJOwogICAgdmFyIF9vYmplY3QgPSB0eXBlb2YgaHJlZiA9PT0gJ29iamVjdCcgJiYgKGhyZWYuaG9zdG5hbWUgfHwgaHJlZi5wYXRoIHx8IGhyZWYucGF0aG5hbWUpOwogICAgaWYgKGhyZWYubm9kZU5hbWUpIHsKICAgICAgdmFyIGF0dHJpYnV0ZSA9IFVSSS5nZXREb21BdHRyaWJ1dGUoaHJlZik7CiAgICAgIGhyZWYgPSBocmVmW2F0dHJpYnV0ZV0gfHwgJyc7CiAgICAgIF9vYmplY3QgPSBmYWxzZTsKICAgIH0KCiAgICAvLyB3aW5kb3cubG9jYXRpb24gaXMgcmVwb3J0ZWQgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQncyBub3QgdGhlIHNvcnQKICAgIC8vIG9mIG9iamVjdCB3ZSdyZSBsb29raW5nIGZvcjoKICAgIC8vICogbG9jYXRpb24ucHJvdG9jb2wgZW5kcyB3aXRoIGEgY29sb24KICAgIC8vICogbG9jYXRpb24ucXVlcnkgIT0gb2JqZWN0LnNlYXJjaAogICAgLy8gKiBsb2NhdGlvbi5oYXNoICE9IG9iamVjdC5mcmFnbWVudAogICAgLy8gc2ltcGx5IHNlcmlhbGl6aW5nIHRoZSB1bmtub3duIG9iamVjdCBzaG91bGQgZG8gdGhlIHRyaWNrCiAgICAvLyAoZm9yIGxvY2F0aW9uLCBub3QgZm9yIGV2ZXJ5dGhpbmcuLi4pCiAgICBpZiAoIV9VUkkgJiYgX29iamVjdCAmJiBocmVmLnBhdGhuYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgaHJlZiA9IGhyZWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICBpZiAodHlwZW9mIGhyZWYgPT09ICdzdHJpbmcnIHx8IGhyZWYgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgdGhpcy5fcGFydHMgPSBVUkkucGFyc2UoU3RyaW5nKGhyZWYpLCB0aGlzLl9wYXJ0cyk7CiAgICB9IGVsc2UgaWYgKF9VUkkgfHwgX29iamVjdCkgewogICAgICB2YXIgc3JjID0gX1VSSSA/IGhyZWYuX3BhcnRzIDogaHJlZjsKICAgICAgZm9yIChrZXkgaW4gc3JjKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKHRoaXMuX3BhcnRzLCBrZXkpKSB7CiAgICAgICAgICB0aGlzLl9wYXJ0c1trZXldID0gc3JjW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGlucHV0Jyk7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gaWRlbnRpZmljYXRpb24gYWNjZXNzb3JzCiAgcC5pcyA9IGZ1bmN0aW9uKHdoYXQpIHsKICAgIHZhciBpcCA9IGZhbHNlOwogICAgdmFyIGlwNCA9IGZhbHNlOwogICAgdmFyIGlwNiA9IGZhbHNlOwogICAgdmFyIG5hbWUgPSBmYWxzZTsKICAgIHZhciBzbGQgPSBmYWxzZTsKICAgIHZhciBpZG4gPSBmYWxzZTsKICAgIHZhciBwdW55Y29kZSA9IGZhbHNlOwogICAgdmFyIHJlbGF0aXZlID0gIXRoaXMuX3BhcnRzLnVybjsKCiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmVsYXRpdmUgPSBmYWxzZTsKICAgICAgaXA0ID0gVVJJLmlwNF9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcDYgPSBVUkkuaXA2X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwID0gaXA0IHx8IGlwNjsKICAgICAgbmFtZSA9ICFpcDsKICAgICAgc2xkID0gbmFtZSAmJiBTTEQgJiYgU0xELmhhcyh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlkbiA9IG5hbWUgJiYgVVJJLmlkbl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBwdW55Y29kZSA9IG5hbWUgJiYgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICB9CgogICAgc3dpdGNoICh3aGF0LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAncmVsYXRpdmUnOgogICAgICAgIHJldHVybiByZWxhdGl2ZTsKCiAgICAgIGNhc2UgJ2Fic29sdXRlJzoKICAgICAgICByZXR1cm4gIXJlbGF0aXZlOwoKICAgICAgLy8gaG9zdG5hbWUgaWRlbnRpZmljYXRpb24KICAgICAgY2FzZSAnZG9tYWluJzoKICAgICAgY2FzZSAnbmFtZSc6CiAgICAgICAgcmV0dXJuIG5hbWU7CgogICAgICBjYXNlICdzbGQnOgogICAgICAgIHJldHVybiBzbGQ7CgogICAgICBjYXNlICdpcCc6CiAgICAgICAgcmV0dXJuIGlwOwoKICAgICAgY2FzZSAnaXA0JzoKICAgICAgY2FzZSAnaXB2NCc6CiAgICAgIGNhc2UgJ2luZXQ0JzoKICAgICAgICByZXR1cm4gaXA0OwoKICAgICAgY2FzZSAnaXA2JzoKICAgICAgY2FzZSAnaXB2Nic6CiAgICAgIGNhc2UgJ2luZXQ2JzoKICAgICAgICByZXR1cm4gaXA2OwoKICAgICAgY2FzZSAnaWRuJzoKICAgICAgICByZXR1cm4gaWRuOwoKICAgICAgY2FzZSAndXJsJzoKICAgICAgICByZXR1cm4gIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3Vybic6CiAgICAgICAgcmV0dXJuICEhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAncHVueWNvZGUnOgogICAgICAgIHJldHVybiBwdW55Y29kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICAvLyBjb21wb25lbnQgc3BlY2lmaWMgaW5wdXQgdmFsaWRhdGlvbgogIHZhciBfcHJvdG9jb2wgPSBwLnByb3RvY29sOwogIHZhciBfcG9ydCA9IHAucG9ydDsKICB2YXIgX2hvc3RuYW1lID0gcC5ob3N0bmFtZTsKCiAgcC5wcm90b2NvbCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgLy8gYWNjZXB0IHRyYWlsaW5nIDovLwogICAgICAgIHYgPSB2LnJlcGxhY2UoLzooXC9cLyk/JC8sICcnKTsKCiAgICAgICAgaWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLnNjaGVtZSA9IHAucHJvdG9jb2w7CiAgcC5wb3J0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2ID09PSAwKSB7CiAgICAgICAgdiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgdiArPSAnJzsKICAgICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICc6JykgewogICAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYubWF0Y2goL1teMC05XS8pKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0ICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIF9wb3J0LmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgeCA9IHt9OwogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB4KTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdiA9IHguaG9zdG5hbWU7CiAgICB9CiAgICByZXR1cm4gX2hvc3RuYW1lLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CgogIC8vIGNvbXBvdW5kIGFjY2Vzc29ycwogIHAub3JpZ2luID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTsKICAgICAgdmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7CiAgICAgIGlmICghYXV0aG9yaXR5KSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICByZXR1cm4gKHByb3RvY29sID8gcHJvdG9jb2wgKyAnOi8vJyA6ICcnKSArIHRoaXMuYXV0aG9yaXR5KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgb3JpZ2luID0gVVJJKHYpOwogICAgICB0aGlzCiAgICAgICAgLnByb3RvY29sKG9yaWdpbi5wcm90b2NvbCgpKQogICAgICAgIC5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKQogICAgICAgIC5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuaG9zdCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRIb3N0KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUF1dGhvcml0eSh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnVzZXJpbmZvID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpOwogICAgICByZXR1cm4gdCA/IHQuc3Vic3RyaW5nKDAsIHQubGVuZ3RoIC0xKSA6IHQ7CiAgICB9IGVsc2UgewogICAgICBpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7CiAgICAgICAgdiArPSAnQCc7CiAgICAgIH0KCiAgICAgIFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHBhcnRzOwoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMucGF0aCgpICsgdGhpcy5zZWFyY2goKSArIHRoaXMuaGFzaCgpOwogICAgfQoKICAgIHBhcnRzID0gVVJJLnBhcnNlKHYpOwogICAgdGhpcy5fcGFydHMucGF0aCA9IHBhcnRzLnBhdGg7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5OwogICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBwYXJ0cy5mcmFnbWVudDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGZyYWN0aW9uIGFjY2Vzc29ycwogIHAuc3ViZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJ3d3ciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBncmFiIGRvbWFpbiBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGggLSAxOwogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGVuZCkgfHwgJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoOwogICAgICB2YXIgc3ViID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoc3ViKSk7CgogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLicpIHsKICAgICAgICB2ICs9ICcuJzsKICAgICAgfQoKICAgICAgaWYgKHYpIHsKICAgICAgICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTsKICAgICAgfQoKICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJleGFtcGxlLm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluCiAgICAgIHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1wuL2cpOwogICAgICBpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTsKICAgICAgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBkb21haW4gZW1wdHknKTsKICAgICAgfQoKICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CgogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHY7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnRsZCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIC8vIHJldHVybiAib3JnIiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIHZhciB0bGQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcocG9zICsgMSk7CgogICAgICBpZiAoYnVpbGQgIT09IHRydWUgJiYgU0xEICYmIFNMRC5saXN0W3RsZC50b0xvd2VyQ2FzZSgpXSkgewogICAgICAgIHJldHVybiBTTEQuZ2V0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB8fCB0bGQ7CiAgICAgIH0KCiAgICAgIHJldHVybiB0bGQ7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVwbGFjZTsKCiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIGVtcHR5Jyk7CiAgICAgIH0gZWxzZSBpZiAodi5tYXRjaCgvW15hLXpBLVowLTktXS8pKSB7CiAgICAgICAgaWYgKFNMRCAmJiBTTEQuaXModikpIHsKICAgICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVExEICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZGlyZWN0b3J5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnLyc7CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7CgogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7CiAgICAgIHZhciBkaXJlY3RvcnkgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KGRpcmVjdG9yeSkpOwoKICAgICAgLy8gZnVsbHkgcXVhbGlmaWVyIGRpcmVjdG9yaWVzIGJlZ2luIHdpdGggYSBzbGFzaAogICAgICBpZiAoIXRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHYgPSAnLyc7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICAgICAgdiA9ICcvJyArIHY7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaAogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLycpIHsKICAgICAgICB2ICs9ICcvJzsKICAgICAgfQoKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5maWxlbmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MrMSk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG11dGF0ZWREaXJlY3RvcnkgPSBmYWxzZTsKCiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy8nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICBpZiAodi5tYXRjaCgvXC4/XC8vKSkgewogICAgICAgIG11dGF0ZWREaXJlY3RvcnkgPSB0cnVlOwogICAgICB9CgogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5maWxlbmFtZSgpKSArICckJyk7CiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKCiAgICAgIGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7CiAgICAgICAgdGhpcy5ub3JtYWxpemVQYXRoKGJ1aWxkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7CiAgICAgIHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgcywgcmVzOwoKICAgICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKQogICAgICBzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcysxKTsKICAgICAgcmVzID0gKC9eW2EtejAtOSVdKyQvaSkudGVzdChzKSA/IHMgOiAnJzsKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICB2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXN1ZmZpeCkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB9IGVsc2UgaWYgKCF2KSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7CiAgICAgIH0KCiAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuX3BhcnRzLnVybiA/ICc6JyA6ICcvJzsKICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCk7CiAgICB2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nOwogICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpOwoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHNlZ21lbnQ7CiAgICAgIHNlZ21lbnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCAiJyArIHNlZ21lbnQgKyAnIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTsKICAgIH0KCiAgICBpZiAoYWJzb2x1dGUpIHsKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0KCiAgICBpZiAoc2VnbWVudCA8IDApIHsKICAgICAgLy8gYWxsb3cgbmVnYXRpdmUgaW5kZXhlcyB0byBhZGRyZXNzIGZyb20gdGhlIGVuZAogICAgICBzZWdtZW50ID0gTWF0aC5tYXgoc2VnbWVudHMubGVuZ3RoICsgc2VnbWVudCwgMCk7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICByZXR1cm4gc2VnbWVudCA9PT0gdW5kZWZpbmVkCiAgICAgICAgPyBzZWdtZW50cwogICAgICAgIDogc2VnbWVudHNbc2VnbWVudF07CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgfSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKGlzQXJyYXkodikpIHsKICAgICAgICBzZWdtZW50cyA9IFtdOwogICAgICAgIC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheQogICAgICAgIGZvciAodmFyIGk9MCwgbD12Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgaWYgKCF2W2ldLmxlbmd0aCAmJiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlZ21lbnRzLnB1c2godHJpbVNsYXNoZXModltpXSkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2IHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykgewogICAgICAgIHYgPSB0cmltU2xhc2hlcyh2KTsKICAgICAgICBpZiAoc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9PT0gJycpIHsKICAgICAgICAgIC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW4KICAgICAgICAgIC8vIHRvIHByZXZlbnQgcmVzdWx0cyBzdWNoIGFzIC9mb28vL2JhcgogICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9IHY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2godik7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAodikgewogICAgICAgIHNlZ21lbnRzW3NlZ21lbnRdID0gdHJpbVNsYXNoZXModik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHNlZ21lbnQsIDEpOwogICAgICB9CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnVuc2hpZnQoJycpOwogICAgfQoKICAgIHJldHVybiB0aGlzLnBhdGgoc2VnbWVudHMuam9pbihzZXBhcmF0b3IpLCBidWlsZCk7CiAgfTsKICBwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7CiAgICB2YXIgc2VnbWVudHMsIGksIGw7CgogICAgaWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogICAgICBpZiAoIWlzQXJyYXkoc2VnbWVudHMpKSB7CiAgICAgICAgc2VnbWVudHMgPSBzZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gVVJJLmRlY29kZShzZWdtZW50cykgOiB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChpID0gMCwgbCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgc2VnbWVudHNbaV0gPSBVUkkuZGVjb2RlKHNlZ21lbnRzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50czsKICAgIH0KCiAgICBpZiAoIWlzQXJyYXkodikpIHsKICAgICAgdiA9ICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdiBpbnN0YW5jZW9mIFN0cmluZykgPyBVUkkuZW5jb2RlKHYpIDogdjsKICAgIH0gZWxzZSB7CiAgICAgIGZvciAoaSA9IDAsIGwgPSB2Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZbaV0gPSBVUkkuZW5jb2RlKHZbaV0pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gbXV0YXRpbmcgcXVlcnkgc3RyaW5nCiAgdmFyIHEgPSBwLnF1ZXJ5OwogIHAucXVlcnkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHRydWUpIHsKICAgICAgcmV0dXJuIFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHZhciByZXN1bHQgPSB2LmNhbGwodGhpcywgZGF0YSk7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkocmVzdWx0IHx8IGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHEuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgICB9CiAgfTsKICBwLnNldFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8IG5hbWUgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IG51bGw7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSBuYW1lW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuYWRkUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5oYXNRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICByZXR1cm4gVVJJLmhhc1F1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSk7CiAgfTsKICBwLnNldFNlYXJjaCA9IHAuc2V0UXVlcnk7CiAgcC5hZGRTZWFyY2ggPSBwLmFkZFF1ZXJ5OwogIHAucmVtb3ZlU2VhcmNoID0gcC5yZW1vdmVRdWVyeTsKICBwLmhhc1NlYXJjaCA9IHAuaGFzUXVlcnk7CgogIC8vIHNhbml0aXppbmcgVVJMcwogIHAubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB0aGlzCiAgICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVQYXRoKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgICAgLmJ1aWxkKCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMKICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAubm9ybWFsaXplSG9zdG5hbWUoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVQb3J0KGZhbHNlKQogICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKQogICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgIC5idWlsZCgpOwogIH07CiAgcC5ub3JtYWxpemVQcm90b2NvbCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJykgewogICAgICB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9IHRoaXMuX3BhcnRzLnByb3RvY29sLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplSG9zdG5hbWUgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh0aGlzLmlzKCdJRE4nKSAmJiBwdW55Y29kZSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IElQdjYuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIC8vIHJlbW92ZSBwb3J0IG9mIGl0J3MgdGhlIHByb3RvY29sJ3MgZGVmYXVsdAogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fcGFydHMucG9ydCA9PT0gVVJJLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0pIHsKICAgICAgdGhpcy5fcGFydHMucG9ydCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUGF0aCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICB2YXIgX3BhdGggPSB0aGlzLl9wYXJ0cy5wYXRoOwogICAgaWYgKCFfcGF0aCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSBVUkkucmVjb2RlVXJuUGF0aCh0aGlzLl9wYXJ0cy5wYXRoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIF9wYXRoID0gVVJJLnJlY29kZVBhdGgoX3BhdGgpOwoKICAgIHZhciBfd2FzX3JlbGF0aXZlOwogICAgdmFyIF9sZWFkaW5nUGFyZW50cyA9ICcnOwogICAgdmFyIF9wYXJlbnQsIF9wb3M7CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzCiAgICBpZiAoX3BhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgX3dhc19yZWxhdGl2ZSA9IHRydWU7CiAgICAgIF9wYXRoID0gJy8nICsgX3BhdGg7CiAgICB9CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIGZpbGVzIChhcyBvcHBvc2VkIHRvIGRpcmVjdG9yaWVzKQogICAgaWYgKF9wYXRoLnNsaWNlKC0zKSA9PT0gJy8uLicgfHwgX3BhdGguc2xpY2UoLTIpID09PSAnLy4nKSB7CiAgICAgIF9wYXRoICs9ICcvJzsKICAgIH0KCiAgICAvLyByZXNvbHZlIHNpbXBsZXMKICAgIF9wYXRoID0gX3BhdGgKICAgICAgLnJlcGxhY2UoLyhcLyhcLlwvKSspfChcL1wuJCkvZywgJy8nKQogICAgICAucmVwbGFjZSgvXC97Mix9L2csICcvJyk7CgogICAgLy8gcmVtZW1iZXIgbGVhZGluZyBwYXJlbnRzCiAgICBpZiAoX3dhc19yZWxhdGl2ZSkgewogICAgICBfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXC5cLlwvKSsvKSB8fCAnJzsKICAgICAgaWYgKF9sZWFkaW5nUGFyZW50cykgewogICAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9sZWFkaW5nUGFyZW50c1swXTsKICAgICAgfQogICAgfQoKICAgIC8vIHJlc29sdmUgcGFyZW50cwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgX3BhcmVudCA9IF9wYXRoLnNlYXJjaCgvXC9cLlwuKFwvfCQpLyk7CiAgICAgIGlmIChfcGFyZW50ID09PSAtMSkgewogICAgICAgIC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmUKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7CiAgICAgICAgLy8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdAogICAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIGlmIChfcG9zID09PSAtMSkgewogICAgICAgIF9wb3MgPSBfcGFyZW50OwogICAgICB9CiAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gcmVsYXRpdmUKICAgIGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgX3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucGF0aCA9IF9wYXRoOwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGhuYW1lID0gcC5ub3JtYWxpemVQYXRoOwogIHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5xdWVyeS5sZW5ndGgpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeShVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUZyYWdtZW50ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICghdGhpcy5fcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVNlYXJjaCA9IHAubm9ybWFsaXplUXVlcnk7CiAgcC5ub3JtYWxpemVIYXNoID0gcC5ub3JtYWxpemVGcmFnbWVudDsKCiAgcC5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgdW5pY29kZSBpbnB1dCwgaXNvODg1OSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIC8vIGV4cGVjdCBpc284ODU5IGlucHV0LCB1bmljb2RlIG91dHB1dAogICAgdmFyIGUgPSBVUkkuZW5jb2RlOwogICAgdmFyIGQgPSBVUkkuZGVjb2RlOwoKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5yZWFkYWJsZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHVyaSA9IHRoaXMuY2xvbmUoKTsKICAgIC8vIHJlbW92aW5nIHVzZXJuYW1lLCBwYXNzd29yZCwgYmVjYXVzZSB0aGV5IHNob3VsZG4ndCBiZSBkaXNwbGF5ZWQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgICB1cmkudXNlcm5hbWUoJycpLnBhc3N3b3JkKCcnKS5ub3JtYWxpemUoKTsKICAgIHZhciB0ID0gJyc7CiAgICBpZiAodXJpLl9wYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHVyaS5fcGFydHMucHJvdG9jb2wgKyAnOi8vJzsKICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodXJpLmlzKCdwdW55Y29kZScpICYmIHB1bnljb2RlKSB7CiAgICAgICAgdCArPSBwdW55Y29kZS50b1VuaWNvZGUodXJpLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgICAgaWYgKHVyaS5fcGFydHMucG9ydCkgewogICAgICAgICAgdCArPSAnOicgKyB1cmkuX3BhcnRzLnBvcnQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHQgKz0gdXJpLmhvc3QoKTsKICAgICAgfQogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lICYmIHVyaS5fcGFydHMucGF0aCAmJiB1cmkuX3BhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdCArPSAnLyc7CiAgICB9CgogICAgdCArPSB1cmkucGF0aCh0cnVlKTsKICAgIGlmICh1cmkuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgIHZhciBxID0gJyc7CiAgICAgIGZvciAodmFyIGkgPSAwLCBxcCA9IHVyaS5fcGFydHMucXVlcnkuc3BsaXQoJyYnKSwgbCA9IHFwLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBrdiA9IChxcFtpXSB8fCAnJykuc3BsaXQoJz0nKTsKICAgICAgICBxICs9ICcmJyArIFVSSS5kZWNvZGVRdWVyeShrdlswXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgIC5yZXBsYWNlKC8mL2csICclMjYnKTsKCiAgICAgICAgaWYgKGt2WzFdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHEgKz0gJz0nICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzFdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKQogICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHQgKz0gJz8nICsgcS5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdCArPSBVUkkuZGVjb2RlUXVlcnkodXJpLmhhc2goKSwgdHJ1ZSk7CiAgICByZXR1cm4gdDsKICB9OwoKICAvLyByZXNvbHZpbmcgcmVsYXRpdmUgYW5kIGFic29sdXRlIFVSTHMKICBwLmFic29sdXRlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgcHJvcGVydGllcyA9IFsncHJvdG9jb2wnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnaG9zdG5hbWUnLCAncG9ydCddOwogICAgdmFyIGJhc2VkaXIsIGksIHA7CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgaWYgKCEoYmFzZSBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgYmFzZSA9IG5ldyBVUkkoYmFzZSk7CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sID0gYmFzZS5fcGFydHMucHJvdG9jb2w7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiByZXNvbHZlZDsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyAocCA9IHByb3BlcnRpZXNbaV0pOyBpKyspIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzW3BdID0gYmFzZS5fcGFydHNbcF07CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucGF0aCkgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IGJhc2UuX3BhcnRzLnBhdGg7CiAgICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgICAgcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5ID0gYmFzZS5fcGFydHMucXVlcnk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocmVzb2x2ZWQuX3BhcnRzLnBhdGguc3Vic3RyaW5nKC0yKSA9PT0gJy4uJykgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCArPSAnLyc7CiAgICB9CgogICAgaWYgKHJlc29sdmVkLnBhdGgoKS5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBiYXNlZGlyID0gYmFzZS5kaXJlY3RvcnkoKTsKICAgICAgYmFzZWRpciA9IGJhc2VkaXIgPyBiYXNlZGlyIDogYmFzZS5wYXRoKCkuaW5kZXhPZignLycpID09PSAwID8gJy8nIDogJyc7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gKGJhc2VkaXIgPyAoYmFzZWRpciArICcvJykgOiAnJykgKyByZXNvbHZlZC5fcGFydHMucGF0aDsKICAgICAgcmVzb2x2ZWQubm9ybWFsaXplUGF0aCgpOwogICAgfQoKICAgIHJlc29sdmVkLmJ1aWxkKCk7CiAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgfTsKICBwLnJlbGF0aXZlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVsYXRpdmUgPSB0aGlzLmNsb25lKCkubm9ybWFsaXplKCk7CiAgICB2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7CgogICAgaWYgKHJlbGF0aXZlLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpOwogICAgcmVsYXRpdmVQYXJ0cyA9IHJlbGF0aXZlLl9wYXJ0czsKICAgIGJhc2VQYXJ0cyA9IGJhc2UuX3BhcnRzOwogICAgcmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpOwogICAgYmFzZVBhdGggPSBiYXNlLnBhdGgoKTsKCiAgICBpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJJIGlzIGFscmVhZHkgcmVsYXRpdmUnKTsKICAgIH0KCiAgICBpZiAoYmFzZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJJyk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPT09IGJhc2VQYXJ0cy5wcm90b2NvbCkgewogICAgICByZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IG51bGwpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPT09IGJhc2VQYXJ0cy5ob3N0bmFtZSAmJiByZWxhdGl2ZVBhcnRzLnBvcnQgPT09IGJhc2VQYXJ0cy5wb3J0KSB7CiAgICAgIHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsOwogICAgICByZWxhdGl2ZVBhcnRzLnBvcnQgPSBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gJyc7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIC8vIGRldGVybWluZSBjb21tb24gc3ViIHBhdGgKICAgIGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpOwoKICAgIC8vIElmIHRoZSBwYXRocyBoYXZlIG5vdGhpbmcgaW4gY29tbW9uLCByZXR1cm4gYSByZWxhdGl2ZSBVUkwgd2l0aCB0aGUgYWJzb2x1dGUgcGF0aC4KICAgIGlmICghY29tbW9uKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIHZhciBwYXJlbnRzID0gYmFzZVBhcnRzLnBhdGgKICAgICAgLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKQogICAgICAucmVwbGFjZSgvW15cL10qJC8sICcnKQogICAgICAucmVwbGFjZSgvLio/XC8vZywgJy4uLycpOwoKICAgIHJlbGF0aXZlUGFydHMucGF0aCA9IChwYXJlbnRzICsgcmVsYXRpdmVQYXJ0cy5wYXRoLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKSkgfHwgJy4vJzsKCiAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICB9OwoKICAvLyBjb21wYXJpbmcgVVJJcwogIHAuZXF1YWxzID0gZnVuY3Rpb24odXJpKSB7CiAgICB2YXIgb25lID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHR3byA9IG5ldyBVUkkodXJpKTsKICAgIHZhciBvbmVfbWFwID0ge307CiAgICB2YXIgdHdvX21hcCA9IHt9OwogICAgdmFyIGNoZWNrZWQgPSB7fTsKICAgIHZhciBvbmVfcXVlcnksIHR3b19xdWVyeSwga2V5OwoKICAgIG9uZS5ub3JtYWxpemUoKTsKICAgIHR3by5ub3JtYWxpemUoKTsKCiAgICAvLyBleGFjdCBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpID09PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZwogICAgb25lX3F1ZXJ5ID0gb25lLnF1ZXJ5KCk7CiAgICB0d29fcXVlcnkgPSB0d28ucXVlcnkoKTsKICAgIG9uZS5xdWVyeSgnJyk7CiAgICB0d28ucXVlcnkoJycpOwoKICAgIC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpICE9PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gcXVlcnkgcGFyYW1ldGVycyBoYXZlIHRoZSBzYW1lIGxlbmd0aCwgZXZlbiBpZiB0aGV5J3JlIHBlcm11dGVkCiAgICBpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KG9uZV9xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB0d29fbWFwID0gVVJJLnBhcnNlUXVlcnkodHdvX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBmb3IgKGtleSBpbiBvbmVfbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbChvbmVfbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHsKICAgICAgICAgIGlmIChvbmVfbWFwW2tleV0gIT09IHR3b19tYXBba2V5XSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICghYXJyYXlzRXF1YWwob25lX21hcFtrZXldLCB0d29fbWFwW2tleV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBjaGVja2VkW2tleV0gPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgZm9yIChrZXkgaW4gdHdvX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwodHdvX21hcCwga2V5KSkgewogICAgICAgIGlmICghY2hlY2tlZFtrZXldKSB7CiAgICAgICAgICAvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgLy8gc3RhdGUKICBwLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICByZXR1cm4gVVJJOwp9KSk7Cgp9LHsiLi9JUHY2Ijo0LCIuL1NlY29uZExldmVsRG9tYWlucyI6NSwiLi9wdW55Y29kZSI6N31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4wIGJ5IEBtYXRoaWFzICovCjsoZnVuY3Rpb24ocm9vdCkgewoKCS8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi8KCXZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYKCQkhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwoJdmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJgoJCSFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlOwoJdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDsKCWlmICgKCQlmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8CgkJZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsCgkpIHsKCQlyb290ID0gZnJlZUdsb2JhbDsKCX0KCgkvKioKCSAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC4KCSAqIEBuYW1lIHB1bnljb2RlCgkgKiBAdHlwZSBPYmplY3QKCSAqLwoJdmFyIHB1bnljb2RlLAoKCS8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi8KCW1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTEKCgkvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovCgliYXNlID0gMzYsCgl0TWluID0gMSwKCXRNYXggPSAyNiwKCXNrZXcgPSAzOCwKCWRhbXAgPSA3MDAsCglpbml0aWFsQmlhcyA9IDcyLAoJaW5pdGlhbE4gPSAxMjgsIC8vIDB4ODAKCWRlbGltaXRlciA9ICctJywgLy8gJ1x4MkQnCgoJLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi8KCXJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLAoJcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFycwoJcmVnZXhTZXBhcmF0b3JzID0gL1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzCgoJLyoqIEVycm9yIG1lc3NhZ2VzICovCgllcnJvcnMgPSB7CgkJJ292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJywKCQknbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLAoJCSdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnCgl9LAoKCS8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi8KCWJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbiwKCWZsb29yID0gTWF0aC5mbG9vciwKCXN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsCgoJLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwoJa2V5OwoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKgoJICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuCgkgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuCgkgKi8KCWZ1bmN0aW9uIGVycm9yKHR5cGUpIHsKCQl0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pOwoJfQoKCS8qKgoJICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheQoJICogaXRlbS4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwKGFycmF5LCBmbikgewoJCXZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7CgkJdmFyIHJlc3VsdCA9IFtdOwoJCXdoaWxlIChsZW5ndGgtLSkgewoJCQlyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pOwoJCX0KCQlyZXR1cm4gcmVzdWx0OwoJfQoKCS8qKgoJICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCgkgKiBhZGRyZXNzZXMuCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeQoJICogY2hhcmFjdGVyLgoJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKCSAqIGZ1bmN0aW9uLgoJICovCglmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikgewoJCXZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpOwoJCXZhciByZXN1bHQgPSAnJzsKCQlpZiAocGFydHMubGVuZ3RoID4gMSkgewoJCQkvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCgkJCS8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuCgkJCXJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwoJCQlzdHJpbmcgPSBwYXJ0c1sxXTsKCQl9CgkJLy8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LgoJCXN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1x4MkUnKTsKCQl2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7CgkJdmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpOwoJCXJldHVybiByZXN1bHQgKyBlbmNvZGVkOwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQoJICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LAoJICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2gKCSAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAoJICogbWF0Y2hpbmcgVVRGLTE2LgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgCgkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkgKiBAbmFtZSBkZWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCgkgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuCgkgKi8KCWZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7CgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBjb3VudGVyID0gMCwKCQkgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCwKCQkgICAgdmFsdWUsCgkJICAgIGV4dHJhOwoJCXdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCXZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkgewoJCQkJLy8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyCgkJCQlleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCQlpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZQoJCQkJCW91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0CgkJCQkJLy8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyCgkJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQkJCWNvdW50ZXItLTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJfQoJCX0KCQlyZXR1cm4gb3V0cHV0OwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZW5jb2RlCgkgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLgoJICovCglmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7CgkJcmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHsKCQkJdmFyIG91dHB1dCA9ICcnOwoJCQlpZiAodmFsdWUgPiAweEZGRkYpIHsKCQkJCXZhbHVlIC09IDB4MTAwMDA7CgkJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTsKCQkJCXZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjsKCQkJfQoJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9KS5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci4KCSAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS4KCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpbgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZgoJICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuCgkgKi8KCWZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKCQlpZiAoY29kZVBvaW50IC0gNDggPCAxMCkgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gMjI7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA2NTsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDk3OwoJCX0KCQlyZXR1cm4gYmFzZTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC4KCSAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvcgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2UKCSAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpcwoJICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQKCSAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uCgkgKi8KCWZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykgewoJCS8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aCgkJLy8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45CgkJcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTsKCX0KCgkvKioKCSAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCgkgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNAoJICogQHByaXZhdGUKCSAqLwoJZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7CgkJdmFyIGsgPSAwOwoJCWRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7CgkJZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpOwoJCWZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7CgkJCWRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTsKCQl9CgkJcmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZQoJICogc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHsKCQkvLyBEb24ndCB1c2UgVUNTLTIKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLAoJCSAgICBvdXQsCgkJICAgIGkgPSAwLAoJCSAgICBuID0gaW5pdGlhbE4sCgkJICAgIGJpYXMgPSBpbml0aWFsQmlhcywKCQkgICAgYmFzaWMsCgkJICAgIGosCgkJICAgIGluZGV4LAoJCSAgICBvbGRpLAoJCSAgICB3LAoJCSAgICBrLAoJCSAgICBkaWdpdCwKCQkgICAgdCwKCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJICAgIGJhc2VNaW51c1Q7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZQoJCS8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5CgkJLy8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuCgoJCWJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTsKCQlpZiAoYmFzaWMgPCAwKSB7CgkJCWJhc2ljID0gMDsKCQl9CgoJCWZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7CgkJCS8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludAoJCQlpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7CgkJCQllcnJvcignbm90LWJhc2ljJyk7CgkJCX0KCQkJb3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7CgkJfQoKCQkvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlCgkJLy8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS4KCgkJZm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHsKCgkJCS8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC4KCQkJLy8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLAoJCQkvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llcgoJCQkvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZwoJCQkvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLgoJCQlmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgoJCQkJaWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7CgkJCQkJZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTsKCQkJCX0KCgkJCQlkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTsKCgkJCQlpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaSArPSBkaWdpdCAqIHc7CgkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCgkJCQlpZiAoZGlnaXQgPCB0KSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJaWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCXcgKj0gYmFzZU1pbnVzVDsKCgkJCX0KCgkJCW91dCA9IG91dHB1dC5sZW5ndGggKyAxOwoJCQliaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTsKCgkJCS8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsCgkJCS8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6CgkJCWlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQluICs9IGZsb29yKGkgLyBvdXQpOwoJCQlpICU9IG91dDsKCgkJCS8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXQKCQkJb3V0cHV0LnNwbGljZShpKyssIDAsIG4pOwoKCQl9CgoJCXJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYQoJICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHsKCQl2YXIgbiwKCQkgICAgZGVsdGEsCgkJICAgIGhhbmRsZWRDUENvdW50LAoJCSAgICBiYXNpY0xlbmd0aCwKCQkgICAgYmlhcywKCQkgICAgaiwKCQkgICAgbSwKCQkgICAgcSwKCQkgICAgaywKCQkgICAgdCwKCQkgICAgY3VycmVudFZhbHVlLAoJCSAgICBvdXRwdXQgPSBbXSwKCQkgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi8KCQkgICAgaW5wdXRMZW5ndGgsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsCgkJICAgIGJhc2VNaW51c1QsCgkJICAgIHFNaW51c1Q7CgoJCS8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGUKCQlpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpOwoKCQkvLyBDYWNoZSB0aGUgbGVuZ3RoCgkJaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7CgoJCS8vIEluaXRpYWxpemUgdGhlIHN0YXRlCgkJbiA9IGluaXRpYWxOOwoJCWRlbHRhID0gMDsKCQliaWFzID0gaW5pdGlhbEJpYXM7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMKCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHsKCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTsKCQkJfQoJCX0KCgkJaGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7CgoJCS8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwoJCS8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy4KCgkJLy8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyCgkJaWYgKGJhc2ljTGVuZ3RoKSB7CgkJCW91dHB1dC5wdXNoKGRlbGltaXRlcik7CgkJfQoKCQkvLyBNYWluIGVuY29kaW5nIGxvb3A6CgkJd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKCgkJCS8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHQKCQkJLy8gbGFyZ2VyIG9uZToKCQkJZm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHsKCQkJCQltID0gY3VycmVudFZhbHVlOwoJCQkJfQoJCQl9CgoJCQkvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sCgkJCS8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93CgkJCWhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTsKCQkJaWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQlkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lOwoJCQluID0gbTsKCgkJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCgkJCQlpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7CgkJCQkJLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIKCQkJCQlmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgkJCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoJCQkJCQlpZiAocSA8IHQpIHsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJCXFNaW51c1QgPSBxIC0gdDsKCQkJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJCQlvdXRwdXQucHVzaCgKCQkJCQkJCXN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkKCQkJCQkJKTsKCQkJCQkJcSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTsKCQkJCQl9CgoJCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTsKCQkJCQliaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpOwoJCQkJCWRlbHRhID0gMDsKCQkJCQkrK2hhbmRsZWRDUENvdW50OwoJCQkJfQoJCQl9CgoJCQkrK2RlbHRhOwoJCQkrK247CgoJCX0KCQlyZXR1cm4gb3V0cHV0LmpvaW4oJycpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcwoJICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLgoJICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuCgkgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0bwoJICogY29udmVydCB0byBVbmljb2RlLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlCgkgKiBzdHJpbmcuCgkgKi8KCWZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZykKCQkJCT8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKQoJCQkJOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KCSAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLAoJICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCgkgKiBBU0NJSS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKCSAqIFVuaWNvZGUgc3RyaW5nLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvcgoJICogZW1haWwgYWRkcmVzcy4KCSAqLwoJZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZykKCQkJCT8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi8KCXB1bnljb2RlID0gewoJCS8qKgoJCSAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBTdHJpbmcKCQkgKi8KCQkndmVyc2lvbic6ICcxLjMuMicsCgkJLyoqCgkJICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXIKCQkgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLgoJCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEB0eXBlIE9iamVjdAoJCSAqLwoJCSd1Y3MyJzogewoJCQknZGVjb2RlJzogdWNzMmRlY29kZSwKCQkJJ2VuY29kZSc6IHVjczJlbmNvZGUKCQl9LAoJCSdkZWNvZGUnOiBkZWNvZGUsCgkJJ2VuY29kZSc6IGVuY29kZSwKCQkndG9BU0NJSSc6IHRvQVNDSUksCgkJJ3RvVW5pY29kZSc6IHRvVW5pY29kZQoJfTsKCgkvKiogRXhwb3NlIGBwdW55Y29kZWAgKi8KCS8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJucwoJLy8gbGlrZSB0aGUgZm9sbG93aW5nOgoJaWYgKAoJCXR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJgoJCXR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmCgkJZGVmaW5lLmFtZAoJKSB7CgkJZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gcHVueWNvZGU7CgkJfSk7Cgl9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHsKCQlpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsKCQkJLy8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wKwoJCQlmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTsKCQl9IGVsc2UgewoJCQkvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLQoJCQlmb3IgKGtleSBpbiBwdW55Y29kZSkgewoJCQkJcHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pOwoJCQl9CgkJfQoJfSBlbHNlIHsKCQkvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyCgkJcm9vdC5wdW55Y29kZSA9IHB1bnljb2RlOwoJfQoKfSh0aGlzKSk7Cgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfSHlwZXJ0eURpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpOwoKdmFyIF9IeXBlcnR5RGlzY292ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfdXJpanMgPSByZXF1aXJlKCd1cmlqcycpOwoKdmFyIF91cmlqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmlqcyk7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfR3JvdXBDaGF0ID0gcmVxdWlyZSgnLi9Hcm91cENoYXQnKTsKCnZhciBfR3JvdXBDaGF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwQ2hhdCk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgQ29tbXVuaWNhdGlvbiA9IGZ1bmN0aW9uIENvbW11bmljYXRpb24obmFtZSwgcGFydGljaXBhbnRzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tbXVuaWNhdGlvbik7CgogICAgdGhpcy5zdGFydGluZ1RpbWUgPSBEYXRlLm5vdygpOwogICAgdGhpcy5sYXN0TW9kaWZpZWQgPSBEYXRlLm5vdygpOwogICAgdGhpcy5zdGF0dXMgPSAicGVuZGluZyI7CiAgICB0aGlzLnJlc291cmNlcyA9IFtdOwogICAgdGhpcy5jaGlsZHJlbiA9IFtdOwogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzOwp9OwoKdmFyIEdyb3VwQ2hhdEh5cGVydHkgPSB7CiAgICBfZ2V0SHlGb3I6IGZ1bmN0aW9uIF9nZXRIeUZvcihwYXJ0aWNpcGFudHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGFydGljaXBhbnRzLm1hcChmdW5jdGlvbiAocCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuaHlwZXJ0eURpc2NvdmVyeVNlcnZpY2UuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyKHAuZW1haWwsIHAuZG9tYWluKS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhoeXBlcnRpZXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBrZXksIGRlc2NyaXB0b3I6IGh5cGVydGllc1trZXldLmRlc2NyaXB0b3IsIGxhc3RNb2RpZmllZDogaHlwZXJ0aWVzW2tleV0ubGFzdE1vZGlmaWVkIH07CiAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRlc2MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5kZXNjcmlwdG9yLmVuZHNXaXRoKCdHcm91cENoYXQnKTsKICAgICAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5sYXN0TW9kaWZpZWQpIDwgbmV3IERhdGUoYi5sYXN0TW9kaWZpZWQpID8gMSA6IC0xOwogICAgICAgICAgICAgICAgfSkuc2hpZnQoKS5rZXk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKICAgIH0sCiAgICBfY3JlYXRlU3luY2hlcjogZnVuY3Rpb24gX2NyZWF0ZVN5bmNoZXIobmFtZSwgaHlwZXJ0aWVzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3luY2hlci5jcmVhdGUodGhpcy5vYmplY3REZXNjVVJMLCBoeXBlcnRpZXMsIG5ldyBDb21tdW5pY2F0aW9uKG5hbWUsIGh5cGVydGllcy5jb25jYXQoW3RoaXMuaHlwZXJ0eVVSTF0pKSk7CiAgICB9LAogICAgX3Jlc29sdmVJZGVudGl0eTogZnVuY3Rpb24gX3Jlc29sdmVJZGVudGl0eSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgaWYgKF90aGlzMi5pZGVudGl0eSkgewogICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpczIuaWRlbnRpdHkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLmlkZW50aXR5TWFuYWdlclNlcnZpY2UuZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCgnLicsIF90aGlzMi5oeXBlcnR5VVJMKS50aGVuKGZ1bmN0aW9uIChpZGVudGl0eSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaWRlbnRpdHkpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBwYXJ0aWNpcGFudHMpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIGlkZW50aXR5ID0gdW5kZWZpbmVkOwogICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlSWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICByZXR1cm4gaWRlbnRpdHkgPSBpZDsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fZ2V0SHlGb3IocGFydGljaXBhbnRzKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXMpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fY3JlYXRlU3luY2hlcihuYW1lLCBoeXBlcnRpZXMpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRpbmcgZ3JvdXAgY2hhdCcsIGRhdGFPYmplY3RSZXBvcnRlcik7CiAgICAgICAgICAgIGRhdGFPYmplY3RSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5hY2NlcHQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiAoMCwgX0dyb3VwQ2hhdDIuZGVmYXVsdCkoZGF0YU9iamVjdFJlcG9ydGVyLCBfdGhpczMuX3Bvc2l0aW9uLmRhdGEsIGlkZW50aXR5KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvbkludml0ZTogZnVuY3Rpb24gb25JbnZpdGUoY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICAgdGhpcy5zeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBpZiAoZXZlbnQuc2NoZW1hID09PSBfdGhpczQubG9jYXRpb25EZXNjVVJMKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuc3luY2hlci5zdWJzY3JpYmUoX3RoaXM0LmxvY2F0aW9uRGVzY1VSTCwgZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9wb3NpdGlvbiA9IGRhdGFPYmplY3Q7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5zY2hlbWEgPT09IF90aGlzNC5vYmplY3REZXNjVVJMKSB7CiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBpZGVudGl0eSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuX3Jlc29sdmVJZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZGVudGl0eSA9IGlkOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnN5bmNoZXIuc3Vic2NyaWJlKF90aGlzNC5vYmplY3REZXNjVVJMLCBldmVudC51cmwpOwogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0aW5nIGdyb3VwIGNoYXQgb24gaW52aXRlJywgZGF0YU9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygoMCwgX0dyb3VwQ2hhdDIuZGVmYXVsdCkoZGF0YU9iamVjdCwgX3RoaXM0Ll9wb3NpdGlvbi5kYXRhLCBpZGVudGl0eSkpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9OwoKdmFyIGdyb3VwQ2hhdEZhY3RvcnkgPSBmdW5jdGlvbiBncm91cENoYXRGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICB2YXIgc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKTsKICAgIHZhciBoeXBlcnR5RGlzY292ZXJ5ID0gbmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsIGJ1cyk7CiAgICB2YXIgaWRlbnRpdHlNYW5hZ2VyID0gbmV3IF9JZGVudGl0eU1hbmFnZXIyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgY29uZmlnLnJ1bnRpbWVVUkwsIGJ1cyk7CiAgICB2YXIgdXJpID0gbmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKTsKCiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdyb3VwQ2hhdEh5cGVydHkpLCB7CiAgICAgICAgJ19wb3NpdGlvbic6IHsgZGF0YTogeyB2YWx1ZXM6IHt9IH0gfSwKICAgICAgICAnc3luY2hlcic6IHN5bmNoZXIsCiAgICAgICAgJ2h5cGVydHlEaXNjb3ZlcnlTZXJ2aWNlJzogaHlwZXJ0eURpc2NvdmVyeSwKICAgICAgICAnaWRlbnRpdHlNYW5hZ2VyU2VydmljZSc6IGlkZW50aXR5TWFuYWdlciwKICAgICAgICAnb2JqZWN0RGVzY1VSTCc6ICdoeXBlcnR5LWNhdGFsb2d1ZTovLycgKyB1cmkuaG9zdG5hbWUoKSArICcvLndlbGwta25vd24vZGF0YXNjaGVtYXMvQ29tbXVuaWNhdGlvbicsCiAgICAgICAgJ2xvY2F0aW9uRGVzY1VSTCc6ICdoeXBlcnR5LWNhdGFsb2d1ZTovLycgKyB1cmkuaG9zdG5hbWUoKSArICcvLndlbGwta25vd24vZGF0YXNjaGVtYXMvQ29udGV4dERhdGFTY2hlbWEnLAogICAgICAgICdoeXBlcnR5VVJMJzogaHlwZXJ0eVVSTAogICAgfSk7Cn07CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZykgewogICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnR3JvdXBDaGF0JywKICAgICAgICBpbnN0YW5jZTogZ3JvdXBDaGF0RmFjdG9yeShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZykKICAgIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9Hcm91cENoYXQiOjksInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MywidXJpanMiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CgpleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZGF0YU9iamVjdCwgcG9zaXRpb24sIGlkZW50aXR5KSB7CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdyb3VwQ2hhdCksIHsKICAgICAgICBfZGF0YU9iamVjdDogZGF0YU9iamVjdCwKICAgICAgICBuYW1lOiBkYXRhT2JqZWN0LmRhdGEubmFtZSwKICAgICAgICBzdGFydGluZ1RpbWU6IGRhdGFPYmplY3QuZGF0YS5zdGFydGluZ1RpbWUsCiAgICAgICAgbWVzc2FnZXM6IFtdLAogICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbiwKICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGFPYmplY3QuZGF0YS5wYXJ0aWNpcGFudHMsCiAgICAgICAgaWRlbnRpdHk6IGlkZW50aXR5CiAgICB9KTsKfTsKCnZhciBfR3JvdXBDaGF0TWVzc2FnZSA9IHJlcXVpcmUoJy4vR3JvdXBDaGF0TWVzc2FnZScpOwoKdmFyIF9Hcm91cENoYXRNZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwQ2hhdE1lc3NhZ2UpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCnZhciBHcm91cENoYXQgPSB7CiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UobWVzc2FnZSwgZGlzdGFuY2UpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gdGhpcy5fZGF0YU9iamVjdC5hZGRDaGlsZCgnY2hhdG1lc3NhZ2VzJywgeyBjaGF0TWVzc2FnZTogbWVzc2FnZSwgZGlzdGFuY2U6IGRpc3RhbmNlLCBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbiwgc3RhcnRpbmdUaW1lOiBEYXRlLm5vdygpIH0pLnRoZW4oZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIHNlbmRlZCcsIGNoaWxkKTsKICAgICAgICAgICAgX3RoaXMubWVzc2FnZXMucHVzaCgoMCwgX0dyb3VwQ2hhdE1lc3NhZ2UyLmRlZmF1bHQpKGNoaWxkLCB0cnVlLCBfdGhpcy5pZGVudGl0eSkpOwogICAgICAgICAgICByZXR1cm4gX3RoaXMubWVzc2FnZXNbX3RoaXMubWVzc2FnZXMubGVuZ3RoIC0gMV07CiAgICAgICAgfSk7CiAgICB9LAogICAgb25NZXNzYWdlOiBmdW5jdGlvbiBvbk1lc3NhZ2UoY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdGhpcy5fZGF0YU9iamVjdC5vbkFkZENoaWxkKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZSByZWNlaXZlZCcsIGNoaWxkKTsKICAgICAgICAgICAgdmFyIGNoaWxkRGF0YSA9IGNoaWxkLmRhdGEgPyBjaGlsZC5kYXRhIDogY2hpbGQudmFsdWU7CgogICAgICAgICAgICBpZiAoY2hpbGREYXRhLmRpc3RhbmNlICYmIF90aGlzMi5fZGlzdGFuY2UoX3RoaXMyLl9tYXBQb3NpdGlvbihfdGhpczIucG9zaXRpb24udmFsdWVzKSwgX3RoaXMyLl9tYXBQb3NpdGlvbihjaGlsZERhdGEucG9zaXRpb24udmFsdWVzKSwgJ0snKSA+IGNoaWxkRGF0YS5kaXN0YW5jZSkgcmV0dXJuOwogICAgICAgICAgICBfdGhpczIubWVzc2FnZXMucHVzaCgoMCwgX0dyb3VwQ2hhdE1lc3NhZ2UyLmRlZmF1bHQpKGNoaWxkLCBmYWxzZSwgY2hpbGQuaWRlbnRpdHkudXNlclByb2ZpbGUpKTsKICAgICAgICAgICAgY2FsbGJhY2soX3RoaXMyLm1lc3NhZ2VzW190aGlzMi5tZXNzYWdlcy5sZW5ndGggLSAxXSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlc1t0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDFdID8gdGhpcy5tZXNzYWdlc1t0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDFdLnRleHQgOiAnJzsKICAgIH0sCiAgICBfbWFwUG9zaXRpb246IGZ1bmN0aW9uIF9tYXBQb3NpdGlvbih2YWx1ZXMpIHsKICAgICAgICB2YXIgcG9zaXRpb24gPSB7fTsKCiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblt2YWx1ZS5uYW1lXSA9IHZhbHVlLnZhbHVlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH0sCiAgICBfZGlzdGFuY2U6IGZ1bmN0aW9uIF9kaXN0YW5jZShvcmlnaW4sIGRlc3RpbmF0aW9uLCB1bml0KSB7CiAgICAgICAgdmFyIHJhZGxhdDEgPSBNYXRoLlBJICogb3JpZ2luLmxhdGl0dWRlIC8gMTgwOwogICAgICAgIHZhciByYWRsYXQyID0gTWF0aC5QSSAqIGRlc3RpbmF0aW9uLmxhdGl0dWRlIC8gMTgwOwogICAgICAgIHZhciB0aGV0YSA9IG9yaWdpbi5sb25naXR1ZGUgLSBkZXN0aW5hdGlvbi5sb25naXR1ZGU7CiAgICAgICAgdmFyIHJhZHRoZXRhID0gTWF0aC5QSSAqIHRoZXRhIC8gMTgwOwogICAgICAgIHZhciBkaXN0ID0gTWF0aC5zaW4ocmFkbGF0MSkgKiBNYXRoLnNpbihyYWRsYXQyKSArIE1hdGguY29zKHJhZGxhdDEpICogTWF0aC5jb3MocmFkbGF0MikgKiBNYXRoLmNvcyhyYWR0aGV0YSk7CiAgICAgICAgZGlzdCA9IE1hdGguYWNvcyhkaXN0KTsKICAgICAgICBkaXN0ID0gZGlzdCAqIDE4MCAvIE1hdGguUEk7CiAgICAgICAgZGlzdCA9IGRpc3QgKiA2MCAqIDEuMTUxNTsKICAgICAgICBpZiAodW5pdCA9PSAiSyIpIHsKICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiAxLjYwOTM0NDsKICAgICAgICB9CiAgICAgICAgaWYgKHVuaXQgPT0gIk4iKSB7CiAgICAgICAgICAgIGRpc3QgPSBkaXN0ICogMC44Njg0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZGlzdDsKICAgIH0KfTsKCm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4vR3JvdXBDaGF0TWVzc2FnZSI6MTB9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGFPYmplY3RDaGlsZCwgaXNNZSwgaWRlbnRpdHkpIHsKICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3JvdXBDaGF0TWVzc2FnZSksIHsKICAgICAgICBfZGF0YU9iamVjdENoaWxkOiBkYXRhT2JqZWN0Q2hpbGQsCiAgICAgICAgaXNNZTogaXNNZSwKICAgICAgICB0ZXh0OiBkYXRhT2JqZWN0Q2hpbGQuZGF0YSA/IGRhdGFPYmplY3RDaGlsZC5kYXRhLmNoYXRNZXNzYWdlIDogZGF0YU9iamVjdENoaWxkLnZhbHVlLmNoYXRNZXNzYWdlLAogICAgICAgIHN0YXJ0aW5nVGltZTogZGF0YU9iamVjdENoaWxkLmRhdGEgPyBkYXRhT2JqZWN0Q2hpbGQuZGF0YS5zdGFydGluZ1RpbWUgOiBkYXRhT2JqZWN0Q2hpbGQudmFsdWUuc3RhcnRpbmdUaW1lLAogICAgICAgIGlkZW50aXR5OiBpZGVudGl0eQogICAgfSk7Cn07Cgp2YXIgR3JvdXBDaGF0TWVzc2FnZSA9IHsKICAgIGVsYXBzZWRNaW51dGVzOiBmdW5jdGlvbiBlbGFwc2VkTWludXRlcygpIHsKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRpbmdUaW1lKSAlIDg2NDAwMDAwICUgMzYwMDAwMCAvIDYwMDAwKTsKICAgIH0KfTsKCm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFs4XSkoOCkKfSk7",
      "sourceCodeClassname": "GroupChat",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10005,
    "version": "0.1",
    "description": "Description of GroupChat",
    "objectName": "GroupChat",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  },
  "RoomUIObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLHUsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUyx2PWUmYy5QLCQ9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGEgaW4gcil1PSFsJiZiJiZhIGluIGIsdSYmYSBpbiBofHwoZj11P2JbYV06clthXSxoW2FdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW2FdP3JbYV06JCYmdT9pKGYsbik6eSYmYlthXT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6Zix2JiYoKGhbc118fChoW3NdPXt9KSlbYV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgZixsLGQscD1hKGUpLHY9bihyLHUsdD8yOjEpLCQ9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+JDskKyspdD92KHMobD1lWyRdKVswXSxsWzFdKTp2KGVbJF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLHYsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksYT1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSx2PSJAQGl0ZXJhdG9yIiwkPSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe3Uocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBVKXJldHVybiBVW2VdO3N3aXRjaChlKXtjYXNlICQ6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsVT1lLnByb3RvdHlwZSxQPVVbZF18fFVbdl18fG0mJlVbbV0sUz1QfHxfKG0pO2lmKFApe3ZhciBFPWwoUy5jYWxsKG5ldyBlKSk7ZihFLGssITApLCFuJiZjKFUsdikmJnMoRSxkLGgpLE8mJlAubmFtZSE9PXkmJihNPSEwLFM9ZnVuY3Rpb24oKXtyZXR1cm4gUC5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmVVtkXXx8cyhVLGQsUyksYVt0XT1TLGFba109aCxtKWlmKGo9e3ZhbHVlczpPP1M6Xyh5KSxrZXlzOmc/UzpfKCQpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6U30seClmb3IodyBpbiBqKXcgaW4gVXx8aShVLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsYT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGEpe3ZhciBwPTEsdj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGEoZCkub2JzZXJ2ZSh2LHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe3YuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksYT1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx2PWYuTWVzc2FnZUNoYW5uZWwsJD0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrKyRdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKCQpLCR9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OnY/KG89bmV3IHYsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLHY9ZSgiLi8kLmZvci1vZiIpLCQ9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PWEoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gJChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLCQodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxVPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUz1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LEU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2EoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVUocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaCh1KXthKHUpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO0wobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxMPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFMKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLEUodCwhMCkpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVUoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKFQsbiwxKSxjKFIsbiwxKSl9Y2F0Y2gobyl7Ui5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLEUociwhMSkpfWNhdGNoKG4pe1IuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhULHQsMSksYyhSLHQsMSkpfWNhdGNoKHIpe1IuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFAoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJkUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sdSh1LlMrdS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBQKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UyhmdW5jdGlvbigpe3YoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3YoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJVUkwifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplLHNlYXJjaDoiZGF0YU9iamVjdFBlclJlcG9ydGVyIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMCxjPSgwLGYuY29udmVydFRvVXNlclVSTCkoZSk7cz1uP246by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcysiLyIsYm9keTp7cmVzb3VyY2U6e3VzZXI6YyxyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSxzZWFyY2g6Imh5cGVydHlSZXNvdXJjZXNEYXRhU2NoZW1lcyJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgYT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8YS5nZXRUaW1lKCkmJihpPWEscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIHU9cztpZih2b2lkIDA9PT11KXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW3VdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDp1fTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6byxzZWFyY2g6Ikh5cGVydHlQZXJVc2VyIn19O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkZWxldGVIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXZvaWQgMDtvPXI/cjpuLmRvbWFpbjt2YXIgcz17dHlwZToiZGVsZXRlIixmcm9tOm4uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK28rIi8iLGJvZHk6e3ZhbHVlOnt1c2VyOmUsaHlwZXJ0eVVSTDp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LmNvZGU7bj9lKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIik6dCgiRXJyb3Igb24gZGVsZXRpbmcgaHlwZXJ0eSIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsdlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksdj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDc6NTYgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYsZD1lJmMuRyxwPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQix5PWUmYy5XLGg9ZD9vOm9bdF18fChvW3RdPXt9KSxiPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIGh8fChmPWE/Ylt1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoaFtzXXx8KGhbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwsZCxwPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShsPWQubmV4dCgpKS5kb25lOylvKGQsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHk9InZhbHVlcyIsaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIFApcmV0dXJuIFBbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PXksTT0hMSxQPWUucHJvdG90eXBlLFM9UFtkXXx8UFskXXx8bSYmUFttXSxFPVN8fF8obSk7aWYoUyl7dmFyIFU9bChFLmNhbGwobmV3IGUpKTtmKFUsaywhMCksIW4mJmMoUCwkKSYmcyhVLGQsaCksTyYmUy5uYW1lIT09eSYmKE09ITAsRT1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IXAmJiFNJiZQW2RdfHxzKFAsZCxFKSx1W3RdPUUsdVtrXT1oLG0paWYoaj17dmFsdWVzOk8/RTpfKHkpLGtleXM6Zz9FOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpFfSx4KWZvcih3IGluIGopdyBpbiBQfHxpKFAsdyxqW3ddKTtlbHNlIG8oby5QK28uRioocHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2soZCl9O2Vsc2UgaWYodSl7dmFyIHA9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShkKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPXA9LXB9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2MuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxoPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHk9ZSgiLi8kLnNhbWUtdmFsdWUiKSxoPWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6eShlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbaF07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VChvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVQodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVSh0LCEwKSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQSxuLDEpLGMoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci52PWUsci5zPTEsVShyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEEsdCwxKSxjKEQsdCwxKSl9Y2F0Y2gocil7RC5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVShvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1FKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1FKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWlbImRlZmF1bHQiXSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSI6Njh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPXR9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ImRhdGFPYmplY3Q6Ly8iK2V9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZS51cmw7bj9lKG4pOnQoIkRhdGFPYmplY3QgbmFtZSBkb2VzIG5vdCBleGlzdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciB1PW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTx1LmdldFRpbWUoKSYmKGk9dSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgYT1zO2lmKHZvaWQgMD09PWEpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbYV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmF9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NiBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKLy8gTGFzdCBidWlsZDogVGh1IEp1biAwMiAyMDE2IDE1OjQ4OjA1IEdNVCswMTAwIChXRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCx3LE89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8TyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOk8odiksa2V5czptP1Q6TyhoKSxlbnRyaWVzOng/TygiZW50cmllcyIpOlR9LGopZm9yKHcgaW4gJCl3IGluIEV8fGkoRSx3LCRbd10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLHc9c1ttXSxPPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJk8oKSxoKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sTj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShOLG4sMSksYShELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoTix0LDEpLGEoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8TyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2Msdz1uLmNyZWF0ZSxPPWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxEPSJmdW5jdGlvbiI9PXR5cGVvZiBrLE49T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooTix0KTtuJiZkZWxldGUgTlt0XSwkKGUsdCxyKSxuJiZlIT09TiYmJChOLHQsbil9OiQsQT1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPXcoay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkkodyhlKSx0KX0sVT1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFMKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEwodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtEfHwoaz1mdW5jdGlvbigpe2lmKEwodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gQShkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVYsbi5pc0VudW09VSxuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKE4sInByb3BlcnR5SXNFbnVtZXJhYmxlIixVLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09RD90OkEodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIUQsIk9iamVjdCIse2NyZWF0ZTpWLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIUR8fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLHc9MDtnPiR8fG0+dzspaD15WyRdLHY9KGI9X1t3XSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyx3KyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsdywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1t3KzFdLHByZXZpb3VzU2libGluZzpfW3ctMV19KSksai0tKTpwLnB1c2goe2g6YixpOnd9KSksdysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InJlYWQiLGZyb206dC5fb3duZXIsdG86ZX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSxuKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6bih0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpufX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdO2lmKG4pe3ZhciBvPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSwyMDA9PT1vJiZuWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm8sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9EYXRhUHJvdmlzaW9uYWwiOjk3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxiWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gdShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gbChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiBjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4oZikscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxiPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWEsci5nZXRVc2VyVVJMRnJvbUVtYWlsPWMsci5nZXRVc2VyRW1haWxGcm9tVVJMPXUsci5jb252ZXJ0VG9Vc2VyVVJMPWx9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjd9XX0se30sWzkyXSkoOTIpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKICogU2ltcGxlIGNsYXNzIGZvciBlYXNpZXIgbG9nZ2luZwogKi8KCnZhciBMb2dnZXIgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpOwoKICAgICAgICB0aGlzLnByZWZpeCA9IG5hbWUgKyAiICI7CiAgICAgICAgdGhpcy5jID0gY29uc29sZTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoTG9nZ2VyLCBbewogICAgICAgIGtleTogImQiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkKG1zZykgewogICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcmd1bWVudHNbMF0gPSB0aGlzLnByZWZpeCArIGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgdGhpcy5jLmRlYnVnLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAibCIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGwobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMubG9nLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAiaSIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGkobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMuaW5mby5hcHBseSh0aGlzLmMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogInciLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3KG1zZykgewogICAgICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7CiAgICAgICAgICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcmd1bWVudHNbMF0gPSB0aGlzLnByZWZpeCArIGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgdGhpcy5jLndhcm4uYXBwbHkodGhpcy5jLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICJlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZShtc2cpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjUgPiAxID8gX2xlbjUgLSAxIDogMCksIF9rZXk1ID0gMTsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5NSAtIDFdID0gYXJndW1lbnRzW19rZXk1XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gdGhpcy5wcmVmaXggKyBhcmd1bWVudHNbMF07CiAgICAgICAgICAgIHRoaXMuYy5lcnJvci5hcHBseSh0aGlzLmMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBMb2dnZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IExvZ2dlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX0Rpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5Jyk7Cgp2YXIgX0Rpc2NvdmVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNjb3ZlcnkpOwoKdmFyIF9IeXBlcnR5RGlzY292ZXJ5ID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5Jyk7Cgp2YXIgX0h5cGVydHlEaXNjb3ZlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1hbmFnZXIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSByZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTsKCnZhciBfRXZlbnRFbWl0dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpOwoKdmFyIF9Mb2dnZXIgPSByZXF1aXJlKCcuL0xvZ2dlcicpOwoKdmFyIF9Mb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9nZ2VyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikgPyBjYWxsIDogc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoganNoaW50IHVuZGVmOiB0cnVlICovCgp2YXIgbCA9IG5ldyBfTG9nZ2VyMi5kZWZhdWx0KCJST09NVUkiKTsKCnZhciBSb29tVUlPYnNlcnZlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7CiAgICBfaW5oZXJpdHMoUm9vbVVJT2JzZXJ2ZXIsIF9FdmVudEVtaXR0ZXIpOwoKICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IFJvb21VSVJlcG9ydGVyCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaHlwZXJ0eVVSTCAtIFVSTCBvZiB0aGUgaHlwZXJ0eQogICAgICogQHBhcmFtIHtNaW5pQnVzfSBidXMgLSBNaW5pQnVzCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlndXJhdGlvbiAtIGNvbmZpZ3VyYXRpb24gb2YgaHlwZXJ0eQogICAgICovCgogICAgZnVuY3Rpb24gUm9vbVVJT2JzZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21VSU9ic2VydmVyKTsKCiAgICAgICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgICAgIGlmICghYnVzKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICAgICAgbC5kKCJoeXBlcnR5VVJMOiIsIGh5cGVydHlVUkwpOwogICAgICAgIGwuZCgiYnVzOiIsIGJ1cyk7CiAgICAgICAgbC5kKCJjb25maWd1cmF0aW9uOiIsIGNvbmZpZ3VyYXRpb24pOwoKICAgICAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21VSU9ic2VydmVyKS5jYWxsKHRoaXMpKTsKCiAgICAgICAgX3RoaXMyLl9kb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluOwoKICAgICAgICAvLyBjcmVhdGUgT2JqZWN0IFNjaGVtYSBVUkwKICAgICAgICBfdGhpczIuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly8nICsgX3RoaXMyLl9kb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL1Jvb21VSURhdGFTY2hlbWEnOwoKICAgICAgICAvLyBtYWtlIGFyZ3VtZW50cyBhdmFpbGFibGUKICAgICAgICBfdGhpczIuaHlwZXJ0eVVSTCA9IGh5cGVydHlVUkw7CiAgICAgICAgX3RoaXMyLmJ1cyA9IGJ1czsKICAgICAgICBfdGhpczIuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247CgogICAgICAgIHZhciBoeXBlcnR5RGlzY292ZXJ5ID0gbmV3IF9IeXBlcnR5RGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsIGJ1cyk7CiAgICAgICAgdmFyIGRpc2NvdmVyeSA9IG5ldyBfRGlzY292ZXJ5Mi5kZWZhdWx0KGh5cGVydHlVUkwsIGJ1cyk7CgogICAgICAgIF90aGlzMi5oeXBlcnR5RGlzY292ZXJ5ID0gaHlwZXJ0eURpc2NvdmVyeTsKICAgICAgICBfdGhpczIuZGlzY292ZXJ5ID0gZGlzY292ZXJ5OwoKICAgICAgICAvLyBpZGVudGl0eSBtYW5hZ2VyIHRvIGdldCB1c2VyIGlkZW50aXR5IGZvciB0aGlzIGh5cGVydHkKICAgICAgICAvL2xldCBpZGVudGl0eU1hbmFnZXIgPSBuZXcgSWRlbnRpdHlNYW5hZ2VyKGh5cGVydHlVUkwsIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCwgYnVzKTsKICAgICAgICAvL2lkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKGh5cGVydHlVUkwpLnRoZW4oKHVzZXJVUkwpID0+IHsKICAgICAgICAvLyAgICBsLmQoImdvdCB1c2VyIFVSTDoiLCB1c2VyVVJMKTsKICAgICAgICAvL30pOwoKICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczI7CgogICAgICAgIC8vIHN5bmNoZXIKICAgICAgICB2YXIgc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CiAgICAgICAgX3RoaXMyLl9zeW5jaGVyID0gc3luY2hlcjsKICAgICAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBfdGhpcy5fb25Ob3RpZmljYXRpb24oZXZlbnQpOwogICAgICAgIH0pOwoKICAgICAgICAvLyB0ZXN0aW5nIGRpc2NvdmVyeSB3aXRoIGhhcmRjb2RlZCB1c2VyCiAgICAgICAgdmFyIHVzZXIgPSAib3BlbmlkdGVzdDEwQGdtYWlsLmNvbSI7CiAgICAgICAgbC5kKCJ0cnlpbmcgdG8gZmluZCBoeXBlcnR5IG9mIHVzZXIiLCB1c2VyKTsKICAgICAgICBfdGhpczIuaHlwZXJ0eURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHVzZXIsIG51bGwpLnRoZW4oZnVuY3Rpb24gKGZvdW5kVXNlcikgewogICAgICAgICAgICBsLmQoImZvdW5kOiAiLCBmb3VuZFVzZXIpOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gX3RoaXMyOwogICAgfQoKICAgIC8qKgogICAgICogU3Vic2NyaWJlIHRvIGFuIG9iamVjdCB1c2luZyB0aGUgc3luY2hlcgogICAgICogQHBhcmFtIG9iamVjdFVSTCAtIFVSTCBvZiB0aGUgb2JqZWN0CiAgICAgKi8KCgogICAgX2NyZWF0ZUNsYXNzKFJvb21VSU9ic2VydmVyLCBbewogICAgICAgIGtleTogJ3N1YnNjcmliZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYmplY3RVUkwpIHsKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgdGhpcy5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIG9iamVjdFVSTCkudGhlbihmdW5jdGlvbiAob2JqKSB7CgogICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCJzdWJzY3JpYmVkIHRvIG9iamVjdDoiLCBvYmopOwoKICAgICAgICAgICAgICAgIC8vcm9vbU9ianRSZXBvcnRlci5vbkFkZENoaWxkKChjaGlsZCkgPT4gewogICAgICAgICAgICAgICAgLy8gICAgbC5kKCJjaGlsZCBhZGRlZDoiLCBjaGlsZCk7CiAgICAgICAgICAgICAgICAvLyAgICBsZXQgY2hpbGREYXRhID0gY2hpbGQuZGF0YSA/IGNoaWxkLmRhdGEgOiBjaGlsZC52YWx1ZTsKICAgICAgICAgICAgICAgIC8vICAgIGwuZCgiY2hpbGQgZGF0YToiLCBjaGlsZERhdGEpOwogICAgICAgICAgICAgICAgLy99KTsKCiAgICAgICAgICAgICAgICBfdGhpcy5vYnNlcnZlciA9IG9iajsKICAgICAgICAgICAgICAgIG9iai5vbkNoYW5nZSgnKicsIGZ1bmN0aW9uIChldmVudCkgewoKICAgICAgICAgICAgICAgICAgICAvLyBIZWxsbyBXb3JsZCBPYmplY3Qgd2FzIGNoYW5nZWQKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ21lc3NhZ2UgcmVjZWl2ZWQ6JywgZXZlbnQpOwogICAgICAgICAgICAgICAgICAgIC8vIGxldHMgbm90aWZ5IHRoZSBBcHAgYWJvdXQgdGhlIGNoYW5nZQogICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXIoJ29uQ2hhbmdlJywgZXZlbnQpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19vbk5vdGlmaWNhdGlvbicsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbk5vdGlmaWNhdGlvbihldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJ0V2ZW50IFJlY2VpdmVkOiAnLCBldmVudCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBUZXN0IGFkZENoaWxkIGZ1bmN0aW9uYWxpdHkKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnYWRkQ2hpbGQnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDaGlsZCgpIHsKICAgICAgICAgICAgbC5kKCJhZGRpbmcgY2hpbGQiKTsKICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHsKICAgICAgICAgICAgICAgICJpZCI6ICJzb21lSUQiLAogICAgICAgICAgICAgICAgInR5cGUiOiAic29tZVR5cGUiLAogICAgICAgICAgICAgICAgInZhbHVlcyI6IFt7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAic2V0QnJpZ2h0bmVzcyIsCiAgICAgICAgICAgICAgICAgICAgInVuaXQiOiAic29tZVVuaXQiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImJyaWdodG5lc3MiOiA3NQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInN1bSI6ICJ3aGF0ZXZlciIKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuYWRkQ2hpbGQoJ2FjdGlvbnMnLCBhY3Rpb24pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gUm9vbVVJT2JzZXJ2ZXI7Cn0oX0V2ZW50RW1pdHRlcjMuZGVmYXVsdCk7CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdSb29tVUlPYnNlcnZlcicsCiAgICAgICAgaW5zdGFuY2U6IG5ldyBSb29tVUlPYnNlcnZlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6NywiLi4vdXRpbHMvdXRpbHMiOjgsIi4vTG9nZ2VyIjo1LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlciI6Mywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjo0fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8qKgogKiBFdmVudEVtaXR0ZXIKICogQWxsIGNsYXNzZXMgd2hpY2ggZXh0ZW5kcyB0aGlzLCBjYW4gaGF2ZSBhZGRFdmVudExpc3RlbmVyIGFuZCB0cmlnZ2VyIGV2ZW50czsKICovCgp2YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3sKICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAoKCiAgICAvKioKICAgICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZAogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzW2V2ZW50VHlwZV0gPSBjYjsKICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHdpbGwgYmUgaW52b2tlZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJpZ2dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudFR5cGUsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKF90aGlzW2V2ZW50VHlwZV0pIHsKICAgICAgICBfdGhpc1tldmVudFR5cGVdKHBhcmFtcyk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBFdmVudEVtaXR0ZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRpdmlkZVVSTCA9IGRpdmlkZVVSTDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0Q29uZmlnID0gZ2V0Q29uZmlnOwpleHBvcnRzLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7CmV4cG9ydHMuZ2V0VGVtcGxhdGUgPSBnZXRUZW1wbGF0ZTsKLyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovCgovLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8KCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBhbiBqc29uIGZpbGU7CiAqIEBwYXJhbSAge0pTT05PYmplY3R9IGpzb25GaWxlCiAqIEByZXR1cm4ge29iamVjdH0KICovCmZ1bmN0aW9uIGdldENvbmZpZyhKU09OT2JqZWN0KSB7CiAgY29uc29sZS5sb2coJ2RldmVsb3AnKTsKICByZXR1cm4gSlNPTk9iamVjdFsnZGV2ZWxvcCddOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge09iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIHNlcmlhbGl6ZSgpIHsKCiAgJC5mbi5zZXJpYWxpemVPYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIG9bdGhpcy5uYW1lXSA9IHRoaXMudmFsdWUgfHwgJyc7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvOwogIH07CgogICQuZm4uc2VyaWFsaXplT2JqZWN0QXJyYXkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CgogICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdKSBvW3RoaXMubmFtZV0gPSBbXTsKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIG87CiAgfTsKfQoKZnVuY3Rpb24gZ2V0VGVtcGxhdGUocGF0aCwgc2NyaXB0KSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgaWYgKEhhbmRsZWJhcnMudGVtcGxhdGVzID09PSB1bmRlZmluZWQgfHwgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICBIYW5kbGViYXJzLnRlbXBsYXRlcyA9IHt9OwogICAgfSBlbHNlIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9CgogICAgdmFyIHRlbXBsYXRlRmlsZSA9ICQuYWpheCh7CiAgICAgIHVybDogcGF0aCArICcuaGJzJywKICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0gPSBIYW5kbGViYXJzLmNvbXBpbGUoZGF0YSk7CiAgICAgIH0sCgogICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKHJlYXNvbikgewogICAgICAgIHJldHVybiByZWFzb247CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBzY3JpcHRGaWxlID0gJC5nZXRTY3JpcHQoc2NyaXB0KTsKCiAgICB2YXIgcmVxdWVzdHMgPSBbXTsKICAgIGlmIChwYXRoKSByZXF1ZXN0cy5wdXNoKHRlbXBsYXRlRmlsZSk7CiAgICBpZiAoc2NyaXB0KSByZXF1ZXN0cy5wdXNoKHNjcmlwdEZpbGUpOwoKICAgIFByb21pc2UuYWxsKHJlcXVlc3RzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgcmVzb2x2ZShIYW5kbGViYXJzLnRlbXBsYXRlc1tuYW1lXSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbNl0pKDYpCn0pOw==",
      "sourceCodeClassname": "RoomUIObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10006,
    "version": "0.1",
    "description": "Description of RoomUIObserver",
    "objectName": "RoomUIObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  },
  "RoomUIReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLHUsZixsPWUmYy5GLGQ9ZSZjLkcscD1lJmMuUyx2PWUmYy5QLCQ9ZSZjLkIseT1lJmMuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksYj1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGEgaW4gcil1PSFsJiZiJiZhIGluIGIsdSYmYSBpbiBofHwoZj11P2JbYV06clthXSxoW2FdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW2FdP3JbYV06JCYmdT9pKGYsbik6eSYmYlthXT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6Zix2JiYoKGhbc118fChoW3NdPXt9KSlbYV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgZixsLGQscD1hKGUpLHY9bihyLHUsdD8yOjEpLCQ9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihmPWMoZS5sZW5ndGgpO2Y+JDskKyspdD92KHMobD1lWyRdKVswXSxsWzFdKTp2KGVbJF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEobD1kLm5leHQoKSkuZG9uZTspbyhkLHYsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksYT1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSx2PSJAQGl0ZXJhdG9yIiwkPSJrZXlzIix5PSJ2YWx1ZXMiLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe3Uocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBVKXJldHVybiBVW2VdO3N3aXRjaChlKXtjYXNlICQ6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT15LE09ITEsVT1lLnByb3RvdHlwZSxQPVVbZF18fFVbdl18fG0mJlVbbV0sUz1QfHxfKG0pO2lmKFApe3ZhciBFPWwoUy5jYWxsKG5ldyBlKSk7ZihFLGssITApLCFuJiZjKFUsdikmJnMoRSxkLGgpLE8mJlAubmFtZSE9PXkmJihNPSEwLFM9ZnVuY3Rpb24oKXtyZXR1cm4gUC5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFwJiYhTSYmVVtkXXx8cyhVLGQsUyksYVt0XT1TLGFba109aCxtKWlmKGo9e3ZhbHVlczpPP1M6Xyh5KSxrZXlzOmc/UzpfKCQpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6U30seClmb3IodyBpbiBqKXcgaW4gVXx8aShVLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsYT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGEpe3ZhciBwPTEsdj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGEoZCkub2JzZXJ2ZSh2LHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe3YuZGF0YT1wPS1wfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksYT1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx2PWYuTWVzc2FnZUNoYW5uZWwsJD0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrKyRdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKCQpLCR9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OnY/KG89bmV3IHYsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49aCBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVtoXT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLHY9ZSgiLi8kLmZvci1vZiIpLCQ9ZSgiLi8kLnNldC1wcm90byIpLnNldCx5PWUoIi4vJC5zYW1lLXZhbHVlIiksaD1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PWEoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gJChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLCQodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnkoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW2hdO3JldHVybiB2b2lkIDAhPXQ/dDplfSxVPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUz1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LEU9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2EoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVUocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaCh1KXthKHUpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO0wobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxMPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFMKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLEUodCwhMCkpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVUoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKFQsbiwxKSxjKFIsbiwxKSl9Y2F0Y2gobyl7Ui5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLEUociwhMSkpfWNhdGNoKG4pe1IuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhULHQsMSksYyhSLHQsMSkpfWNhdGNoKHIpe1IuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFAoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJkUobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sdSh1LlMrdS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUCh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBQKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IFAodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UyhmdW5jdGlvbigpe3YoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3YoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ZSxzZWFyY2g6ImRhdGFPYmplY3RQZXJVUkwifX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplLHNlYXJjaDoiZGF0YU9iamVjdFBlclJlcG9ydGVyIn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMCxjPSgwLGYuY29udmVydFRvVXNlclVSTCkoZSk7cz1uP246by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcysiLyIsYm9keTp7cmVzb3VyY2U6e3VzZXI6YyxyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSxzZWFyY2g6Imh5cGVydHlSZXNvdXJjZXNEYXRhU2NoZW1lcyJ9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxzPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm8sc2VhcmNoOiJIeXBlcnR5UGVyVXNlciJ9fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIGMpaWYodm9pZCAwIT09Y1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKSxzPW87ZWxzZXt2YXIgYT1uZXcgRGF0ZShjW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8YS5nZXRUaW1lKCkmJihpPWEscz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLHMsaSk7dmFyIHU9cztpZih2b2lkIDA9PT11KXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpjW3VdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDp1fTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6byxzZWFyY2g6Ikh5cGVydHlQZXJVc2VyIn19O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIscyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkZWxldGVIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXZvaWQgMDtvPXI/cjpuLmRvbWFpbjt2YXIgcz17dHlwZToiZGVsZXRlIixmcm9tOm4uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK28rIi8iLGJvZHk6e3ZhbHVlOnt1c2VyOmUsaHlwZXJ0eVVSTDp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LmNvZGU7bj9lKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIik6dCgiRXJyb3Igb24gZGVsZXRpbmcgaHlwZXJ0eSIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsdlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksdj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMi4wCi8vIExhc3QgYnVpbGQ6IFRodSBKdW4gMDIgMjAxNiAxNTo0Nzo1NiBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5JZGVudGl0eU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjM4fV0sOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NjJ9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjYzLCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo2NCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo2NSwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo2Nn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6MzF9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjE1LCIuLyQud2tzIjo1OX1dLDE1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDE5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjoyMn1dLDIwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuaXMtb2JqZWN0IjozMX1dLDIxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGEsZixsPWUmYy5GLHA9ZSZjLkcsZD1lJmMuUywkPWUmYy5QLHY9ZSZjLkIsaD1lJmMuVyx5PXA/bzpvW3RdfHwob1t0XT17fSksYj1wP246ZD9uW3RdOihuW3RdfHx7fSlbc107cCYmKHI9dCk7Zm9yKHUgaW4gcilhPSFsJiZiJiZ1IGluIGIsYSYmdSBpbiB5fHwoZj1hP2JbdV06clt1XSx5W3VdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBiW3VdP3JbdV06diYmYT9pKGYsbik6aCYmYlt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShmKTokJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZiwkJiYoKHlbc118fCh5W3NdPXt9KSlbdV09ZikpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLHQuZXhwb3J0cz1jfSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5nbG9iYWwiOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYz1lKCIuLyQudG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgZixsLHAsZD11KGUpLCQ9bihyLGEsdD8yOjEpLHY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGQpKWZvcihmPWMoZS5sZW5ndGgpO2Y+djt2KyspdD8kKHMobD1lW3ZdKVswXSxsWzFdKTokKGVbdl0pO2Vsc2UgZm9yKHA9ZC5jYWxsKGUpOyEobD1wLm5leHQoKSkuZG9uZTspbyhwLCQsbC52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtYXJyYXktaXRlciI6MzAsIi4vJC5pdGVyLWNhbGwiOjMyLCIuLyQudG8tbGVuZ3RoIjo1NiwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjYwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6MzgsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5wcm9wZXJ0eS1kZXNjIjo0Mn1dLDI3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjI0fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjoxNX1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDMxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6MTN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6MzgsIi4vJC5oaWRlIjoyNiwiLi8kLnByb3BlcnR5LWRlc2MiOjQyLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYz1lKCIuLyQuaGFzIiksdT1lKCIuLyQuaXRlcmF0b3JzIiksYT1lKCIuLyQuaXRlci1jcmVhdGUiKSxmPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGw9ZSgiLi8kIikuZ2V0UHJvdG8scD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSwkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsbSxnLHgpe2Eocix0LGIpO3ZhciBqLHcsXz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIsTz1tPT1oLE09ITEsUz1lLnByb3RvdHlwZSxFPVNbcF18fFNbJF18fG0mJlNbbV0sUD1FfHxfKG0pO2lmKEUpe3ZhciBUPWwoUC5jYWxsKG5ldyBlKSk7ZihULGssITApLCFuJiZjKFMsJCkmJnMoVCxwLHkpLE8mJkUubmFtZSE9PWgmJihNPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gRS5jYWxsKHRoaXMpfSl9aWYobiYmIXh8fCFkJiYhTSYmU1twXXx8cyhTLHAsUCksdVt0XT1QLHVba109eSxtKWlmKGo9e3ZhbHVlczpPP1A6XyhoKSxrZXlzOmc/UDpfKHYpLGVudHJpZXM6Tz9fKCJlbnRyaWVzIik6UH0seClmb3IodyBpbiBqKXcgaW4gU3x8aShTLHcsalt3XSk7ZWxzZSBvKG8uUCtvLkYqKGR8fE0pLHQsaik7cmV0dXJuIGp9fSx7Ii4vJCI6MzgsIi4vJC5leHBvcnQiOjIxLCIuLyQuaGFzIjoyNSwiLi8kLmhpZGUiOjI2LCIuLyQuaXRlci1jcmVhdGUiOjMzLCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLmxpYnJhcnkiOjM5LCIuLyQucmVkZWZpbmUiOjQ0LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQud2tzIjo1OX1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuLyQud2tzIjo1OX1dLDM2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLnRhc2siKS5zZXQsdT1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPXMucHJvY2VzcyxmPXMuUHJvbWlzZSxsPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGEpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGwmJihlPWEuZG9tYWluKSYmKGEuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihsKWk9ZnVuY3Rpb24oKXthLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPTEsJD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IHUocCkub2JzZXJ2ZSgkLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpeyQuZGF0YT1kPS1kfX1lbHNlIGk9ZiYmZi5yZXNvbHZlP2Z1bmN0aW9uKCl7Zi5yZXNvbHZlKCkudGhlbihwKX06ZnVuY3Rpb24oKXtjLmNhbGwocyxwKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpsJiZhLmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjoxNSwiLi8kLmdsb2JhbCI6MjQsIi4vJC50YXNrIjo1M31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjoxNiwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mYWlscyI6MjJ9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjQ0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6MjZ9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjozOCwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jdHgiOjE3LCIuLyQuaXMtb2JqZWN0IjozMX1dLDQ3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjozOCwiLi8kLmNvcmUiOjE2LCIuLyQuZGVzY3JpcHRvcnMiOjE5LCIuLyQud2tzIjo1OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjozOCwiLi8kLmhhcyI6MjUsIi4vJC53a3MiOjU5fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6MjR9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQud2tzIjo1OX1dLDUxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksdT1uKHIpLGE9Yy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KHM9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQodSk6aTplP2Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLnRvLWludGVnZXIiOjU0fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYz1lKCIuLyQuaW52b2tlIiksdT1lKCIuLyQuaHRtbCIpLGE9ZSgiLi8kLmRvbS1jcmVhdGUiKSxmPWUoIi4vJC5nbG9iYWwiKSxsPWYucHJvY2VzcyxwPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSwkPWYuTWVzc2FnZUNoYW5uZWwsdj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK3ZdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OiQ/KG89bmV3ICQsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPW0sbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49eSBpbiBhKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGEoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6ZH19LHsiLi8kLmNvZiI6MTUsIi4vJC5jdHgiOjE3LCIuLyQuZG9tLWNyZWF0ZSI6MjAsIi4vJC5nbG9iYWwiOjI0LCIuLyQuaHRtbCI6MjcsIi4vJC5pbnZva2UiOjI4fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjoxOCwiLi8kLmlvYmplY3QiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo1NH1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjoyNCwiLi8kLnNoYXJlZCI6NDksIi4vJC51aWQiOjU4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjE0LCIuLyQuY29yZSI6MTYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQud2tzIjo1OX1dLDYxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5pdGVyLXN0ZXAiOjM2LCIuLyQuaXRlcmF0b3JzIjozNywiLi8kLnRvLWlvYmplY3QiOjU1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8tb2JqZWN0Iik7ZSgiLi8kLm9iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo0MSwiLi8kLnRvLW9iamVjdCI6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe30se31dLDY0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGM9ZSgiLi8kLmN0eCIpLHU9ZSgiLi8kLmNsYXNzb2YiKSxhPWUoIi4vJC5leHBvcnQiKSxmPWUoIi4vJC5pcy1vYmplY3QiKSxsPWUoIi4vJC5hbi1vYmplY3QiKSxwPWUoIi4vJC5hLWZ1bmN0aW9uIiksZD1lKCIuLyQuc3RyaWN0LW5ldyIpLCQ9ZSgiLi8kLmZvci1vZiIpLHY9ZSgiLi8kLnNldC1wcm90byIpLnNldCxoPWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxiPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksbT1lKCIuLyQubWljcm90YXNrIiksZz0iUHJvbWlzZSIseD1zLnByb2Nlc3Msaj0icHJvY2VzcyI9PXUoeCksdz1zW2ddLF89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gdihyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmXygpLHYodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOmgoZSx0KX0sTT1mdW5jdGlvbihlKXt2YXIgdD1sKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sUD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO20oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxjPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLHU9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP3UoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVMocikpP2kuY2FsbChyLGMsdSk6YyhyKSk6dShuKX1jYXRjaChhKXt1KGEpfX07ci5sZW5ndGg+aTspYyhyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO1UobykmJihqP3guZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxVPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFVKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFQodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxjKEMsbiwxKSxjKEEsbiwxKSl9Y2F0Y2gobyl7QS5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFQociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe3AoZSk7dmFyIHQ9dGhpcy5fZD17cDpkKHRoaXMsdyxnKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYyhDLHQsMSksYyhBLHQsMSkpfWNhdGNoKHIpe0EuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEUoYih0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlQobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksYShhLkcrYS5XK2EuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxnKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShnKSxuPWUoIi4vJC5jb3JlIilbZ10sYShhLlMrYS5GKiFrLGcse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqKCFrfHxfKCEwKSksZyx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBFKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxhKGEuUythLkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLGcse2FsbDpmdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMpLHI9bmV3IEUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGM9UChmdW5jdGlvbigpeyQoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYz1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxjW29dPWUsLS1yfHxuKGMpKX0saSl9KTpuKGMpfSk7cmV0dXJuIGMmJmkoYy5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgRSh0KSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpeyQoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjM4LCIuLyQuYS1mdW5jdGlvbiI6MTEsIi4vJC5hbi1vYmplY3QiOjEzLCIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLmN0eCI6MTcsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC5leHBvcnQiOjIxLCIuLyQuZm9yLW9mIjoyMywiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxLCIuLyQuaXRlci1kZXRlY3QiOjM1LCIuLyQubGlicmFyeSI6MzksIi4vJC5taWNyb3Rhc2siOjQwLCIuLyQucmVkZWZpbmUtYWxsIjo0MywiLi8kLnNhbWUtdmFsdWUiOjQ1LCIuLyQuc2V0LXByb3RvIjo0NiwiLi8kLnNldC1zcGVjaWVzIjo0NywiLi8kLnNldC10by1zdHJpbmctdGFnIjo0OCwiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjUwLCIuLyQuc3RyaWN0LW5ldyI6NTEsIi4vJC53a3MiOjU5fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6MzQsIi4vJC5zdHJpbmctYXQiOjUyfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjozNywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjYxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG8uaHlwZXJ0eVVSTD10LG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwLG89ZT9lOiIuIjtuPXQ/dDpyLmh5cGVydHlVUkw7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24/ZShuKTp0KCJObyB1c2VyIHdhcyBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6NjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDY4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLCRbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxwWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBsPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLHA9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLCQ9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbNjddKSg2Nyl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4yLjAKLy8gTGFzdCBidWlsZDogVGh1IEp1biAwMiAyMDE2IDE1OjQ4OjA1IEdNVCswMTAwIChXRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBjKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWNbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYT1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGEubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6YX19LHRoaXMpLGF9fTtmb3IodmFyIGEgaW4gcylzW2FdW29dPXQucHJvdG90eXBlW2FdLHQucHJvdG90eXBlW2FdPXNbYV07dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoxOX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMH1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIxfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjJ9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyM31dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNH1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI1fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIGk9ZSxzPXQsYT1yO289ITEsbnVsbD09PWkmJihpPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGM9bihpLHMpO2lmKHZvaWQgMCE9PWMpe2lmKCJ2YWx1ZSJpbiBjKXJldHVybiBjLnZhbHVlO3ZhciB1PWMuZ2V0O2lmKHZvaWQgMD09PXUpcmV0dXJuO3JldHVybiB1LmNhbGwoYSl9dmFyIGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpO2lmKG51bGw9PT1sKXJldHVybjtlPWwsdD1zLHI9YSxvPSEwLGM9bD12b2lkIDB9fSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPW4odCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvP28oZSx0KTplLl9fcHJvdG9fXz10KX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjh9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmNvbnN0cnVjdG9yPT09bj8ic3ltYm9sIjp0eXBlb2YgZX0sci5fX2VzTW9kdWxlPSEwfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4obi5KU09OJiZuLkpTT04uc3RyaW5naWZ5fHxKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzLyQiKTtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0RGVzYyhlLHQpfX0seyIuLi8uLi9tb2R1bGVzLyQiOjU2LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo4MX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6ODJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6ODN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjg0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzLyQuY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6ODYsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6ODcsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6ODl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo4NSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjo4OH1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi8kLmlzLW9iamVjdCI6NDl9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKSxvPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPSh0PU9iamVjdChlKSlbb10pP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vJC5jb2YiOjMwLCIuLyQud2tzIjo3OH1dLDMwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjEuMi42In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vJC5hLWZ1bmN0aW9uIjoyNn1dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuLyQuZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi8kLmZhaWxzIjozOH1dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlzLW9iamVjdCIpLG89ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0S2V5cyhlKSxyPW4uZ2V0U3ltYm9scztpZihyKWZvcih2YXIgbyxpPXIoZSkscz1uLmlzRW51bSxhPTA7aS5sZW5ndGg+YTspcy5jYWxsKGUsbz1pW2ErK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSx7Ii4vJCI6NTZ9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuY3R4Iikscz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyx1LGwsZj1lJmEuRixkPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcseT1kP286b1t0XXx8KG9bdF09e30pLF89ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihjIGluIHIpdT0hZiYmXyYmYyBpbiBfLHUmJmMgaW4geXx8KGw9dT9fW2NdOnJbY10seVtjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOmgmJnU/aShsLG4pOnYmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBlP25ldyBlKHQpOmUodCl9O3JldHVybiB0W3NdPWVbc10sdH0obCk6YiYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmKCh5W3NdfHwoeVtzXT17fSkpW2NdPWwpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMix0LmV4cG9ydHM9YX0seyIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZ2xvYmFsIjo0MX1dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY3R4Iiksbz1lKCIuLyQuaXRlci1jYWxsIiksaT1lKCIuLyQuaXMtYXJyYXktaXRlciIpLHM9ZSgiLi8kLmFuLW9iamVjdCIpLGE9ZSgiLi8kLnRvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dmFyIGwsZixkLHA9YyhlKSxiPW4ocix1LHQ/MjoxKSxoPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHApdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShwKSlmb3IobD1hKGUubGVuZ3RoKTtsPmg7aCsrKXQ/YihzKGY9ZVtoXSlbMF0sZlsxXSk6YihlW2hdKTtlbHNlIGZvcihkPXAuY2FsbChlKTshKGY9ZC5uZXh0KCkpLmRvbmU7KW8oZCxiLGYudmFsdWUsdCl9fSx7Ii4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLWFycmF5LWl0ZXIiOjQ3LCIuLyQuaXRlci1jYWxsIjo1MCwiLi8kLnRvLWxlbmd0aCI6NzUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3OX1dLDQwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKSxvPWUoIi4vJCIpLmdldE5hbWVzLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9hKGUpOm8obihlKSl9fSx7Ii4vJCI6NTYsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vJC5kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5zZXREZXNjKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuLyQiOjU2LCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQucHJvcGVydHktZGVzYyI6NjF9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuLyQuZ2xvYmFsIjo0MX1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi8kLmNvZiI6MzB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi8kLmNvZiI6MzB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksaX19fSx7Ii4vJC5hbi1vYmplY3QiOjI4fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpLGk9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuLyQuaGlkZSIpKHMsZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4uY3JlYXRlKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuLyQiOjU2LCIuLyQuaGlkZSI6NDMsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQubGlicmFyeSIpLG89ZSgiLi8kLmV4cG9ydCIpLGk9ZSgiLi8kLnJlZGVmaW5lIikscz1lKCIuLyQuaGlkZSIpLGE9ZSgiLi8kLmhhcyIpLGM9ZSgiLi8kLml0ZXJhdG9ycyIpLHU9ZSgiLi8kLml0ZXItY3JlYXRlIiksbD1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vJCIpLmdldFByb3RvLGQ9ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGcsbSxqKXt1KHIsdCxfKTt2YXIgJCx3LE89ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gRSlyZXR1cm4gRVtlXTtzd2l0Y2goZSl7Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0saz10KyIgSXRlcmF0b3IiLHg9Zz09dixDPSExLEU9ZS5wcm90b3R5cGUsUz1FW2RdfHxFW2JdfHxnJiZFW2ddLFQ9U3x8TyhnKTtpZihTKXt2YXIgUj1mKFQuY2FsbChuZXcgZSkpO2woUixrLCEwKSwhbiYmYShFLGIpJiZzKFIsZCx5KSx4JiZTLm5hbWUhPT12JiYoQz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FsbCh0aGlzKX0pfWlmKG4mJiFqfHwhcCYmIUMmJkVbZF18fHMoRSxkLFQpLGNbdF09VCxjW2tdPXksZylpZigkPXt2YWx1ZXM6eD9UOk8odiksa2V5czptP1Q6TyhoKSxlbnRyaWVzOng/TygiZW50cmllcyIpOlR9LGopZm9yKHcgaW4gJCl3IGluIEV8fGkoRSx3LCRbd10pO2Vsc2UgbyhvLlArby5GKihwfHxDKSx0LCQpO3JldHVybiAkfX0seyIuLyQiOjU2LCIuLyQuZXhwb3J0IjozNywiLi8kLmhhcyI6NDIsIi4vJC5oaWRlIjo0MywiLi8kLml0ZXItY3JlYXRlIjo1MSwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC5saWJyYXJ5Ijo1OCwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLndrcyI6Nzh9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGEpe31yZXR1cm4gcn19LHsiLi8kLndrcyI6Nzh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDU2OltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0O3QuZXhwb3J0cz17Y3JlYXRlOm4uY3JlYXRlLGdldFByb3RvOm4uZ2V0UHJvdG90eXBlT2YsaXNFbnVtOnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGdldERlc2M6bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isc2V0RGVzYzpuLmRlZmluZVByb3BlcnR5LHNldERlc2NzOm4uZGVmaW5lUHJvcGVydGllcyxnZXRLZXlzOm4ua2V5cyxnZXROYW1lczpuLmdldE93blByb3BlcnR5TmFtZXMsZ2V0U3ltYm9sczpuLmdldE93blByb3BlcnR5U3ltYm9scyxlYWNoOltdLmZvckVhY2h9fSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4uZ2V0S2V5cyhpKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKGlbcj1zW2MrK11dPT09dClyZXR1cm4gcn19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC50YXNrIikuc2V0LGM9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsdT1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vJC5jb2YiKSh1KSxkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO2ZvcihmJiYoZT11LmRvbWFpbikmJih1LmRvbWFpbj1udWxsLGUuZXhpdCgpKTtuOyl0PW4uZG9tYWluLHI9bi5mbix0JiZ0LmVudGVyKCkscigpLHQmJnQuZXhpdCgpLG49bi5uZXh0O289dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilpPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhkKX07ZWxzZSBpZihjKXt2YXIgcD0xLGI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBjKGQpLm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtiLmRhdGE9cD0tcH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4oZCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMsZCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMCxkb21haW46ZiYmdS5kb21haW59O28mJihvLm5leHQ9dCksbnx8KG49dCxpKCkpLG89dH19LHsiLi8kLmNvZiI6MzAsIi4vJC5nbG9iYWwiOjQxLCIuLyQudGFzayI6NzJ9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5leHBvcnQiKSxvPWUoIi4vJC5jb3JlIiksaT1lKCIuLyQuZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuLyQuY29yZSI6MzEsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQucmVkZWZpbmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCluKGUscix0W3JdKTtyZXR1cm4gZX19LHsiLi8kLnJlZGVmaW5lIjo2M31dLDYzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5oaWRlIil9LHsiLi8kLmhpZGUiOjQzfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OmUhPWUmJnQhPXR9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5nZXREZXNjLG89ZSgiLi8kLmlzLW9iamVjdCIpLGk9ZSgiLi8kLmFuLW9iamVjdCIpLHM9ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vJC5jdHgiKShGdW5jdGlvbi5jYWxsLG4oT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG8odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goaSl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhlLHQpLHI/ZS5fX3Byb3RvX189dDpvKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOnN9fSx7Ii4vJCI6NTYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY3R4IjozMiwiLi8kLmlzLW9iamVjdCI6NDl9XSw2NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuY29yZSIpLG89ZSgiLi8kIiksaT1lKCIuLyQuZGVzY3JpcHRvcnMiKSxzPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLnNldERlc2ModCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vJCI6NTYsIi4vJC5jb3JlIjozMSwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLndrcyI6Nzh9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLnNldERlc2Msbz1lKCIuLyQuaGFzIiksaT1lKCIuLyQud2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vJCI6NTYsIi4vJC5oYXMiOjQyLCIuLyQud2tzIjo3OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuYW4tb2JqZWN0Iiksbz1lKCIuLyQuYS1mdW5jdGlvbiIpLGk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLndrcyI6Nzh9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKHIrIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciEiKTtyZXR1cm4gZX19LHt9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLGM9bihyKSx1PWEubGVuZ3RoO3JldHVybiAwPmN8fGM+PXU/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KGMpLDU1Mjk2Pml8fGk+NTYzMTl8fGMrMT09PXV8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KGMpOmk6ZT9hLnNsaWNlKGMsYysyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC50by1pbnRlZ2VyIjo3M31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmN0eCIpLGE9ZSgiLi8kLmludm9rZSIpLGM9ZSgiLi8kLmh0bWwiKSx1PWUoIi4vJC5kb20tY3JlYXRlIiksbD1lKCIuLyQuZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUsYj1sLk1lc3NhZ2VDaGFubmVsLGg9MCx2PXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsXz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PXZbZV07ZGVsZXRlIHZbZV0sdCgpfX0sZz1mdW5jdGlvbihlKXtfLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIHZbKytoXT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbihoKSxofSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSB2W2VdfSwicHJvY2VzcyI9PWUoIi4vJC5jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyhfLGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1nLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGcsITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7Yy5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXtjLnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhfLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vJC5jb2YiOjMwLCIuLyQuY3R4IjozMiwiLi8kLmRvbS1jcmVhdGUiOjM1LCIuLyQuZ2xvYmFsIjo0MSwiLi8kLmh0bWwiOjQ0LCIuLyQuaW52b2tlIjo0NX1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmlvYmplY3QiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuLyQuZGVmaW5lZCI6MzMsIi4vJC5pb2JqZWN0Ijo0Nn1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuLyQudG8taW50ZWdlciI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vJC5kZWZpbmVkIjozM31dLDc3OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnNoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vJC51aWQiKSxpPWUoIi4vJC5nbG9iYWwiKS5TeW1ib2w7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1pJiZpW2VdfHwoaXx8bykoIlN5bWJvbC4iK2UpKX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5zaGFyZWQiOjY4LCIuLyQudWlkIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNsYXNzb2YiKSxvPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi8kLmNvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vJC5jbGFzc29mIjoyOSwiLi8kLmNvcmUiOjMxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLndrcyI6Nzh9XSw4MDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuLyQuaXRlci1zdGVwIiksaT1lKCIuLyQuaXRlcmF0b3JzIikscz1lKCIuLyQudG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuLyQuaXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vJC5hZGQtdG8tdW5zY29wYWJsZXMiOjI3LCIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuaXRlci1zdGVwIjo1NCwiLi8kLml0ZXJhdG9ycyI6NTUsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWlvYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8taW9iamVjdCI6NzR9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKG4odCkpfX0pfSx7Ii4vJC5vYmplY3Qtc2FwIjo2MCwiLi8kLnRvLW9iamVjdCI6NzZ9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuLyQuc2V0LXByb3RvIikuc2V0fSl9LHsiLi8kLmV4cG9ydCI6MzcsIi4vJC5zZXQtcHJvdG8iOjY1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPWUoIi4vJCIpLGk9ZSgiLi8kLmxpYnJhcnkiKSxzPWUoIi4vJC5nbG9iYWwiKSxhPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5jbGFzc29mIiksdT1lKCIuLyQuZXhwb3J0IiksbD1lKCIuLyQuaXMtb2JqZWN0IiksZj1lKCIuLyQuYW4tb2JqZWN0IiksZD1lKCIuLyQuYS1mdW5jdGlvbiIpLHA9ZSgiLi8kLnN0cmljdC1uZXciKSxiPWUoIi4vJC5mb3Itb2YiKSxoPWUoIi4vJC5zZXQtcHJvdG8iKS5zZXQsdj1lKCIuLyQuc2FtZS12YWx1ZSIpLHk9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIiksXz1lKCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciIpLGc9ZSgiLi8kLm1pY3JvdGFzayIpLG09IlByb21pc2UiLGo9cy5wcm9jZXNzLCQ9InByb2Nlc3MiPT1jKGopLHc9c1ttXSxPPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGUmJih0LmNvbnN0cnVjdG9yPU9iamVjdCksdy5yZXNvbHZlKHQpPT09dH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9bmV3IHcoZSk7cmV0dXJuIGgocix0LnByb3RvdHlwZSkscn12YXIgcj0hMTt0cnl7aWYocj13JiZ3LnJlc29sdmUmJk8oKSxoKHQsdyksdC5wcm90b3R5cGU9by5jcmVhdGUody5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0fX0pLHQucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIHR8fChyPSExKSxyJiZlKCIuLyQuZGVzY3JpcHRvcnMiKSl7dmFyIG49ITE7dy5yZXNvbHZlKG8uc2V0RGVzYyh7fSwidGhlbiIse2dldDpmdW5jdGlvbigpe249ITB9fSkpLHI9bn19Y2F0Y2goaSl7cj0hMX1yZXR1cm4gcn0oKSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkmJmU9PT13JiZ0PT09bj8hMDp2KGUsdCl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlKVt5XTtyZXR1cm4gdm9pZCAwIT10P3Q6ZX0sRT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbChlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFQ9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxSPWZ1bmN0aW9uKGUsdCl7aWYoIWUubil7ZS5uPSEwO3ZhciByPWUuYztnKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUudixvPTE9PWUucyxpPTAsYT1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSxjPXQucmVqZWN0O3RyeXtzPyhvfHwoZS5oPSEwKSxyPXM9PT0hMD9uOnMobikscj09PXQucHJvbWlzZT9jKFR5cGVFcnJvcigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1FKHIpKT9pLmNhbGwocixhLGMpOmEocikpOmMobil9Y2F0Y2godSl7Yyh1KX19O3IubGVuZ3RoPmk7KWEocltpKytdKTtyLmxlbmd0aD0wLGUubj0hMSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQscixvPWUucDtNKG8pJiYoJD9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbixvKToodD1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT90KHtwcm9taXNlOm8scmVhc29uOm59KToocj1zLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG4pKSxlLmE9dm9pZCAwfSwxKX0pfX0sTT1mdW5jdGlvbihlKXt2YXIgdCxyPWUuX2Qsbj1yLmF8fHIuYyxvPTA7aWYoci5oKXJldHVybiExO2Zvcig7bi5sZW5ndGg+bzspaWYodD1uW28rK10sdC5mYWlsfHwhTSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5kfHwodC5kPSEwLHQ9dC5yfHx0LHQudj1lLHQucz0yLHQuYT10LmMuc2xpY2UoKSxSKHQsITApKX0sTj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuZCl7ci5kPSEwLHI9ci5yfHxyO3RyeXtpZihyLnA9PT1lKXRocm93IFR5cGVFcnJvcigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9nKGZ1bmN0aW9uKCl7dmFyIG49e3I6cixkOiExfTt0cnl7dC5jYWxsKGUsYShOLG4sMSksYShELG4sMSkpfWNhdGNoKG8pe0QuY2FsbChuLG8pfX0pOihyLnY9ZSxyLnM9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe3I6cixkOiExfSxuKX19fTtrfHwodz1mdW5jdGlvbihlKXtkKGUpO3ZhciB0PXRoaXMuX2Q9e3A6cCh0aGlzLHcsbSksYzpbXSxhOnZvaWQgMCxzOjAsZDohMSx2OnZvaWQgMCxoOiExLG46ITF9O3RyeXtlKGEoTix0LDEpLGEoRCx0LDEpKX1jYXRjaChyKXtELmNhbGwodCxyKX19LGUoIi4vJC5yZWRlZmluZS1hbGwiKSh3LnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBTKF8odGhpcyx3KSksbj1yLnByb21pc2Usbz10aGlzLl9kO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LG8uYy5wdXNoKHIpLG8uYSYmby5hLnB1c2gociksby5zJiZSKG8sITEpLG59LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSkpLHUodS5HK3UuVyt1LkYqIWsse1Byb21pc2U6d30pLGUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpKHcsbSksZSgiLi8kLnNldC1zcGVjaWVzIikobSksbj1lKCIuLyQuY29yZSIpW21dLHUodS5TK3UuRiohayxtLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFModGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKigha3x8TyghMCkpLG0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksdSh1LlMrdS5GKiEoayYmZSgiLi8kLml0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7dy5hbGwoZSlbImNhdGNoIl0oZnVuY3Rpb24oKXt9KX0pKSxtLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9Qyh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qscz1bXSxhPVQoZnVuY3Rpb24oKXtiKGUsITEscy5wdXNoLHMpO3ZhciByPXMubGVuZ3RoLGE9QXJyYXkocik7cj9vLmVhY2guY2FsbChzLGZ1bmN0aW9uKGUsbyl7dmFyIHM9ITE7dC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c3x8KHM9ITAsYVtvXT1lLC0tcnx8bihhKSl9LGkpfSk6bihhKX0pO3JldHVybiBhJiZpKGEuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi8kIjo1NiwiLi8kLmEtZnVuY3Rpb24iOjI2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5jdHgiOjMyLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQuZXhwb3J0IjozNywiLi8kLmZvci1vZiI6MzksIi4vJC5nbG9iYWwiOjQxLCIuLyQuaXMtb2JqZWN0Ijo0OSwiLi8kLml0ZXItZGV0ZWN0Ijo1MywiLi8kLmxpYnJhcnkiOjU4LCIuLyQubWljcm90YXNrIjo1OSwiLi8kLnJlZGVmaW5lLWFsbCI6NjIsIi4vJC5zYW1lLXZhbHVlIjo2NCwiLi8kLnNldC1wcm90byI6NjUsIi4vJC5zZXQtc3BlY2llcyI6NjYsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIjo2OSwiLi8kLnN0cmljdC1uZXciOjcwLCIuLyQud2tzIjo3OH1dLDg3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5zdHJpbmctYXQiKSghMCk7ZSgiLi8kLml0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuLyQuaXRlci1kZWZpbmUiOjUyLCIuLyQuc3RyaW5nLWF0Ijo3MX1dLDg4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLmdsb2JhbCIpLGk9ZSgiLi8kLmhhcyIpLHM9ZSgiLi8kLmRlc2NyaXB0b3JzIiksYT1lKCIuLyQuZXhwb3J0IiksYz1lKCIuLyQucmVkZWZpbmUiKSx1PWUoIi4vJC5mYWlscyIpLGw9ZSgiLi8kLnNoYXJlZCIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksZD1lKCIuLyQudWlkIikscD1lKCIuLyQud2tzIiksYj1lKCIuLyQua2V5b2YiKSxoPWUoIi4vJC5nZXQtbmFtZXMiKSx2PWUoIi4vJC5lbnVtLWtleXMiKSx5PWUoIi4vJC5pcy1hcnJheSIpLF89ZSgiLi8kLmFuLW9iamVjdCIpLGc9ZSgiLi8kLnRvLWlvYmplY3QiKSxtPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaj1uLmdldERlc2MsJD1uLnNldERlc2Msdz1uLmNyZWF0ZSxPPWguZ2V0LGs9by5TeW1ib2wseD1vLkpTT04sQz14JiZ4LnN0cmluZ2lmeSxFPSExLFM9cCgiX2hpZGRlbiIpLFQ9bi5pc0VudW0sUj1sKCJzeW1ib2wtcmVnaXN0cnkiKSxNPWwoInN5bWJvbHMiKSxEPSJmdW5jdGlvbiI9PXR5cGVvZiBrLE49T2JqZWN0LnByb3RvdHlwZSxQPXMmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dygkKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWooTix0KTtuJiZkZWxldGUgTlt0XSwkKGUsdCxyKSxuJiZlIT09TiYmJChOLHQsbil9OiQsQT1mdW5jdGlvbihlKXt2YXIgdD1NW2VdPXcoay5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUscyYmRSYmUChOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aSh0aGlzLFMpJiZpKHRoaXNbU10sZSkmJih0aGlzW1NdW2VdPSExKSxQKHRoaXMsZSxtKDEsdCkpfX0pLHR9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxGPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gciYmaShNLHQpPyhyLmVudW1lcmFibGU/KGkoZSxTKSYmZVtTXVt0XSYmKGVbU11bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOm0oMCwhMSl9KSk6KGkoZSxTKXx8JChlLFMsbSgxLHt9KSksZVtTXVt0XT0hMCksUChlLHQscikpOiQoZSx0LHIpfSxJPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9Zyh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylGKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkkodyhlKSx0KX0sVT1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTSxlKXx8aSh0aGlzLFMpJiZ0aGlzW1NdW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKGU9ZyhlKSx0KTtyZXR1cm4hcnx8IWkoTSx0KXx8aShlLFMpJiZlW1NdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfSxIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKXx8dD09U3x8bi5wdXNoKHQpO3JldHVybiBufSxCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPU8oZyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShNLHQ9cltvKytdKSYmbi5wdXNoKE1bdF0pO3JldHVybiBufSxKPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFMKGUpKXtmb3IodmFyIHQscixuPVtlXSxvPTEsaT1hcmd1bWVudHM7aS5sZW5ndGg+bzspbi5wdXNoKGlbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnkodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEwodCk/dm9pZCAwOnR9KSxuWzFdPXQsQy5hcHBseSh4LG4pfX0sVz11KGZ1bmN0aW9uKCl7dmFyIGU9aygpO3JldHVybiJbbnVsbF0iIT1DKFtlXSl8fCJ7fSIhPUMoe2E6ZX0pfHwie30iIT1DKE9iamVjdChlKSl9KTtEfHwoaz1mdW5jdGlvbigpe2lmKEwodGhpcykpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IiKTtyZXR1cm4gQShkKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSl9LGMoay5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGt9LG4uY3JlYXRlPVYsbi5pc0VudW09VSxuLmdldERlc2M9eixuLnNldERlc2M9RixuLnNldERlc2NzPUksbi5nZXROYW1lcz1oLmdldD1ILG4uZ2V0U3ltYm9scz1CLHMmJiFlKCIuLyQubGlicmFyeSIpJiZjKE4sInByb3BlcnR5SXNFbnVtZXJhYmxlIixVLCEwKSk7dmFyIFk9eyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKFIsZSs9IiIpP1JbZV06UltlXT1rKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoUixlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7RT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7RT0hMX19O24uZWFjaC5jYWxsKCJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO1lbZV09RD90OkEodCl9KSxFPSEwLGEoYS5HK2EuVyx7U3ltYm9sOmt9KSxhKGEuUywiU3ltYm9sIixZKSxhKGEuUythLkYqIUQsIk9iamVjdCIse2NyZWF0ZTpWLGRlZmluZVByb3BlcnR5OkYsZGVmaW5lUHJvcGVydGllczpJLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjp6LGdldE93blByb3BlcnR5TmFtZXM6SCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Qn0pLHgmJmEoYS5TK2EuRiooIUR8fFcpLCJKU09OIix7c3RyaW5naWZ5Okp9KSxmKGssIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5lbnVtLWtleXMiOjM2LCIuLyQuZXhwb3J0IjozNywiLi8kLmZhaWxzIjozOCwiLi8kLmdldC1uYW1lcyI6NDAsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaGFzIjo0MiwiLi8kLmlzLWFycmF5Ijo0OCwiLi8kLmtleW9mIjo1NywiLi8kLmxpYnJhcnkiOjU4LCIuLyQucHJvcGVydHktZGVzYyI6NjEsIi4vJC5yZWRlZmluZSI6NjMsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NjcsIi4vJC5zaGFyZWQiOjY4LCIuLyQudG8taW9iamVjdCI6NzQsIi4vJC51aWQiOjc3LCIuLyQud2tzIjo3OH1dLDg5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIik7bi5Ob2RlTGlzdD1uLkhUTUxDb2xsZWN0aW9uPW4uQXJyYXl9LHsiLi8kLml0ZXJhdG9ycyI6NTUsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo4MH1dLDkwOltmdW5jdGlvbihlLHQscil7d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZz1bXSx0aGlzLms9ZX1mdW5jdGlvbiByKGUpeyFmdW5jdGlvbiByKCl7dmFyIG49ZS50YWtlUmVjb3JkcygpO24ubGVuZ3RoJiZlLmsobixlKSxlLmY9c2V0VGltZW91dChyLHQuX3BlcmlvZCl9KCl9ZnVuY3Rpb24gbih0KXt2YXIgcixuPXt0eXBlOm51bGwsdGFyZ2V0Om51bGwsYWRkZWROb2RlczpbXSxyZW1vdmVkTm9kZXM6W10scHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVOYW1lOm51bGwsYXR0cmlidXRlTmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bnVsbH07Zm9yKHIgaW4gdCluW3JdIT09ZSYmdFtyXSE9PWUmJihuW3JdPXRbcl0pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUsdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvLGM9bi5sZW5ndGg7dC5hJiZyLmEmJmkobixlLHIuYSx0LmQpLCh0LmJ8fHQuZSkmJihvPXMobixlLHIsdCkpLChvfHxuLmxlbmd0aCE9PWMpJiYocj1hKGUsdCkpfX1mdW5jdGlvbiBpKHQscixvLGkpe2Zvcih2YXIgcyxhLGM9e30sdT1yLmF0dHJpYnV0ZXMsbD11Lmxlbmd0aDtsLS07KXM9dVtsXSxhPXMubmFtZSxpJiZpW2FdPT09ZXx8KHMudmFsdWUhPT1vW2FdJiZ0LnB1c2gobih7dHlwZToiYXR0cmlidXRlcyIsdGFyZ2V0OnIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV0sYXR0cmlidXRlTmFtZXNwYWNlOnMubmFtZXNwYWNlVVJJfSkpLGNbYV09ITApO2ZvcihhIGluIG8pY1thXXx8dC5wdXNoKG4oe3RhcmdldDpyLHR5cGU6ImF0dHJpYnV0ZXMiLGF0dHJpYnV0ZU5hbWU6YSxvbGRWYWx1ZTpvW2FdfSkpfWZ1bmN0aW9uIHModCxyLG8scyl7ZnVuY3Rpb24gYShlLHIsbyxhLGMpe3ZhciBsPWUubGVuZ3RoLTE7Yz0tfigobC1jKS8yKTtmb3IodmFyIGYsZCxwO3A9ZS5wb3AoKTspZj1vW3AuaF0sZD1hW3AuaV0scy5iJiZjJiZNYXRoLmFicyhwLmgtcC5pKT49bCYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2ZdLHJlbW92ZWROb2RlczpbZl0sbmV4dFNpYmxpbmc6Zi5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Zi5wcmV2aW91c1NpYmxpbmd9KSksYy0tKSxzLmEmJmQuYSYmaSh0LGYsZC5hLHMuZCkscy5jJiYzPT09Zi5ub2RlVHlwZSYmZi5ub2RlVmFsdWUhPT1kLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6Zn0pKSxzLmUmJnUoZixkKX1mdW5jdGlvbiB1KHIsbyl7Zm9yKHZhciBkLHAsYixoLHYseT1yLmNoaWxkTm9kZXMsXz1vLmIsZz15Lmxlbmd0aCxtPV8/Xy5sZW5ndGg6MCxqPTAsJD0wLHc9MDtnPiR8fG0+dzspaD15WyRdLHY9KGI9X1t3XSkmJmIuaixoPT09dj8ocy5hJiZiLmEmJmkodCxoLGIuYSxzLmQpLHMuYyYmYi5jIT09ZSYmaC5ub2RlVmFsdWUhPT1iLmMmJnQucHVzaChuKHt0eXBlOiJjaGFyYWN0ZXJEYXRhIix0YXJnZXQ6aH0pKSxwJiZhKHAscix5LF8saikscy5lJiYoaC5jaGlsZE5vZGVzLmxlbmd0aHx8Yi5iJiZiLmIubGVuZ3RoKSYmdShoLGIpLCQrKyx3KyspOihsPSEwLGR8fChkPXt9LHA9W10pLGgmJihkW2I9YyhoKV18fChkW2JdPSEwLC0xPT09KGI9ZihfLGgsdywiaiIpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltoXSxuZXh0U2libGluZzpoLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpoLnByZXZpb3VzU2libGluZ30pKSxqKyspOnAucHVzaCh7aDokLGk6Yn0pKSwkKyspLHYmJnYhPT15WyRdJiYoZFtiPWModildfHwoZFtiXT0hMCwtMT09PShiPWYoeSx2LCQpKT9zLmImJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6by5qLHJlbW92ZWROb2Rlczpbdl0sbmV4dFNpYmxpbmc6X1t3KzFdLHByZXZpb3VzU2libGluZzpfW3ctMV19KSksai0tKTpwLnB1c2goe2g6YixpOnd9KSksdysrKSk7cCYmYShwLHIseSxfLGopfXZhciBsO3JldHVybiB1KHIsbyksbH1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ITA7cmV0dXJuIGZ1bmN0aW9uIG4oZSl7dmFyIG89e2o6ZX07cmV0dXJuIXQuY3x8MyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlPyh0LmEmJnImJjE9PT1lLm5vZGVUeXBlJiYoby5hPWwoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZCYmIXQuZFtyLm5hbWVdfHwoZVtyLm5hbWVdPXIudmFsdWUpLGV9KSksciYmKHQuYnx8dC5jfHx0LmEmJnQuZSkmJihvLmI9dShlLmNoaWxkTm9kZXMsbikpLHI9dC5lKTpvLmM9ZS5ub2RlVmFsdWUsb30oZSl9ZnVuY3Rpb24gYyhlKXt0cnl7cmV0dXJuIGUuaWR8fChlLm1vX2lkPWUubW9faWR8fGQrKyl9Y2F0Y2godCl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaChyKXtyZXR1cm4gZCsrfX19ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPXt9LG49MDtuPGUubGVuZ3RoO24rKylyPXQocixlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZihlLHQscixuKXtmb3IoO3I8ZS5sZW5ndGg7cisrKWlmKChuP2Vbcl1bbl06ZVtyXSk9PT10KXJldHVybiByO3JldHVybi0xfXQuX3BlcmlvZD0zMCx0LnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17YTohISh0LmF0dHJpYnV0ZXN8fHQuYXR0cmlidXRlRmlsdGVyfHx0LmF0dHJpYnV0ZU9sZFZhbHVlKSxiOiEhdC5jaGlsZExpc3QsZTohIXQuc3VidHJlZSxjOiEoIXQuY2hhcmFjdGVyRGF0YSYmIXQuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKX0saT10aGlzLmcscz0wO3M8aS5sZW5ndGg7cysrKWlbc10ubT09PWUmJmkuc3BsaWNlKHMsMSk7dC5hdHRyaWJ1dGVGaWx0ZXImJihuLmQ9bCh0LmF0dHJpYnV0ZUZpbHRlcixmdW5jdGlvbihlLHQpewpyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDkxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmV8fGZ1bmN0aW9uKGUsdCxyLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxpLHM9WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWNvbmZpZ3VyZSIsInNldFByb3RvdHlwZSIsInByZXZlbnRFeHRlbnNpb25zIl0sYT10LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ZS5jYWxsKHQpfX0oZS5wcm90b3R5cGUudG9TdHJpbmcpLGM9dC5wcm90b3R5cGUuaW5kZXhPZj90LmluZGV4T2Z8fGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscixuKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yfHwwO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx1PXIuTWFwIT09biYmTWFwLnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXB9OmZ1bmN0aW9uKCl7dmFyIGU9W10sdD1bXTtyZXR1cm57c2l6ZTowLGhhczpmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpPi0xfSxnZXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbYyhlLHIpXX0sc2V0OmZ1bmN0aW9uKHIsbil7dmFyIG89YyhlLHIpOy0xPT09bz8oZS5wdXNoKHIpLHQucHVzaChuKSx0aGlzLnNpemUrKyk6dFtvXT1ufSwiZGVsZXRlIjpmdW5jdGlvbihyKXt2YXIgbj1jKGUscik7bj4tMSYmKGUuc3BsaWNlKG4sMSksdC5zcGxpY2UobiwxKSx0aGlzLnNpemUtLSl9LGZvckVhY2g6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspci5jYWxsKGFyZ3VtZW50c1sxXSx0W25dLGVbbl0sdGhpcyl9fX0sbD1lLmdldE93blByb3BlcnR5TmFtZXM/ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE93blByb3BlcnR5TmFtZXM7dHJ5e2FyZ3VtZW50cy5jYWxsZWV9Y2F0Y2gocil7dmFyIG49KHQoYykuam9pbigiICIpKyIgIikucmVwbGFjZSgvcHJvdG90eXBlIHxsZW5ndGggfG5hbWUgL2csIiIpLnNsaWNlKDAsLTEpLnNwbGl0KCIgIik7bi5sZW5ndGgmJih0PWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0T3duUHJvcGVydHlOYW1lcyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClmb3IodmFyIG8saT0wO2k8bi5sZW5ndGg7KShvPWMocixuW2krK10pKT4tMSYmci5zcGxpY2UobywxKTtyZXR1cm4gcn0pfXJldHVybiB0fSgpOmZ1bmN0aW9uKHQpe3ZhciByLG4sbz1bXTtpZigiaGFzT3duUHJvcGVydHkiaW4gdClmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJm8ucHVzaChyKTtlbHNle249ZS5oYXNPd25Qcm9wZXJ0eTtmb3IociBpbiB0KW4uY2FsbCh0LHIpJiZvLnB1c2gocil9cmV0dXJuIGEodCkmJm8ucHVzaCgibGVuZ3RoIiksb30sZj1lLmdldFByb3RvdHlwZU9mLGQ9ZS5kZWZpbmVQcm9wZXJ0aWVzJiZlLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxyLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt2YXIgZT0rbmV3IERhdGUsdD1lO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IoKHQ9K25ldyBEYXRlKS1lKX0sMTcpfX0oKSxiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vLmdldChlKTtuPyh2KG4sZSksbShlLG4sdCxyKSk6KG49aChlKSxtKGUsbix0LHIpLDE9PT1vLnNpemUmJnAoeSkpfSxoPWZ1bmN0aW9uKHQscil7dmFyIG4saT1sKHQpLHM9W10sYT0wLHI9e2hhbmRsZXJzOnUoKSxmcm96ZW46ZS5pc0Zyb3plbj9lLmlzRnJvemVuKHQpOiExLGV4dGVuc2libGU6ZS5pc0V4dGVuc2libGU/ZS5pc0V4dGVuc2libGUodCk6ITAscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6Zyh0LHIpfTtpZihkKWZvcihuPXIuZGVzY3JpcHRvcnM9W107YTxpLmxlbmd0aDspblthXT1kKHQsaVthXSksc1thXT10W2lbYSsrXV07ZWxzZSBmb3IoO2E8aS5sZW5ndGg7KXNbYV09dFtpW2ErK11dO3JldHVybiBvLnNldCh0LHIpLHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxhPXQudmFsdWVzW3JdLGM9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbyYmKGE9PT1zPzA9PT1hJiYxL2EhPT0xL3M6YT09PWF8fHM9PT1zKSYmKGooZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LnZhbHVlc1tyXT1zKSwhYy5jb25maWd1cmFibGV8fG8uY29uZmlndXJhYmxlJiZvLndyaXRhYmxlPT09Yy53cml0YWJsZSYmby5lbnVtZXJhYmxlPT09Yy5lbnVtZXJhYmxlJiZvLmdldD09PWMuZ2V0JiZvLnNldD09PWMuc2V0fHwoaihlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6YX0sbiksdC5kZXNjcmlwdG9yc1tyXT1vKX06ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dC5wcm9wZXJ0aWVzW3JdLGk9ZVtvXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihqKGUsdCx7bmFtZTpvLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbiksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbixvLGkpe2Zvcih2YXIgcyxhPXIubGVuZ3RoO24mJmEtLTspbnVsbCE9PXJbYV0mJihzPWQoZSxyW2FdKSxuLS0scz90KGUsbyxhLGkscyk6KGooZSxvLHtuYW1lOnJbYV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1thXX0saSksby5wcm9wZXJ0aWVzLnNwbGljZShhLDEpLG8udmFsdWVzLnNwbGljZShhLDEpLG8uZGVzY3JpcHRvcnMuc3BsaWNlKGEsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGooZSxuLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tpXX0sbyksbi5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG4udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihuLG8saSl7aWYobi5oYW5kbGVycy5zaXplJiYhbi5mcm96ZW4pe3ZhciBzLGEsdSxwLGIsaCx2LHksXz1uLnZhbHVlcyxnPW4uZGVzY3JpcHRvcnMsbT0wO2lmKG4uZXh0ZW5zaWJsZSlpZihzPW4ucHJvcGVydGllcy5zbGljZSgpLGE9cy5sZW5ndGgsdT1sKG8pLGcpe2Zvcig7bTx1Lmxlbmd0aDspYj11W20rK10scD1jKHMsYikseT1kKG8sYiksLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChvW2JdKSxnLnB1c2goeSkpOihzW3BdPW51bGwsYS0tLHQobyxuLHAsaSx5KSk7cihvLHMsYSxuLGkpLGUuaXNFeHRlbnNpYmxlKG8pfHwobi5leHRlbnNpYmxlPSExLGoobyxuLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om99LGkpLG4uZnJvemVuPWUuaXNGcm96ZW4obykpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSxoPW9bYl0sLTE9PT1wPyhqKG8sbix7bmFtZTpiLHR5cGU6ImFkZCIsb2JqZWN0Om99LGkpLG4ucHJvcGVydGllcy5wdXNoKGIpLF8ucHVzaChoKSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpKSk7cihvLHMsYSxuLGkpfWVsc2UgaWYoIW4uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKWI9c1ttXSx0KG8sbixtLGksZChvLGIpKTtlLmlzRnJvemVuKG8pJiYobi5mcm96ZW49ITApfWYmJih2PWYobyksdiE9PW4ucHJvdG8mJihqKG8sbix7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpvLG9sZFZhbHVlOm4ucHJvdG99KSxuLnByb3RvPXYpKX19fSgpLHk9ZnVuY3Rpb24oKXtvLnNpemUmJihvLmZvckVhY2godiksaS5mb3JFYWNoKF8pLHAoeSkpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9by5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW8uZ2V0KGUpO2lmKHIpe3ZhciBuLGk9e29iamVjdDplfTtmb3IobiBpbiB0KSJvYmplY3QiIT09biYmKGlbbl09dFtuXSk7aihlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxhPW8uZ2V0KGUpLGM9YXJndW1lbnRzWzJdLHU9Yz09PW4/cigpOnIuY2FsbChjKTtpZihhJiZ2KGEsZSx0KSxhJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2ooZSxhLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkuZ2V0KHIpO298fGkuc2V0KHIsbz17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxvLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om4uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG8pfSxqPWZ1bmN0aW9uKGUsdCxyLG4pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG58fC0xPT09YyhvLG4pKSYmYyhvLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O289dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbyl7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobz09PW4pbz1zO2Vsc2UgaWYoIW98fCJvYmplY3QiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIGIodCxyLG8pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG49aS5nZXQodCk7cmV0dXJuIG4mJihyPW4ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG4ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSkscChmdW5jdGlvbigpe18obix0KX0pLDE9PT1uLm9ic2VydmVkLnNpemUmJm4ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm4ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9vWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6Zyh0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3YoZS5kYXRhLHQpfSksXyh0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDkyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYT1uKHMpLGM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihjKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWFbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL3N5bmNoZXIvU3luY2hlciI6OTksImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6OTAsIm9iamVjdC5vYnNlcnZlIjo5MX1dLDkzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGMpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxoPW4oYiksdj1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9zeW5jaGVyPXQsYS5fdXJsPXIsYS5fc2NoZW1hPW4sYS5fc3RhdHVzPW8sYS5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGEuX2NoaWxkcmVucz1zLGEuX3ZlcnNpb249MCxhLl9jaGlsZElkPTAsYS5fY2hpbGRyZW5PYmplY3RzPXt9LGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGEuX293bmVyPXQuX293bmVyLGEuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsYVsiZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYT1uZXcgaFsiZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Eub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWEsZShhKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBoWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLHYuZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixhPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2EsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYz1pLm9iaix1PWkubGFzdDtjLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCIuL1N5bmNPYmplY3QiOjk4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYT1uKHMpLGM9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGMpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBhPXRoaXM7YS5fcGFyZW50PXQsYS5fY2hpbGRJZD1yLGEuX293bmVyPW8sYS5fbXNnSWQ9cyxhLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYS5fYnVzPXQuX2J1cyxhLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGo9bihtKSwkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxzLGMsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLHMuZGF0YSxjKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgalsiZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG49e3R5cGU6JC5FWEFDVCxjYWxsYmFjazp0fSxvPWUuaW5kZXhPZigiKiIpO289PT1lLmxlbmd0aC0xJiYoMD09PW8/bi50eXBlPSQuQU5ZOihuLnR5cGU9JC5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW59fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX2ZpbHRlcnNbcl07bi50eXBlPT09JC5BTlk/bi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm4uY2FsbGJhY2soZSk6bi50eXBlPT09JC5FWEFDVCYmZS5maWVsZD09PXImJm4uY2FsbGJhY2soZSl9KX19XSksdH0oZ1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6OTMsIi4vRGF0YU9iamVjdENoaWxkIjo5NCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLHA9bihkKSxiPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxoPW4oYiksdj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW4odiksXz1lKCIuL0RhdGFPYmplY3QiKSxnPW4oXyksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBjPSgwLHBbImRlZmF1bHQiXSkodGhpcywoMCxhWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbixvLGkscykpLGw9YztyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxjfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1qLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEwMCwiLi9EYXRhT2JqZWN0Ijo5MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTV9XSw5NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9bixzLl9jaGlsZHJlbj1vLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWMsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9aC5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9aC5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxhPWVbIm5ldyJdKCIiK3MpLGM9YS50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmMsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgaD1vLnNsaWNlKHMscytkKTtoLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoaCl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYT1zLnRvU3RyaW5nKCk7aWYoLTEhPT1hLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBjPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGMpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGMpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YX0pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0saD1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5OTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9bihjKSxsPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksZj1uKGwpLGQ9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxwPW4oZCksYj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLGg9bihiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBvPXRoaXM7by5fb3duZXI9dCxvLl9idXM9cixvLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLG8uX3JlcG9ydGVycz17fSxvLl9vYnNlcnZlcnM9e30sby5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOm8uX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6by5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyLnJlcG9ydGVyPW4uX293bmVyLHIuc2NoZW1hPWU7dmFyIG89e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLl9vd25lcix0bzpuLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUsdmFsdWU6cixhdXRob3Jpc2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IGZbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24obyxpKXtyLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtjb25zb2xlLmxvZygic3Vic2NyaWJlLXJlc3BvbnNlOiAiLG4pO3ZhciBzPXIuX3Byb3Zpc2lvbmFsc1t0XTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW3RdLHMmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKSxuLmJvZHkuY29kZTwyMDApcz1uZXcgaFsiZGVmYXVsdCJdKHIuX293bmVyLHQsci5fYnVzLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW3RdPXM7ZWxzZSBpZigyMDA9PT1uLmJvZHkuY29kZSl7dmFyIGE9bmV3IHBbImRlZmF1bHQiXShyLHQsZSwib24iLG4uYm9keS52YWx1ZSxzLmNoaWxkcmVuLG4uYm9keS52ZXJzaW9uKTtyLl9vYnNlcnZlcnNbdF09YSxvKGEpLHMuYXBwbHkoYSl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InJlYWQiLGZyb206dC5fb3duZXIsdG86ZX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSxuKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6bih0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpufX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdO2lmKG4pe3ZhciBvPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSwyMDA9PT1vJiZuWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm8sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6OTUsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjo5NiwiLi9EYXRhUHJvdmlzaW9uYWwiOjk3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG8oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxiWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP0pTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gdShlKXt2YXIgdD1vKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gbChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1vKGUpO2lmKHQuZG9tYWluJiZ0LmlkZW50aXR5KXJldHVybiBlO3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiBjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxkPW4oZikscD1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxiPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1zLHIuZGVlcENsb25lPWEsci5nZXRVc2VyVVJMRnJvbUVtYWlsPWMsci5nZXRVc2VyRW1haWxGcm9tVVJMPXUsci5jb252ZXJ0VG9Vc2VyVVJMPWx9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjd9XX0se30sWzkyXSkoOTIpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKICogU2ltcGxlIGNsYXNzIGZvciBlYXNpZXIgbG9nZ2luZwogKi8KCnZhciBMb2dnZXIgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpOwoKICAgICAgICB0aGlzLnByZWZpeCA9IG5hbWUgKyAiICI7CiAgICAgICAgdGhpcy5jID0gY29uc29sZTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoTG9nZ2VyLCBbewogICAgICAgIGtleTogImQiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkKG1zZykgewogICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcmd1bWVudHNbMF0gPSB0aGlzLnByZWZpeCArIGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgdGhpcy5jLmRlYnVnLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAibCIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGwobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMubG9nLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAiaSIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGkobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMuaW5mby5hcHBseSh0aGlzLmMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogInciLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3KG1zZykgewogICAgICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7CiAgICAgICAgICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcmd1bWVudHNbMF0gPSB0aGlzLnByZWZpeCArIGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgdGhpcy5jLndhcm4uYXBwbHkodGhpcy5jLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICJlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZShtc2cpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjUgPiAxID8gX2xlbjUgLSAxIDogMCksIF9rZXk1ID0gMTsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5NSAtIDFdID0gYXJndW1lbnRzW19rZXk1XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gdGhpcy5wcmVmaXggKyBhcmd1bWVudHNbMF07CiAgICAgICAgICAgIHRoaXMuYy5lcnJvci5hcHBseSh0aGlzLmMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBMb2dnZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IExvZ2dlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX0Rpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5Jyk7Cgp2YXIgX0Rpc2NvdmVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNjb3ZlcnkpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfTG9nZ2VyID0gcmVxdWlyZSgnLi9Mb2dnZXInKTsKCnZhciBfTG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2dlcik7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfcm9vbUpzb24gPSByZXF1aXJlKCcuL3Jvb21Kc29uJyk7Cgp2YXIgX3Jvb21Kc29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvb21Kc29uKTsKCnZhciBfRXZlbnRFbWl0dGVyMiA9IHJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpOwoKdmFyIF9FdmVudEVtaXR0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRFbWl0dGVyMik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLwoKdmFyIHVybCA9ICJodHRwczovL2xvY2FsaG9zdDo4MDAwIjsKdmFyIGwgPSBuZXcgX0xvZ2dlcjIuZGVmYXVsdCgiUk9PTVVJIik7Cgp2YXIgUm9vbVVJUmVwb3J0ZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogICAgX2luaGVyaXRzKFJvb21VSVJlcG9ydGVyLCBfRXZlbnRFbWl0dGVyKTsKCiAgICAvKioKICAgICAqIENyZWF0ZSBhIG5ldyBSb29tVUlSZXBvcnRlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IGh5cGVydHlVUkwgLSBVUkwgb2YgdGhlIGh5cGVydHkKICAgICAqIEBwYXJhbSB7TWluaUJ1c30gYnVzIC0gTWluaUJ1cwogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gLSBjb25maWd1cmF0aW9uIG9mIGh5cGVydHkKICAgICAqLwoKICAgIGZ1bmN0aW9uIFJvb21VSVJlcG9ydGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tVUlSZXBvcnRlcik7CgogICAgICAgIGlmICghaHlwZXJ0eVVSTCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgICAgICBpZiAoIWJ1cykgdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgICAgIGwuZCgiaHlwZXJ0eVVSTDoiLCBoeXBlcnR5VVJMKTsKICAgICAgICBsLmQoImJ1czoiLCBidXMpOwogICAgICAgIGwuZCgiY29uZmlndXJhdGlvbjoiLCBjb25maWd1cmF0aW9uKTsKCiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tVUlSZXBvcnRlcikuY2FsbCh0aGlzKSk7CgogICAgICAgIF90aGlzMi5fZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKCiAgICAgICAgLy8gY3JlYXRlIE9iamVjdCBTY2hlbWEgVVJMCiAgICAgICAgX3RoaXMyLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vJyArIF90aGlzMi5fZG9tYWluICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hcy9Sb29tVUlEYXRhU2NoZW1hJzsKCiAgICAgICAgLy8gbWFrZSBoeXBlcnR5IGRpc2NvdmVyYWJsZQogICAgICAgIHZhciBkaXNjb3ZlcnkgPSBuZXcgX0Rpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLCBidXMpOwoKICAgICAgICAvLyB0ZXN0IGlkZW50aXR5IGdhdGhlcmluZwogICAgICAgIHZhciBpZGVudGl0eU1hbmFnZXIgPSBuZXcgX0lkZW50aXR5TWFuYWdlcjIuZGVmYXVsdChoeXBlcnR5VVJMLCBjb25maWd1cmF0aW9uLnJ1bnRpbWVVUkwsIGJ1cyk7CiAgICAgICAgaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoaHlwZXJ0eVVSTCkudGhlbihmdW5jdGlvbiAodXNlclVSTCkgewogICAgICAgICAgICBsLmQoImdvdCB1c2VyIFVSTDoiLCB1c2VyVVJMKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gbWFrZSBhcmd1bWVudHMgYXZhaWxhYmxlCiAgICAgICAgX3RoaXMyLmh5cGVydHlVUkwgPSBoeXBlcnR5VVJMOwogICAgICAgIF90aGlzMi5idXMgPSBidXM7CiAgICAgICAgX3RoaXMyLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uOwoKICAgICAgICAvLyBtYWtlIGV4YW1wbGUgcm9vbSBhdmFpbGFibGUKICAgICAgICBfdGhpczIucm9vbSA9IF9yb29tSnNvbjIuZGVmYXVsdDsKCiAgICAgICAgLy8gbGlzdCBvZiBkZXZpY2VSZXBvcnRlciBvYmplY3RzCiAgICAgICAgX3RoaXMyLmRldmljZXMgPSBbXTsKCiAgICAgICAgLy8gc3luY2hlcgogICAgICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKICAgICAgICBfdGhpczIuX3N5bmNoZXIgPSBzeW5jaGVyOwoKICAgICAgICAvLyBnZXQgY29udGV4dHMKICAgICAgICB2YXIgZGV2aWNlQ29udGV4dHMgPSBfdGhpczIuZ2V0RGV2aWNlQ29udGV4dHMoInJvb20xIik7CgogICAgICAgIC8vIGNyZWF0ZSBkZXZpY2VSZXBvcnRlciBvYmplY3QgZm9yIGVhY2ggY29udGV4dCBhbmQgYWRkIGl0IHRvIHRoZSAnZGV2aWNlcycgbGlzdAogICAgICAgIGRldmljZUNvbnRleHRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRleHQsIGkpIHsKICAgICAgICAgICAgbC5kKCJidWlsZGluZyBzeW5jaGVyIGJhc2VkIG9uIGNvbnRleHQ6IiwgY29udGV4dCk7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IF90aGlzMjsKICAgICAgICAgICAgc3luY2hlci5jcmVhdGUoX3RoaXMuX29iamVjdERlc2NVUkwsIFtoeXBlcnR5VVJMXSwgY29udGV4dCkudGhlbihmdW5jdGlvbiAoZGV2aWNlUmVwb3J0ZXIpIHsKICAgICAgICAgICAgICAgIGwuZCgnZGV2aWNlIHJlcG9ydGVyIGNyZWF0ZWQ6JywgZGV2aWNlUmVwb3J0ZXIpOwoKICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbaV0gPSBkZXZpY2VSZXBvcnRlcjsKCiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIGZvciBHVUkgKG9ialVybCBpcyB0aGUgb25lIFJvb21VSU9ic2VydmVyIHN1YnNjcmliZXMgdG8pCiAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyKCdvYmpVcmwnLCBkZXZpY2VSZXBvcnRlci5fdXJsKTsKCiAgICAgICAgICAgICAgICAvLyByZWFjdCB0byBhZGRlZCBjaGlsZHJlbgogICAgICAgICAgICAgICAgZGV2aWNlUmVwb3J0ZXIub25BZGRDaGlsZChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICBsLmQoIm9uQWRkQ2hpbGQ6IiwgY2hpbGQpOwogICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZERhdGEgPSBjaGlsZC5kYXRhID8gY2hpbGQuZGF0YSA6IGNoaWxkLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGwuZCgiY2hpbGQgZGF0YToiLCBjaGlsZERhdGEpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXIoJ29uQWRkQ2hpbGQnLCBjaGlsZERhdGEpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gcmVhY3QgdG8gc3Vic2NyaXB0aW9uIHJlcXVlc3RzCiAgICAgICAgICAgICAgICBkZXZpY2VSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBsLmQoJ29uU3Vic2NyaXB0aW9uOicsIGV2ZW50KTsKCiAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXB0IGFuZCB0cmlnZ2VyCiAgICAgICAgICAgICAgICAgICAgZXZlbnQuYWNjZXB0KCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlcignb25TdWJzY3JpYmUnLCBldmVudCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gX3RoaXMyOwogICAgfQoKICAgIC8qKgogICAgICogTW9kaWZ5IHRoZSBJRCBmaWVsZCBvZiBhbGwgZGV2aWNlIHJlcG9ydGVyIG9iamVjdHMgKHRvIHRlc3QgaWYgc3Vic2NyaXB0aW9uIHdvcmtzKQogICAgICovCgoKICAgIF9jcmVhdGVDbGFzcyhSb29tVUlSZXBvcnRlciwgW3sKICAgICAgICBrZXk6ICdtb2RpZnlSb29tJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbW9kaWZ5Um9vbSgpIHsKICAgICAgICAgICAgdmFyIHJTdHJpbmcgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSk7CiAgICAgICAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UsIGkpIHsKICAgICAgICAgICAgICAgIGwuZCgiU2V0dGluZyBJRCB0byAnIiArIHJTdHJpbmcgKyAiJyBvZiBkZXZpY2U6IiwgZGV2aWNlKTsKICAgICAgICAgICAgICAgIGRldmljZS5kYXRhLmlkID0gclN0cmluZzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgZGV2aWNlcyAoSlNPTikgb2YgYSByb29tCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJvb21JZCAtIFJvb20gSUQKICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldmljZXMKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnZ2V0UmF3RGV2aWNlcycsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhd0RldmljZXMocm9vbUlkKSB7CiAgICAgICAgICAgIGwuZCgiZ2V0UmF3RGV2aWNlczoiLCByb29tSWQpOwoKICAgICAgICAgICAgLy92YXIganNvbiA9IHsncm9vbSc6IHJvb21JZH07CiAgICAgICAgICAgIC8vdmFyIHJvb20gPSB0aGlzLm1ha2VSZXF1ZXN0KGpzb24pLmRhdGE7CgogICAgICAgICAgICAvLyBGb3Igbm93IHdlIHVzZSB0aGUgZXhhbXBsZSByb29tCiAgICAgICAgICAgIHZhciByb29tID0gdGhpcy5yb29tLmRhdGE7CiAgICAgICAgICAgIGwuZCgiZ290IHJvb206Iiwgcm9vbSk7CgogICAgICAgICAgICByZXR1cm4gcm9vbS5kZXZpY2VzOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogQ3JlYXRlIGEgRGV2aWNlIENvbnRleHQgYmFzZWQgb24gYSBKU09OIG9iamVjdAogICAgICAgICAqIEBwYXJhbSB7SlNPTn0gZGV2aWNlIC0gcmF3IERldmljZSBpbiBKU09OIGZvcm1hdAogICAgICAgICAqIEByZXR1cm5zIHt7aWQ6ICosIHR5cGU6IHN0cmluZywgdmFsdWVzOiAqW10sIGNoaWxkcmVuOiBzdHJpbmdbXX19IGNvbnRleHQKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnY3JlYXRlRGV2aWNlQ29udGV4dCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZURldmljZUNvbnRleHQoZGV2aWNlKSB7CiAgICAgICAgICAgIHZhciBkZXZpY2VDb250ZXh0ID0gewogICAgICAgICAgICAgICAgImlkIjogZGV2aWNlLl9pZCwKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxJR0hUIiwKICAgICAgICAgICAgICAgICJ2YWx1ZXMiOiBbewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogZGV2aWNlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgInVuaXQiOiAic29tZVVuaXQiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IGRldmljZSwKICAgICAgICAgICAgICAgICAgICAic3VtIjogInNvbWVVbml0IgogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAiY2hpbGRyZW4iOiBbImFjdGlvbnMiLCAiY29udGV4dHMiXQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gZGV2aWNlQ29udGV4dDsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIEdldCBhbGwgZGV2aWNlcyBDb250ZXh0cyBmb3IgYSBnaXZlbiByb29tCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJvb21JZCAtIFJvb20gSUQKICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGNvbnRleHRzCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogJ2dldERldmljZUNvbnRleHRzJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlQ29udGV4dHMocm9vbUlkKSB7CiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICAgICAgdmFyIGRldmljZXMgPSB0aGlzLmdldFJhd0RldmljZXMocm9vbUlkKTsKICAgICAgICAgICAgdmFyIGRldmljZUNvbnRleHRzID0gW107CiAgICAgICAgICAgIGRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlLCBpKSB7CiAgICAgICAgICAgICAgICBkZXZpY2VDb250ZXh0c1tpXSA9IF90aGlzMy5jcmVhdGVEZXZpY2VDb250ZXh0KGRldmljZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZGV2aWNlQ29udGV4dHM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgdGhlIHJhdyBEZXZpY2UgSlNPTiBiYXNlZCBvbiBJRAogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZAogICAgICAgICAqIEByZXR1cm5zIHtKU09OfSBkZXZpY2UKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnZ2V0UmF3RGV2aWNlJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmF3RGV2aWNlKGRldmljZUlkKSB7CiAgICAgICAgICAgIGwuZCgiZ2V0UmF3RGV2aWNlOiIsIGRldmljZUlkKTsKCiAgICAgICAgICAgIC8vdmFyIGpzb24gPSB7J2RldmljZSc6IGRldmljZUlkfTsKICAgICAgICAgICAgLy92YXIgZGV2aWNlID0gdGhpcy5tYWtlUmVxdWVzdChqc29uKS5kYXRhOwoKICAgICAgICAgICAgLy8gRm9yIG5vdyB3ZSB1c2UgdGhlIGRldmljZSBvZiB0aGUgZXhhbXBsZSByb29tCiAgICAgICAgICAgIHZhciBkZXZpY2UgPSB0aGlzLnJvb20uZGF0YS5kZXZpY2VzWzBdOwogICAgICAgICAgICBsLmQoImdvdCBkZXZpY2U6IiwgZGV2aWNlKTsKCiAgICAgICAgICAgIHJldHVybiBkZXZpY2U7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBNYWtlcyBhIFBPU1QgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBwYXlsb2FkIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZQogICAgICAgICAqIEBwYXJhbSB7SlNPTn0ganNvbiAtIEpTT04gcGF5bG9hZCBmb3IgUE9TVCByZXF1ZXN0CiAgICAgICAgICogQHJldHVybnMge0pTT059IHJlc3BvbnNlCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogJ21ha2VSZXF1ZXN0JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVJlcXVlc3QoanNvbikgewogICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgeG1sSHR0cC5vcGVuKCdQT1NUJywgdXJsLCBmYWxzZSk7IC8vIGZhbHNlIGZvciBzeW5jaHJvbm91cyByZXF1ZXN0CiAgICAgICAgICAgICAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkoanNvbikpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdyZXF1ZXN0IGZhaWxlZDogJywgZSk7CiAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IHJlc3BvbnNlOiAnICsgeG1sSHR0cC5yZXNwb25zZVRleHQpOwogICAgICAgICAgICB2YXIgcmVzcCA9IHhtbEh0dHAucmVzcG9uc2VUZXh0OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJlc3AgPSBKU09OLnBhcnNlKHhtbEh0dHAucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnanNvbiBwYXJzaW5nIGZhaWxlZCwgcHJvYmFibHkgbm90IGpzb246JywgcmVzcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbC5kKCJtYWtlUmVxdWVzdCByZXR1cm5zOiIsIHJlc3ApOwoKICAgICAgICAgICAgLy8gVE9ETyBlcnJvciBoYW5kbGluZwogICAgICAgICAgICByZXR1cm4gcmVzcDsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFJvb21VSVJlcG9ydGVyOwp9KF9FdmVudEVtaXR0ZXIzLmRlZmF1bHQpOwoKZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdSb29tVUlSZXBvcnRlcicsCiAgICAgICAgaW5zdGFuY2U6IG5ldyBSb29tVUlSZXBvcnRlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlciI6NywiLi4vdXRpbHMvdXRpbHMiOjgsIi4vTG9nZ2VyIjo0LCIuL3Jvb21Kc29uIjo2LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6M31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKLy8gZXhhbXBsZSBSb29tCnZhciByb29tSnNvbiA9IHsKICAgICJkYXRhIjogewogICAgICAgICJfX3YiOiAxLAogICAgICAgICJfaWQiOiAiNTcyMDhlMTgxYmY0OWNiMjVmNGJjZmQzIiwKICAgICAgICAiaXNCb29rZWQiOiBmYWxzZSwKICAgICAgICAibmFtZSI6ICJyb29tMSIsCiAgICAgICAgIm1lbWJlcnMiOiBbXSwKICAgICAgICAiZGV2aWNlcyI6IFt7CiAgICAgICAgICAgICJfX3YiOiAwLAogICAgICAgICAgICAiX2lkIjogIjU3MjA4ZTE4MWJmNDljYjI1ZjRiY2ZkNiIsCiAgICAgICAgICAgICJuYW1lIjogIm15TGlnaHQiLAogICAgICAgICAgICAicm9vbSI6ICI1NzIwOGUxODFiZjQ5Y2IyNWY0YmNmZDMiLAogICAgICAgICAgICAibGFzdFZhbHVlcyI6IFtdLAogICAgICAgICAgICAicmVnaXN0cmF0aW9uIjogewogICAgICAgICAgICAgICAgInRpbWVzdGFtcCI6ICIyMDE2LTA0LTI3VDEwOjAyOjAwLjkzN1oiLAogICAgICAgICAgICAgICAgInJlZ2lzdGVyZWQiOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfV0KICAgIH0KfTsKCmV4cG9ydHMuZGVmYXVsdCA9IHJvb21Kc29uOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqLwoKdmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRFbWl0dGVyKTsKICB9CgogIF9jcmVhdGVDbGFzcyhFdmVudEVtaXR0ZXIsIFt7CiAgICBrZXk6ICJhZGRFdmVudExpc3RlbmVyIiwKCgogICAgLyoqCiAgICAgKiBhZGRFdmVudExpc3RlbmVyIGxpc3RlbiBmb3IgYW4gZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpc1tldmVudFR5cGVdID0gY2I7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgICAqIEBwYXJhbSAge29iamVjdH0gcGFyYW1zIC0gcGFyYW1ldGVycyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgYWRkRXZlbnRMaXN0ZW5lcgogICAgICovCgogIH0sIHsKICAgIGtleTogInRyaWdnZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLCBwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpc1tldmVudFR5cGVdKSB7CiAgICAgICAgX3RoaXNbZXZlbnRUeXBlXShwYXJhbXMpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRXZlbnRFbWl0dGVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBFdmVudEVtaXR0ZXI7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kaXZpZGVVUkwgPSBkaXZpZGVVUkw7CmV4cG9ydHMuZGVlcENsb25lID0gZGVlcENsb25lOwpleHBvcnRzLmdldENvbmZpZyA9IGdldENvbmZpZzsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7CmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplOwpleHBvcnRzLmdldFRlbXBsYXRlID0gZ2V0VGVtcGxhdGU7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gYW4ganNvbiBmaWxlOwogKiBAcGFyYW0gIHtKU09OT2JqZWN0fSBqc29uRmlsZQogKiBAcmV0dXJuIHtvYmplY3R9CiAqLwpmdW5jdGlvbiBnZXRDb25maWcoSlNPTk9iamVjdCkgewogIGNvbnNvbGUubG9nKCdkZXZlbG9wJyk7CiAgcmV0dXJuIEpTT05PYmplY3RbJ2RldmVsb3AnXTsKfQoKLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtPYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi8KZnVuY3Rpb24gZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKG1lZGlhU3RyZWFtKSB7CiAgICAgIHJlc29sdmUobWVkaWFTdHJlYW0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICByZWplY3QocmVhc29uKTsKICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBzZXJpYWxpemUoKSB7CgogICQuZm4uc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG8gPSB7fTsKICAgIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpOwogICAgJC5lYWNoKGEsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG9bdGhpcy5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFvW3RoaXMubmFtZV0ucHVzaCkgewogICAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07CiAgICAgICAgfQoKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlIHx8ICcnOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gbzsKICB9OwoKICAkLmZuLnNlcmlhbGl6ZU9iamVjdEFycmF5ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG8gPSB7fTsKICAgIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpOwogICAgJC5lYWNoKGEsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG9bdGhpcy5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFvW3RoaXMubmFtZV0ucHVzaCkgewogICAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07CiAgICAgICAgfQoKICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXSkgb1t0aGlzLm5hbWVdID0gW107CiAgICAgICAgb1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZSB8fCAnJyk7CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvOwogIH07Cn0KCmZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhdGgsIHNjcmlwdCkgewoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgIGlmIChIYW5kbGViYXJzLnRlbXBsYXRlcyA9PT0gdW5kZWZpbmVkIHx8IEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXMgPSB7fTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pOwogICAgfQoKICAgIHZhciB0ZW1wbGF0ZUZpbGUgPSAkLmFqYXgoewogICAgICB1cmw6IHBhdGggKyAnLmhicycsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkgewogICAgICAgIEhhbmRsZWJhcnMudGVtcGxhdGVzW25hbWVdID0gSGFuZGxlYmFycy5jb21waWxlKGRhdGEpOwogICAgICB9LAoKICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChyZWFzb24pIHsKICAgICAgICByZXR1cm4gcmVhc29uOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc2NyaXB0RmlsZSA9ICQuZ2V0U2NyaXB0KHNjcmlwdCk7CgogICAgdmFyIHJlcXVlc3RzID0gW107CiAgICBpZiAocGF0aCkgcmVxdWVzdHMucHVzaCh0ZW1wbGF0ZUZpbGUpOwogICAgaWYgKHNjcmlwdCkgcmVxdWVzdHMucHVzaChzY3JpcHRGaWxlKTsKCiAgICBQcm9taXNlLmFsbChyZXF1ZXN0cykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIHJlc29sdmUoSGFuZGxlYmFycy50ZW1wbGF0ZXNbbmFtZV0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICByZWplY3QocmVhc29uKTsKICAgIH0pOwogIH0pOwp9Cgp9LHt9XX0se30sWzVdKSg1KQp9KTs=",
      "sourceCodeClassname": "RoomUIReporter",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10007,
    "version": "0.1",
    "description": "Description of RoomUIReporter",
    "objectName": "RoomUIReporter",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  },
  "FakeLocationObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDg6MDUgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGMoZSl7dmFyIHQ9YXJndW1lbnRzLHM9Y1tvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxhPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYS5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDphfX0sdGhpcyksYX19O2Zvcih2YXIgYSBpbiBzKXNbYV1bb109dC5wcm90b3R5cGVbYV0sdC5wcm90b3R5cGVbYV09c1thXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE3fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyMn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjIzfV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI0fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjV9XSwxMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHM9dCxhPXI7bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYz1uKGkscyk7aWYodm9pZCAwIT09Yyl7aWYoInZhbHVlImluIGMpcmV0dXJuIGMudmFsdWU7dmFyIHU9Yy5nZXQ7aWYodm9pZCAwPT09dSlyZXR1cm47cmV0dXJuIHUuY2FsbChhKX12YXIgbD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSk7aWYobnVsbD09PWwpcmV0dXJuO2U9bCx0PXMscj1hLG89ITAsYz1sPXZvaWQgMH19LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9bih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKG8/byhlLHQpOmUuX19wcm90b19fPXQpfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OH1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCxpWyJkZWZhdWx0Il0pKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0seyIuLi9oZWxwZXJzL3R5cGVvZiI6MTZ9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY29uc3RydWN0b3I9PT1uPyJzeW1ib2wiOnR5cGVvZiBlfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCI6MTB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREZXNjKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjgxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo4Mn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo4M31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6ODR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo4NiwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo4NywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo4OX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjg4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0Ijo0OX1dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MzAsIi4vJC53a3MiOjc4fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjM4fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRLZXlzKGUpLHI9bi5nZXRTeW1ib2xzO2lmKHIpZm9yKHZhciBvLGk9cihlKSxzPW4uaXNFbnVtLGE9MDtpLmxlbmd0aD5hOylzLmNhbGwoZSxvPWlbYSsrXSkmJnQucHVzaChvKTtyZXR1cm4gdH19LHsiLi8kIjo1Nn1dLDM3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLHUsbCxmPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyxiPWUmYS5QLGg9ZSZhLkIsdj1lJmEuVyx5PWQ/bzpvW3RdfHwob1t0XT17fSksXz1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGMgaW4gcil1PSFmJiZfJiZjIGluIF8sdSYmYyBpbiB5fHwobD11P19bY106cltjXSx5W2NdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106aCYmdT9pKGwsbik6diYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShsKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9pKEZ1bmN0aW9uLmNhbGwsbCk6bCxiJiYoKHlbc118fCh5W3NdPXt9KSlbY109bCkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLHQuZXhwb3J0cz1hfSx7Ii4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5nbG9iYWwiOjQxfV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYT1lKCIuLyQudG8tbGVuZ3RoIiksYz1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgbCxmLGQscD1jKGUpLGI9bihyLHUsdD8yOjEpLGg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihsPWEoZS5sZW5ndGgpO2w+aDtoKyspdD9iKHMoZj1lW2hdKVswXSxmWzFdKTpiKGVbaF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEoZj1kLm5leHQoKSkuZG9uZTspbyhkLGIsZi52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtYXJyYXktaXRlciI6NDcsIi4vJC5pdGVyLWNhbGwiOjUwLCIuLyQudG8tbGVuZ3RoIjo3NSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjc5fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpLG89ZSgiLi8kIikuZ2V0TmFtZXMsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6NTYsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MX1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjozMH1dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuLyQuY29mIjozMH1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6Mjh9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6NTYsIi4vJC5oaWRlIjo0MywiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYT1lKCIuLyQuaGFzIiksYz1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxsPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxiPSJAQGl0ZXJhdG9yIixoPSJrZXlzIix2PSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLF8sZyxtLGope3Uocix0LF8pO3ZhciAkLHcsTz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIseD1nPT12LEM9ITEsRT1lLnByb3RvdHlwZSxTPUVbZF18fEVbYl18fGcmJkVbZ10sVD1TfHxPKGcpO2lmKFMpe3ZhciBSPWYoVC5jYWxsKG5ldyBlKSk7bChSLGssITApLCFuJiZhKEUsYikmJnMoUixkLHkpLHgmJlMubmFtZSE9PXYmJihDPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIWp8fCFwJiYhQyYmRVtkXXx8cyhFLGQsVCksY1t0XT1ULGNba109eSxnKWlmKCQ9e3ZhbHVlczp4P1Q6Tyh2KSxrZXlzOm0/VDpPKGgpLGVudHJpZXM6eD9PKCJlbnRyaWVzIik6VH0sailmb3IodyBpbiAkKXcgaW4gRXx8aShFLHcsJFt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEMpLHQsJCk7cmV0dXJuICR9fSx7Ii4vJCI6NTYsIi4vJC5leHBvcnQiOjM3LCIuLyQuaGFzIjo0MiwiLi8kLmhpZGUiOjQzLCIuLyQuaXRlci1jcmVhdGUiOjUxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLmxpYnJhcnkiOjU4LCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuLyQud2tzIjo3OH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUpLHM9bi5nZXRLZXlzKGkpLGE9cy5sZW5ndGgsYz0wO2E+YzspaWYoaVtyPXNbYysrXV09PT10KXJldHVybiByfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLnRhc2siKS5zZXQsYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxsPXMuUHJvbWlzZSxmPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGYmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGMpe3ZhciBwPTEsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGMoZCkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe2IuZGF0YT1wPS1wfX1lbHNlIGk9bCYmbC5yZXNvbHZlP2Z1bmN0aW9uKCl7bC5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXthLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpmJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjozMCwiLi8kLmdsb2JhbCI6NDEsIi4vJC50YXNrIjo3Mn1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjozMSwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6Mzh9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6NDN9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDY2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjo1NiwiLi8kLmNvcmUiOjMxLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQud2tzIjo3OH1dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjo1NiwiLi8kLmhhcyI6NDIsIi4vJC53a3MiOjc4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6NDF9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQud2tzIjo3OH1dLDcwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksYz1uKHIpLHU9YS5sZW5ndGg7cmV0dXJuIDA+Y3x8Yz49dT9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksNTUyOTY+aXx8aT41NjMxOXx8YysxPT09dXx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQoYyk6aTplP2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLnRvLWludGVnZXIiOjczfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYT1lKCIuLyQuaW52b2tlIiksYz1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxsPWUoIi4vJC5nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsaD0wLHY9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9dltlXTtkZWxldGUgdltlXSx0KCl9fSxnPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gdlsrK2hdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGgpLGh9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKF8sZSwxKSl9OmI/KG89bmV3IGIsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWcsbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZywhMSkpOm49eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksXy5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKF8sZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MzAsIi4vJC5jdHgiOjMyLCIuLyQuZG9tLWNyZWF0ZSI6MzUsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaHRtbCI6NDQsIi4vJC5pbnZva2UiOjQ1fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLmlvYmplY3QiOjQ2fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo3M31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLnNoYXJlZCI6NjgsIi4vJC51aWQiOjc3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDgwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5pdGVyLXN0ZXAiOjU0LCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vJC5zZXQtcHJvdG8iKS5zZXR9KX0seyIuLyQuZXhwb3J0IjozNywiLi8kLnNldC1wcm90byI6NjV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDg2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxsPWUoIi4vJC5pcy1vYmplY3QiKSxmPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLGI9ZSgiLi8kLmZvci1vZiIpLGg9ZSgiLi8kLnNldC1wcm90byIpLnNldCx2PWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxfPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksZz1lKCIuLyQubWljcm90YXNrIiksbT0iUHJvbWlzZSIsaj1zLnByb2Nlc3MsJD0icHJvY2VzcyI9PWMoaiksdz1zW21dLE89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gaChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmTygpLGgodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnYoZSx0KX0sQz1mdW5jdGlvbihlKXt2YXIgdD1mKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBsKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO2coZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxhPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGE9dC5yZXNvbHZlLGM9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2MoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLGEsYyk6YShyKSk6YyhuKX1jYXRjaCh1KXtjKHUpfX07ci5sZW5ndGg+aTspYShyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO00obykmJigkP2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxNPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFNKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFIodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2coZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFIociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxtKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYShOLHQsMSksYShELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoXyh0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlIobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxtKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShtKSxuPWUoIi4vJC5jb3JlIilbbV0sdSh1LlMrdS5GKiFrLG0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxPKCEwKSksbSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLG0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGE9VChmdW5jdGlvbigpe2IoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYT1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxhW29dPWUsLS1yfHxuKGEpKX0saSl9KTpuKGEpfSk7cmV0dXJuIGEmJmkoYS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89VChmdW5jdGlvbigpe2IoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjU2LCIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5leHBvcnQiOjM3LCIuLyQuZm9yLW9mIjozOSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5LCIuLyQuaXRlci1kZXRlY3QiOjUzLCIuLyQubGlicmFyeSI6NTgsIi4vJC5taWNyb3Rhc2siOjU5LCIuLyQucmVkZWZpbmUtYWxsIjo2MiwiLi8kLnNhbWUtdmFsdWUiOjY0LCIuLyQuc2V0LXByb3RvIjo2NSwiLi8kLnNldC1zcGVjaWVzIjo2NiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjY5LCIuLyQuc3RyaWN0LW5ldyI6NzAsIi4vJC53a3MiOjc4fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5zdHJpbmctYXQiOjcxfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQuZ2xvYmFsIiksaT1lKCIuLyQuaGFzIikscz1lKCIuLyQuZGVzY3JpcHRvcnMiKSxhPWUoIi4vJC5leHBvcnQiKSxjPWUoIi4vJC5yZWRlZmluZSIpLHU9ZSgiLi8kLmZhaWxzIiksbD1lKCIuLyQuc2hhcmVkIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vJC51aWQiKSxwPWUoIi4vJC53a3MiKSxiPWUoIi4vJC5rZXlvZiIpLGg9ZSgiLi8kLmdldC1uYW1lcyIpLHY9ZSgiLi8kLmVudW0ta2V5cyIpLHk9ZSgiLi8kLmlzLWFycmF5IiksXz1lKCIuLyQuYW4tb2JqZWN0IiksZz1lKCIuLyQudG8taW9iamVjdCIpLG09ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxqPW4uZ2V0RGVzYywkPW4uc2V0RGVzYyx3PW4uY3JlYXRlLE89aC5nZXQsaz1vLlN5bWJvbCx4PW8uSlNPTixDPXgmJnguc3RyaW5naWZ5LEU9ITEsUz1wKCJfaGlkZGVuIiksVD1uLmlzRW51bSxSPWwoInN5bWJvbC1yZWdpc3RyeSIpLE09bCgic3ltYm9scyIpLEQ9ImZ1bmN0aW9uIj09dHlwZW9mIGssTj1PYmplY3QucHJvdG90eXBlLFA9cyYmdShmdW5jdGlvbigpe3JldHVybiA3IT13KCQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49aihOLHQpO24mJmRlbGV0ZSBOW3RdLCQoZSx0LHIpLG4mJmUhPT1OJiYkKE4sdCxuKX06JCxBPWZ1bmN0aW9uKGUpe3ZhciB0PU1bZV09dyhrLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZFJiZQKE4sZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsUykmJmkodGhpc1tTXSxlKSYmKHRoaXNbU11bZV09ITEpLFAodGhpcyxlLG0oMSx0KSl9fSksdH0sTD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZpKE0sdCk/KHIuZW51bWVyYWJsZT8oaShlLFMpJiZlW1NdW3RdJiYoZVtTXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6bSgwLCExKX0pKTooaShlLFMpfHwkKGUsUyxtKDEse30pKSxlW1NdW3RdPSEwKSxQKGUsdCxyKSk6JChlLHQscil9LEk9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1nKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUYoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sVj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6SSh3KGUpLHQpfSxVPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGUpO3JldHVybiB0fHwhaSh0aGlzLGUpfHwhaShNLGUpfHxpKHRoaXMsUykmJnRoaXNbU11bZV0/dDohMH0sej1mdW5jdGlvbihlLHQpe3ZhciByPWooZT1nKGUpLHQpO3JldHVybiFyfHwhaShNLHQpfHxpKGUsUykmJmVbU11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LEg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pfHx0PT1TfHxuLnB1c2godCk7cmV0dXJuIG59LEI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pJiZuLnB1c2goTVt0XSk7cmV0dXJuIG59LEo9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUwoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MSxpPWFyZ3VtZW50cztpLmxlbmd0aD5vOyluLnB1c2goaVtvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmeSh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksTCh0KT92b2lkIDA6dH0pLG5bMV09dCxDLmFwcGx5KHgsbil9fSxXPXUoZnVuY3Rpb24oKXt2YXIgZT1rKCk7cmV0dXJuIltudWxsXSIhPUMoW2VdKXx8Int9IiE9Qyh7YTplfSl8fCJ7fSIhPUMoT2JqZWN0KGUpKX0pO0R8fChrPWZ1bmN0aW9uKCl7aWYoTCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBBKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhrLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Yga30sbi5jcmVhdGU9VixuLmlzRW51bT1VLG4uZ2V0RGVzYz16LG4uc2V0RGVzYz1GLG4uc2V0RGVzY3M9SSxuLmdldE5hbWVzPWguZ2V0PUgsbi5nZXRTeW1ib2xzPUIscyYmIWUoIi4vJC5saWJyYXJ5IikmJmMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFUsITApKTt2YXIgWT17ImZvciI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoUixlKz0iIik/UltlXTpSW2VdPWsoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYihSLGUpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtFPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtFPSExfX07bi5lYWNoLmNhbGwoImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7WVtlXT1EP3Q6QSh0KX0pLEU9ITAsYShhLkcrYS5XLHtTeW1ib2w6a30pLGEoYS5TLCJTeW1ib2wiLFkpLGEoYS5TK2EuRiohRCwiT2JqZWN0Iix7Y3JlYXRlOlYsZGVmaW5lUHJvcGVydHk6RixkZWZpbmVQcm9wZXJ0aWVzOkksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczpILGdldE93blByb3BlcnR5U3ltYm9sczpCfSkseCYmYShhLlMrYS5GKighRHx8VyksIkpTT04iLHtzdHJpbmdpZnk6Sn0pLGYoaywiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihvLkpTT04sIkpTT04iLCEwKX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmVudW0ta2V5cyI6MzYsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4LCIuLyQuZ2V0LW5hbWVzIjo0MCwiLi8kLmdsb2JhbCI6NDEsIi4vJC5oYXMiOjQyLCIuLyQuaXMtYXJyYXkiOjQ4LCIuLyQua2V5b2YiOjU3LCIuLyQubGlicmFyeSI6NTgsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNoYXJlZCI6NjgsIi4vJC50by1pb2JqZWN0Ijo3NCwiLi8kLnVpZCI6NzcsIi4vJC53a3MiOjc4fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjgwfV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWEoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYz1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YykmJihyPWEoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGEsYz17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGE9cy5uYW1lLGkmJmlbYV09PT1lfHwocy52YWx1ZSE9PW9bYV0mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksY1thXT0hMCk7Zm9yKGEgaW4gbyljW2FdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV19KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBhKGUscixvLGEsYyl7dmFyIGw9ZS5sZW5ndGgtMTtjPS1+KChsLWMpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWFbcC5pXSxzLmImJmMmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxjLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLGgsdix5PXIuY2hpbGROb2RlcyxfPW8uYixnPXkubGVuZ3RoLG09Xz9fLmxlbmd0aDowLGo9MCwkPTAsdz0wO2c+JHx8bT53OyloPXlbJF0sdj0oYj1fW3ddKSYmYi5qLGg9PT12PyhzLmEmJmIuYSYmaSh0LGgsYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZoLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpofSkpLHAmJmEocCxyLHksXyxqKSxzLmUmJihoLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KGgsYiksJCsrLHcrKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksaCYmKGRbYj1jKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKF8saCx3LCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOmgubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmgucHJldmlvdXNTaWJsaW5nfSkpLGorKyk6cC5wdXNoKHtoOiQsaTpifSkpLCQrKyksdiYmdiE9PXlbJF0mJihkW2I9Yyh2KV18fChkW2JdPSEwLC0xPT09KGI9Zih5LHYsJCkpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOlt2XSxuZXh0U2libGluZzpfW3crMV0scHJldmlvdXNTaWJsaW5nOl9bdy0xXX0pKSxqLS0pOnAucHVzaCh7aDpiLGk6d30pKSx3KyspKTtwJiZhKHAscix5LF8sail9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBjKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7CnJldHVybiBlW3RdPSEwLGV9KSksaS5wdXNoKHttOmUsbDpvKGUsbil9KSx0aGlzLmZ8fHIodGhpcyl9LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmwoZSk7cmV0dXJuIGV9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLmc9W10sY2xlYXJUaW1lb3V0KHRoaXMuZiksdGhpcy5mPW51bGx9fTt2YXIgZD0xO3JldHVybiB0fSh2b2lkIDApfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxhPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYz10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFtjKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1jKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWMoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChjKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YyhyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYSh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KHYobixlKSxtKGUsbix0LHIpKToobj1oKGUpLG0oZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LGg9ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxhPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjpnKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTthPGkubGVuZ3RoOyluW2FdPWQodCxpW2FdKSxzW2FdPXRbaVthKytdXTtlbHNlIGZvcig7YTxpLmxlbmd0aDspc1thXT10W2lbYSsrXV07cmV0dXJuIG8uc2V0KHQscikscn0sdj1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGE9dC52YWx1ZXNbcl0sYz10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYT09PXM/MD09PWEmJjEvYSE9PTEvczphPT09YXx8cz09PXMpJiYoaihlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQudmFsdWVzW3JdPXMpLCFjLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1jLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1jLmVudW1lcmFibGUmJm8uZ2V0PT09Yy5nZXQmJm8uc2V0PT09Yy5zZXR8fChqKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGooZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGE9ci5sZW5ndGg7biYmYS0tOyludWxsIT09clthXSYmKHM9ZChlLHJbYV0pLG4tLSxzP3QoZSxvLGEsaSxzKTooaihlLG8se25hbWU6clthXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2FdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGEsMSksby52YWx1ZXMuc3BsaWNlKGEsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYSwxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoaihlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYSx1LHAsYixoLHYseSxfPW4udmFsdWVzLGc9bi5kZXNjcmlwdG9ycyxtPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYT1zLmxlbmd0aCx1PWwobyksZyl7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSx5PWQobyxiKSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKG9bYl0pLGcucHVzaCh5KSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpLHkpKTtyKG8scyxhLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsaihvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLGg9b1tiXSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKGgpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkpKTtyKG8scyxhLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7bTxzLmxlbmd0aDttKyspYj1zW21dLHQobyxuLG0saSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKHY9ZihvKSx2IT09bi5wcm90byYmKGoobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89dikpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaCh2KSxpLmZvckVhY2goXykscCh5KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtqKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGE9by5nZXQoZSksYz1hcmd1bWVudHNbMl0sdT1jPT09bj9yKCk6ci5jYWxsKGMpO2lmKGEmJnYoYSxlLHQpLGEmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7aihlLGEscyl9fX19LG09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGo9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1jKG8sbikpJiZjKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7XyhuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDpnKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxfKHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxhPW4ocyksYz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGMpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9YVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vc3luY2hlci9TeW5jaGVyIjo5OSwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjo5MCwib2JqZWN0Lm9ic2VydmUiOjkxfV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGg9bihiKSx2PWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9dCxhLl91cmw9cixhLl9zY2hlbWE9bixhLl9zdGF0dXM9byxhLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYS5fY2hpbGRyZW5zPXMsYS5fdmVyc2lvbj0wLGEuX2NoaWxkSWQ9MCxhLl9jaGlsZHJlbk9iamVjdHM9e30sYS5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYS5fb3duZXI9dC5fb3duZXIsYS5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxhWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBhPW5ldyBoWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGhbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsdi5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGE9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYSwwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBjPWkub2JqLHU9aS5sYXN0O2Muc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsIi4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYyksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9wYXJlbnQ9dCxhLl9jaGlsZElkPXIsYS5fb3duZXI9byxhLl9tc2dJZD1zLGEuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxhLl9idXM9dC5fYnVzLGEuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaj1uKG0pLCQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYyxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGMpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBqWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTokLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9JC5BTlk6KG4udHlwZT0kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT0kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT13LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0Ijo5MywiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGM9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1jO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGN9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfU3luY2hlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpOwoKdmFyIEZha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eSA9IHsKICAgIHJlY2VpdmVkUG9zaXRpb246IGZhbHNlLAoKICAgIHBvc2l0aW9uOiB1bmRlZmluZWQKfTsKCnZhciBGYWtlTG9hY2F0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIEZha2VMb2FjYXRpb25GYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgdmFyIG9iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9sb2NhbGhvc3QvLndlbGwta25vd24vZGF0YXNjaGVtYXMvTG9jYXRpb25EYXRhU2NoZW1hJzsKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGV2ZW50LmFjaygpOwogICAgICAgIHN5bmNoZXIuc3Vic2NyaWJlKG9iamVjdERlc2NVUkwsIGV2ZW50LnVybCkudGhlbihmdW5jdGlvbiAob2JzZXJ2ZXIpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIub25DaGFuZ2UoJyonLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIEZha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eS5yZWNlaXZlZFBvc2l0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIEZha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eS5wb3NpdGlvbiA9IGV2ZW50LmRhdGEuZ2VvcG9zaXRpb247CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSk7CgogICAgcmV0dXJuIEZha2VMb2NhdGlvbk9ic2VydmVySHlwZXJ0eTsKfTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnRmFrZUxvY2F0aW9uT2JzZXJ2ZXInLAogICAgICAgIGluc3RhbmNlOiBGYWtlTG9hY2F0aW9uRmFjdG9yeShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7InNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MX1dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "FakeLocationObserver",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10008,
    "version": "0.1",
    "description": "Description of FakeLocationObserver",
    "objectName": "FakeLocationObserver",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  },
  "Location": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDg6MDUgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGMoZSl7dmFyIHQ9YXJndW1lbnRzLHM9Y1tvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxhPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYS5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDphfX0sdGhpcyksYX19O2Zvcih2YXIgYSBpbiBzKXNbYV1bb109dC5wcm90b3R5cGVbYV0sdC5wcm90b3R5cGVbYV09c1thXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE3fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyMn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjIzfV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI0fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjV9XSwxMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHM9dCxhPXI7bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYz1uKGkscyk7aWYodm9pZCAwIT09Yyl7aWYoInZhbHVlImluIGMpcmV0dXJuIGMudmFsdWU7dmFyIHU9Yy5nZXQ7aWYodm9pZCAwPT09dSlyZXR1cm47cmV0dXJuIHUuY2FsbChhKX12YXIgbD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSk7aWYobnVsbD09PWwpcmV0dXJuO2U9bCx0PXMscj1hLG89ITAsYz1sPXZvaWQgMH19LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9bih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKG8/byhlLHQpOmUuX19wcm90b19fPXQpfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OH1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCxpWyJkZWZhdWx0Il0pKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0seyIuLi9oZWxwZXJzL3R5cGVvZiI6MTZ9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY29uc3RydWN0b3I9PT1uPyJzeW1ib2wiOnR5cGVvZiBlfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCI6MTB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREZXNjKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjgxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo4Mn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo4M31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6ODR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo4NiwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo4NywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo4OX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjg4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0Ijo0OX1dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MzAsIi4vJC53a3MiOjc4fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjM4fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRLZXlzKGUpLHI9bi5nZXRTeW1ib2xzO2lmKHIpZm9yKHZhciBvLGk9cihlKSxzPW4uaXNFbnVtLGE9MDtpLmxlbmd0aD5hOylzLmNhbGwoZSxvPWlbYSsrXSkmJnQucHVzaChvKTtyZXR1cm4gdH19LHsiLi8kIjo1Nn1dLDM3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLHUsbCxmPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyxiPWUmYS5QLGg9ZSZhLkIsdj1lJmEuVyx5PWQ/bzpvW3RdfHwob1t0XT17fSksXz1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGMgaW4gcil1PSFmJiZfJiZjIGluIF8sdSYmYyBpbiB5fHwobD11P19bY106cltjXSx5W2NdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106aCYmdT9pKGwsbik6diYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShsKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9pKEZ1bmN0aW9uLmNhbGwsbCk6bCxiJiYoKHlbc118fCh5W3NdPXt9KSlbY109bCkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLHQuZXhwb3J0cz1hfSx7Ii4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5nbG9iYWwiOjQxfV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYT1lKCIuLyQudG8tbGVuZ3RoIiksYz1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgbCxmLGQscD1jKGUpLGI9bihyLHUsdD8yOjEpLGg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihsPWEoZS5sZW5ndGgpO2w+aDtoKyspdD9iKHMoZj1lW2hdKVswXSxmWzFdKTpiKGVbaF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEoZj1kLm5leHQoKSkuZG9uZTspbyhkLGIsZi52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtYXJyYXktaXRlciI6NDcsIi4vJC5pdGVyLWNhbGwiOjUwLCIuLyQudG8tbGVuZ3RoIjo3NSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjc5fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpLG89ZSgiLi8kIikuZ2V0TmFtZXMsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6NTYsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MX1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjozMH1dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuLyQuY29mIjozMH1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6Mjh9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6NTYsIi4vJC5oaWRlIjo0MywiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYT1lKCIuLyQuaGFzIiksYz1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxsPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxiPSJAQGl0ZXJhdG9yIixoPSJrZXlzIix2PSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLF8sZyxtLGope3Uocix0LF8pO3ZhciAkLHcsTz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIseD1nPT12LEM9ITEsRT1lLnByb3RvdHlwZSxTPUVbZF18fEVbYl18fGcmJkVbZ10sVD1TfHxPKGcpO2lmKFMpe3ZhciBSPWYoVC5jYWxsKG5ldyBlKSk7bChSLGssITApLCFuJiZhKEUsYikmJnMoUixkLHkpLHgmJlMubmFtZSE9PXYmJihDPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIWp8fCFwJiYhQyYmRVtkXXx8cyhFLGQsVCksY1t0XT1ULGNba109eSxnKWlmKCQ9e3ZhbHVlczp4P1Q6Tyh2KSxrZXlzOm0/VDpPKGgpLGVudHJpZXM6eD9PKCJlbnRyaWVzIik6VH0sailmb3IodyBpbiAkKXcgaW4gRXx8aShFLHcsJFt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEMpLHQsJCk7cmV0dXJuICR9fSx7Ii4vJCI6NTYsIi4vJC5leHBvcnQiOjM3LCIuLyQuaGFzIjo0MiwiLi8kLmhpZGUiOjQzLCIuLyQuaXRlci1jcmVhdGUiOjUxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLmxpYnJhcnkiOjU4LCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuLyQud2tzIjo3OH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUpLHM9bi5nZXRLZXlzKGkpLGE9cy5sZW5ndGgsYz0wO2E+YzspaWYoaVtyPXNbYysrXV09PT10KXJldHVybiByfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLnRhc2siKS5zZXQsYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxsPXMuUHJvbWlzZSxmPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGYmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGMpe3ZhciBwPTEsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGMoZCkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe2IuZGF0YT1wPS1wfX1lbHNlIGk9bCYmbC5yZXNvbHZlP2Z1bmN0aW9uKCl7bC5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXthLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpmJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjozMCwiLi8kLmdsb2JhbCI6NDEsIi4vJC50YXNrIjo3Mn1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjozMSwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6Mzh9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6NDN9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDY2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjo1NiwiLi8kLmNvcmUiOjMxLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQud2tzIjo3OH1dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjo1NiwiLi8kLmhhcyI6NDIsIi4vJC53a3MiOjc4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6NDF9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQud2tzIjo3OH1dLDcwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksYz1uKHIpLHU9YS5sZW5ndGg7cmV0dXJuIDA+Y3x8Yz49dT9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksNTUyOTY+aXx8aT41NjMxOXx8YysxPT09dXx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQoYyk6aTplP2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLnRvLWludGVnZXIiOjczfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYT1lKCIuLyQuaW52b2tlIiksYz1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxsPWUoIi4vJC5nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsaD0wLHY9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9dltlXTtkZWxldGUgdltlXSx0KCl9fSxnPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gdlsrK2hdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGgpLGh9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKF8sZSwxKSl9OmI/KG89bmV3IGIsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWcsbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZywhMSkpOm49eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksXy5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKF8sZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MzAsIi4vJC5jdHgiOjMyLCIuLyQuZG9tLWNyZWF0ZSI6MzUsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaHRtbCI6NDQsIi4vJC5pbnZva2UiOjQ1fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLmlvYmplY3QiOjQ2fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo3M31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLnNoYXJlZCI6NjgsIi4vJC51aWQiOjc3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDgwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5pdGVyLXN0ZXAiOjU0LCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vJC5zZXQtcHJvdG8iKS5zZXR9KX0seyIuLyQuZXhwb3J0IjozNywiLi8kLnNldC1wcm90byI6NjV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDg2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxsPWUoIi4vJC5pcy1vYmplY3QiKSxmPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLGI9ZSgiLi8kLmZvci1vZiIpLGg9ZSgiLi8kLnNldC1wcm90byIpLnNldCx2PWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxfPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksZz1lKCIuLyQubWljcm90YXNrIiksbT0iUHJvbWlzZSIsaj1zLnByb2Nlc3MsJD0icHJvY2VzcyI9PWMoaiksdz1zW21dLE89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gaChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmTygpLGgodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnYoZSx0KX0sQz1mdW5jdGlvbihlKXt2YXIgdD1mKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBsKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO2coZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxhPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGE9dC5yZXNvbHZlLGM9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2MoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLGEsYyk6YShyKSk6YyhuKX1jYXRjaCh1KXtjKHUpfX07ci5sZW5ndGg+aTspYShyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO00obykmJigkP2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxNPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFNKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFIodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2coZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFIociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxtKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYShOLHQsMSksYShELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoXyh0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlIobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxtKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShtKSxuPWUoIi4vJC5jb3JlIilbbV0sdSh1LlMrdS5GKiFrLG0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxPKCEwKSksbSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLG0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGE9VChmdW5jdGlvbigpe2IoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYT1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxhW29dPWUsLS1yfHxuKGEpKX0saSl9KTpuKGEpfSk7cmV0dXJuIGEmJmkoYS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89VChmdW5jdGlvbigpe2IoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjU2LCIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5leHBvcnQiOjM3LCIuLyQuZm9yLW9mIjozOSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5LCIuLyQuaXRlci1kZXRlY3QiOjUzLCIuLyQubGlicmFyeSI6NTgsIi4vJC5taWNyb3Rhc2siOjU5LCIuLyQucmVkZWZpbmUtYWxsIjo2MiwiLi8kLnNhbWUtdmFsdWUiOjY0LCIuLyQuc2V0LXByb3RvIjo2NSwiLi8kLnNldC1zcGVjaWVzIjo2NiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjY5LCIuLyQuc3RyaWN0LW5ldyI6NzAsIi4vJC53a3MiOjc4fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5zdHJpbmctYXQiOjcxfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQuZ2xvYmFsIiksaT1lKCIuLyQuaGFzIikscz1lKCIuLyQuZGVzY3JpcHRvcnMiKSxhPWUoIi4vJC5leHBvcnQiKSxjPWUoIi4vJC5yZWRlZmluZSIpLHU9ZSgiLi8kLmZhaWxzIiksbD1lKCIuLyQuc2hhcmVkIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vJC51aWQiKSxwPWUoIi4vJC53a3MiKSxiPWUoIi4vJC5rZXlvZiIpLGg9ZSgiLi8kLmdldC1uYW1lcyIpLHY9ZSgiLi8kLmVudW0ta2V5cyIpLHk9ZSgiLi8kLmlzLWFycmF5IiksXz1lKCIuLyQuYW4tb2JqZWN0IiksZz1lKCIuLyQudG8taW9iamVjdCIpLG09ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxqPW4uZ2V0RGVzYywkPW4uc2V0RGVzYyx3PW4uY3JlYXRlLE89aC5nZXQsaz1vLlN5bWJvbCx4PW8uSlNPTixDPXgmJnguc3RyaW5naWZ5LEU9ITEsUz1wKCJfaGlkZGVuIiksVD1uLmlzRW51bSxSPWwoInN5bWJvbC1yZWdpc3RyeSIpLE09bCgic3ltYm9scyIpLEQ9ImZ1bmN0aW9uIj09dHlwZW9mIGssTj1PYmplY3QucHJvdG90eXBlLFA9cyYmdShmdW5jdGlvbigpe3JldHVybiA3IT13KCQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49aihOLHQpO24mJmRlbGV0ZSBOW3RdLCQoZSx0LHIpLG4mJmUhPT1OJiYkKE4sdCxuKX06JCxBPWZ1bmN0aW9uKGUpe3ZhciB0PU1bZV09dyhrLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZFJiZQKE4sZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsUykmJmkodGhpc1tTXSxlKSYmKHRoaXNbU11bZV09ITEpLFAodGhpcyxlLG0oMSx0KSl9fSksdH0sTD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZpKE0sdCk/KHIuZW51bWVyYWJsZT8oaShlLFMpJiZlW1NdW3RdJiYoZVtTXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6bSgwLCExKX0pKTooaShlLFMpfHwkKGUsUyxtKDEse30pKSxlW1NdW3RdPSEwKSxQKGUsdCxyKSk6JChlLHQscil9LEk9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1nKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUYoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sVj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6SSh3KGUpLHQpfSxVPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGUpO3JldHVybiB0fHwhaSh0aGlzLGUpfHwhaShNLGUpfHxpKHRoaXMsUykmJnRoaXNbU11bZV0/dDohMH0sej1mdW5jdGlvbihlLHQpe3ZhciByPWooZT1nKGUpLHQpO3JldHVybiFyfHwhaShNLHQpfHxpKGUsUykmJmVbU11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LEg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pfHx0PT1TfHxuLnB1c2godCk7cmV0dXJuIG59LEI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pJiZuLnB1c2goTVt0XSk7cmV0dXJuIG59LEo9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUwoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MSxpPWFyZ3VtZW50cztpLmxlbmd0aD5vOyluLnB1c2goaVtvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmeSh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksTCh0KT92b2lkIDA6dH0pLG5bMV09dCxDLmFwcGx5KHgsbil9fSxXPXUoZnVuY3Rpb24oKXt2YXIgZT1rKCk7cmV0dXJuIltudWxsXSIhPUMoW2VdKXx8Int9IiE9Qyh7YTplfSl8fCJ7fSIhPUMoT2JqZWN0KGUpKX0pO0R8fChrPWZ1bmN0aW9uKCl7aWYoTCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBBKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhrLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Yga30sbi5jcmVhdGU9VixuLmlzRW51bT1VLG4uZ2V0RGVzYz16LG4uc2V0RGVzYz1GLG4uc2V0RGVzY3M9SSxuLmdldE5hbWVzPWguZ2V0PUgsbi5nZXRTeW1ib2xzPUIscyYmIWUoIi4vJC5saWJyYXJ5IikmJmMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFUsITApKTt2YXIgWT17ImZvciI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoUixlKz0iIik/UltlXTpSW2VdPWsoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYihSLGUpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtFPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtFPSExfX07bi5lYWNoLmNhbGwoImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7WVtlXT1EP3Q6QSh0KX0pLEU9ITAsYShhLkcrYS5XLHtTeW1ib2w6a30pLGEoYS5TLCJTeW1ib2wiLFkpLGEoYS5TK2EuRiohRCwiT2JqZWN0Iix7Y3JlYXRlOlYsZGVmaW5lUHJvcGVydHk6RixkZWZpbmVQcm9wZXJ0aWVzOkksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczpILGdldE93blByb3BlcnR5U3ltYm9sczpCfSkseCYmYShhLlMrYS5GKighRHx8VyksIkpTT04iLHtzdHJpbmdpZnk6Sn0pLGYoaywiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihvLkpTT04sIkpTT04iLCEwKX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmVudW0ta2V5cyI6MzYsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4LCIuLyQuZ2V0LW5hbWVzIjo0MCwiLi8kLmdsb2JhbCI6NDEsIi4vJC5oYXMiOjQyLCIuLyQuaXMtYXJyYXkiOjQ4LCIuLyQua2V5b2YiOjU3LCIuLyQubGlicmFyeSI6NTgsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNoYXJlZCI6NjgsIi4vJC50by1pb2JqZWN0Ijo3NCwiLi8kLnVpZCI6NzcsIi4vJC53a3MiOjc4fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjgwfV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWEoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYz1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YykmJihyPWEoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGEsYz17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGE9cy5uYW1lLGkmJmlbYV09PT1lfHwocy52YWx1ZSE9PW9bYV0mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksY1thXT0hMCk7Zm9yKGEgaW4gbyljW2FdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV19KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBhKGUscixvLGEsYyl7dmFyIGw9ZS5sZW5ndGgtMTtjPS1+KChsLWMpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWFbcC5pXSxzLmImJmMmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxjLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLGgsdix5PXIuY2hpbGROb2RlcyxfPW8uYixnPXkubGVuZ3RoLG09Xz9fLmxlbmd0aDowLGo9MCwkPTAsdz0wO2c+JHx8bT53OyloPXlbJF0sdj0oYj1fW3ddKSYmYi5qLGg9PT12PyhzLmEmJmIuYSYmaSh0LGgsYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZoLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpofSkpLHAmJmEocCxyLHksXyxqKSxzLmUmJihoLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KGgsYiksJCsrLHcrKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksaCYmKGRbYj1jKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKF8saCx3LCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOmgubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmgucHJldmlvdXNTaWJsaW5nfSkpLGorKyk6cC5wdXNoKHtoOiQsaTpifSkpLCQrKyksdiYmdiE9PXlbJF0mJihkW2I9Yyh2KV18fChkW2JdPSEwLC0xPT09KGI9Zih5LHYsJCkpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOlt2XSxuZXh0U2libGluZzpfW3crMV0scHJldmlvdXNTaWJsaW5nOl9bdy0xXX0pKSxqLS0pOnAucHVzaCh7aDpiLGk6d30pKSx3KyspKTtwJiZhKHAscix5LF8sail9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBjKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7CnJldHVybiBlW3RdPSEwLGV9KSksaS5wdXNoKHttOmUsbDpvKGUsbil9KSx0aGlzLmZ8fHIodGhpcyl9LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmwoZSk7cmV0dXJuIGV9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLmc9W10sY2xlYXJUaW1lb3V0KHRoaXMuZiksdGhpcy5mPW51bGx9fTt2YXIgZD0xO3JldHVybiB0fSh2b2lkIDApfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxhPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYz10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFtjKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1jKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWMoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChjKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YyhyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYSh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KHYobixlKSxtKGUsbix0LHIpKToobj1oKGUpLG0oZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LGg9ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxhPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjpnKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTthPGkubGVuZ3RoOyluW2FdPWQodCxpW2FdKSxzW2FdPXRbaVthKytdXTtlbHNlIGZvcig7YTxpLmxlbmd0aDspc1thXT10W2lbYSsrXV07cmV0dXJuIG8uc2V0KHQscikscn0sdj1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGE9dC52YWx1ZXNbcl0sYz10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYT09PXM/MD09PWEmJjEvYSE9PTEvczphPT09YXx8cz09PXMpJiYoaihlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQudmFsdWVzW3JdPXMpLCFjLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1jLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1jLmVudW1lcmFibGUmJm8uZ2V0PT09Yy5nZXQmJm8uc2V0PT09Yy5zZXR8fChqKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGooZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGE9ci5sZW5ndGg7biYmYS0tOyludWxsIT09clthXSYmKHM9ZChlLHJbYV0pLG4tLSxzP3QoZSxvLGEsaSxzKTooaihlLG8se25hbWU6clthXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2FdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGEsMSksby52YWx1ZXMuc3BsaWNlKGEsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYSwxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoaihlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYSx1LHAsYixoLHYseSxfPW4udmFsdWVzLGc9bi5kZXNjcmlwdG9ycyxtPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYT1zLmxlbmd0aCx1PWwobyksZyl7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSx5PWQobyxiKSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKG9bYl0pLGcucHVzaCh5KSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpLHkpKTtyKG8scyxhLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsaihvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLGg9b1tiXSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKGgpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkpKTtyKG8scyxhLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7bTxzLmxlbmd0aDttKyspYj1zW21dLHQobyxuLG0saSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKHY9ZihvKSx2IT09bi5wcm90byYmKGoobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89dikpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaCh2KSxpLmZvckVhY2goXykscCh5KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtqKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGE9by5nZXQoZSksYz1hcmd1bWVudHNbMl0sdT1jPT09bj9yKCk6ci5jYWxsKGMpO2lmKGEmJnYoYSxlLHQpLGEmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7aihlLGEscyl9fX19LG09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGo9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1jKG8sbikpJiZjKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7XyhuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDpnKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxfKHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxhPW4ocyksYz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGMpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9YVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vc3luY2hlci9TeW5jaGVyIjo5OSwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjo5MCwib2JqZWN0Lm9ic2VydmUiOjkxfV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGg9bihiKSx2PWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9dCxhLl91cmw9cixhLl9zY2hlbWE9bixhLl9zdGF0dXM9byxhLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYS5fY2hpbGRyZW5zPXMsYS5fdmVyc2lvbj0wLGEuX2NoaWxkSWQ9MCxhLl9jaGlsZHJlbk9iamVjdHM9e30sYS5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYS5fb3duZXI9dC5fb3duZXIsYS5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxhWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBhPW5ldyBoWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGhbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsdi5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGE9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYSwwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBjPWkub2JqLHU9aS5sYXN0O2Muc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsIi4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYyksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9wYXJlbnQ9dCxhLl9jaGlsZElkPXIsYS5fb3duZXI9byxhLl9tc2dJZD1zLGEuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxhLl9idXM9dC5fYnVzLGEuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaj1uKG0pLCQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYyxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGMpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBqWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTokLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9JC5BTlk6KG4udHlwZT0kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT0kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT13LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0Ijo5MywiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGM9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1jO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGN9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqIElQdjYgU3VwcG9ydAogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LklQdjYgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoKICB2YXIgX2luID0gImZlODA6MDAwMDowMDAwOjAwMDA6MDIwNDo2MWZmOmZlOWQ6ZjE1NiI7CiAgdmFyIF9vdXQgPSBJUHY2LmJlc3QoX2luKTsKICB2YXIgX2V4cGVjdGVkID0gImZlODA6OjIwNDo2MWZmOmZlOWQ6ZjE1NiI7CgogIGNvbnNvbGUubG9nKF9pbiwgX291dCwgX2V4cGVjdGVkLCBfb3V0ID09PSBfZXhwZWN0ZWQpOwogICovCgogIC8vIHNhdmUgY3VycmVudCBJUHY2IHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX0lQdjYgPSByb290ICYmIHJvb3QuSVB2NjsKCiAgZnVuY3Rpb24gYmVzdFByZXNlbnRhdGlvbihhZGRyZXNzKSB7CiAgICAvLyBiYXNlZCBvbjoKICAgIC8vIEphdmFzY3JpcHQgdG8gdGVzdCBhbiBJUHY2IGFkZHJlc3MgZm9yIHByb3BlciBmb3JtYXQsIGFuZCB0bwogICAgLy8gcHJlc2VudCB0aGUgImJlc3QgdGV4dCByZXByZXNlbnRhdGlvbiIgYWNjb3JkaW5nIHRvIElFVEYgRHJhZnQgUkZDIGF0CiAgICAvLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0CiAgICAvLyA4IEZlYiAyMDEwIFJpY2ggQnJvd24sIERhcnR3YXJlLCBMTEMKICAgIC8vIFBsZWFzZSBmZWVsIGZyZWUgdG8gdXNlIHRoaXMgY29kZSBhcyBsb25nIGFzIHlvdSBwcm92aWRlIGEgbGluayB0bwogICAgLy8gaHR0cDovL3d3dy5pbnRlcm1hcHBlci5jb20KICAgIC8vIGh0dHA6Ly9pbnRlcm1hcHBlci5jb20vc3VwcG9ydC90b29scy9JUFY2LVZhbGlkYXRvci5hc3B4CiAgICAvLyBodHRwOi8vZG93bmxvYWQuZGFydHdhcmUuY29tL3RoaXJkcGFydHkvaXB2NnZhbGlkYXRvci5qcwoKICAgIHZhciBfYWRkcmVzcyA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKTsKICAgIHZhciBzZWdtZW50cyA9IF9hZGRyZXNzLnNwbGl0KCc6Jyk7CiAgICB2YXIgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwogICAgdmFyIHRvdGFsID0gODsKCiAgICAvLyB0cmltIGNvbG9ucyAoOjogb3IgOjphOmI6Y+KApiBvciDigKZhOmI6Yzo6KQogICAgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycgJiYgc2VnbWVudHNbMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6CiAgICAgIC8vIHJlbW92ZSBmaXJzdCB0d28gaXRlbXMKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6Onh4eHgKICAgICAgLy8gcmVtb3ZlIHRoZSBmaXJzdCBpdGVtCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdID09PSAnJyAmJiBzZWdtZW50c1tsZW5ndGggLSAyXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4geHh4eDo6CiAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhZGp1c3QgdG90YWwgc2VnbWVudHMgZm9yIElQdjQgdHJhaWxlcgogICAgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdLmluZGV4T2YoJy4nKSAhPT0gLTEpIHsKICAgICAgLy8gZm91bmQgYSAiLiIgd2hpY2ggbWVhbnMgSVB2NAogICAgICB0b3RhbCA9IDc7CiAgICB9CgogICAgLy8gZmlsbCBlbXB0eSBzZWdtZW50cyB0aGVtIHdpdGggIjAwMDAiCiAgICB2YXIgcG9zOwogICAgZm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmIChzZWdtZW50c1twb3NdID09PSAnJykgewogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKHBvcyA8IHRvdGFsKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShwb3MsIDEsICcwMDAwJyk7CiAgICAgIHdoaWxlIChzZWdtZW50cy5sZW5ndGggPCB0b3RhbCkgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShwb3MsIDAsICcwMDAwJyk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBzdHJpcCBsZWFkaW5nIHplcm9zCiAgICB2YXIgX3NlZ21lbnRzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIF9zZWdtZW50cyA9IHNlZ21lbnRzW2ldLnNwbGl0KCcnKTsKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzIDsgaisrKSB7CiAgICAgICAgaWYgKF9zZWdtZW50c1swXSA9PT0gJzAnICYmIF9zZWdtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICBfc2VnbWVudHMuc3BsaWNlKDAsMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc2VnbWVudHNbaV0gPSBfc2VnbWVudHMuam9pbignJyk7CiAgICB9CgogICAgLy8gZmluZCBsb25nZXN0IHNlcXVlbmNlIG9mIHplcm9lcyBhbmQgY29hbGVzY2UgdGhlbSBpbnRvIG9uZSBzZWdtZW50CiAgICB2YXIgYmVzdCA9IC0xOwogICAgdmFyIF9iZXN0ID0gMDsKICAgIHZhciBfY3VycmVudCA9IDA7CiAgICB2YXIgY3VycmVudCA9IC0xOwogICAgdmFyIGluemVyb2VzID0gZmFsc2U7CiAgICAvLyBpOyBhbHJlYWR5IGRlY2xhcmVkCgogICAgZm9yIChpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgaWYgKGluemVyb2VzKSB7CiAgICAgICAgaWYgKHNlZ21lbnRzW2ldID09PSAnMCcpIHsKICAgICAgICAgIF9jdXJyZW50ICs9IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGluemVyb2VzID0gZmFsc2U7CiAgICAgICAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICAgICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNlZ21lbnRzW2ldID09PSAnMCcpIHsKICAgICAgICAgIGluemVyb2VzID0gdHJ1ZTsKICAgICAgICAgIGN1cnJlbnQgPSBpOwogICAgICAgICAgX2N1cnJlbnQgPSAxOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgfQoKICAgIGlmIChfYmVzdCA+IDEpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKGJlc3QsIF9iZXN0LCAnJyk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFzc2VtYmxlIHJlbWFpbmluZyBzZWdtZW50cwogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgaWYgKHNlZ21lbnRzWzBdID09PSAnJykgIHsKICAgICAgcmVzdWx0ID0gJzonOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICByZXN1bHQgKz0gc2VnbWVudHNbaV07CiAgICAgIGlmIChpID09PSBsZW5ndGggLSAxKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdID09PSAnJykgewogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBub0NvbmZsaWN0KCkgewogICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovCiAgICBpZiAocm9vdC5JUHY2ID09PSB0aGlzKSB7CiAgICAgIHJvb3QuSVB2NiA9IF9JUHY2OwogICAgfQogIAogICAgcmV0dXJuIHRoaXM7CiAgfQoKICByZXR1cm4gewogICAgYmVzdDogYmVzdFByZXNlbnRhdGlvbiwKICAgIG5vQ29uZmxpY3Q6IG5vQ29uZmxpY3QKICB9Owp9KSk7Cgp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogU2Vjb25kIExldmVsIERvbWFpbiAoU0xEKSBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID0gZmFjdG9yeShyb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHJvb3QpIHsKICAndXNlIHN0cmljdCc7CgogIC8vIHNhdmUgY3VycmVudCBTZWNvbmRMZXZlbERvbWFpbnMgdmFyaWFibGUsIGlmIGFueQogIHZhciBfU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdCAmJiByb290LlNlY29uZExldmVsRG9tYWluczsKCiAgdmFyIFNMRCA9IHsKICAgIC8vIGxpc3Qgb2Yga25vd24gU2Vjb25kIExldmVsIERvbWFpbnMKICAgIC8vIGNvbnZlcnRlZCBsaXN0IG9mIFNMRHMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2F2aW5nbWlsbGVyL3NlY29uZC1sZXZlbC1kb21haW5zCiAgICAvLyAtLS0tCiAgICAvLyBwdWJsaWNzdWZmaXgub3JnIGlzIG1vcmUgY3VycmVudCBhbmQgYWN0dWFsbHkgdXNlZCBieSBhIGNvdXBsZSBvZiBicm93c2VycyBpbnRlcm5hbGx5LgogICAgLy8gZG93bnNpZGUgaXMgaXQgYWxzbyBjb250YWlucyBkb21haW5zIGxpa2UgImR5bmRucy5vcmciIC0gd2hpY2ggaXMgZmluZSBmb3IgdGhlIHNlY3VyaXR5CiAgICAvLyBpc3N1ZXMgYnJvd3NlciBoYXZlIHRvIGRlYWwgd2l0aCAoU09QIGZvciBjb29raWVzLCBldGMpIC0gYnV0IGlzIHdheSBvdmVyYm9hcmQgZm9yIFVSSS5qcwogICAgLy8gLS0tLQogICAgbGlzdDogewogICAgICAnYWMnOicgY29tIGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYWUnOicgYWMgY28gZ292IG1pbCBuYW1lIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAnYWYnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYWwnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FvJzonIGNvIGVkIGd2IGl0IG9nIHBiICcsCiAgICAgICdhcic6JyBjb20gZWR1IGdvYiBnb3YgaW50IG1pbCBuZXQgb3JnIHR1ciAnLAogICAgICAnYXQnOicgYWMgY28gZ3Ygb3IgJywKICAgICAgJ2F1JzonIGFzbiBjb20gY3Npcm8gZWR1IGdvdiBpZCBuZXQgb3JnICcsCiAgICAgICdiYSc6JyBjbyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBycyB1bmJpIHVubW8gdW5zYSB1bnR6IHVuemUgJywKICAgICAgJ2JiJzonIGJpeiBjbyBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgc3RvcmUgdHYgJywKICAgICAgJ2JoJzonIGJpeiBjYyBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ2JuJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2JvJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHYgJywKICAgICAgJ2JyJzonIGFkbSBhZHYgYWdyIGFtIGFycSBhcnQgYXRvIGIgYmlvIGJsb2cgYm1kIGNpbSBjbmcgY250IGNvbSBjb29wIGVjbiBlZHUgZW5nIGVzcCBldGMgZXRpIGZhciBmbG9nIGZtIGZuZCBmb3QgZnN0IGcxMiBnZ2YgZ292IGltYiBpbmQgaW5mIGpvciBqdXMgbGVsIG1hdCBtZWQgbWlsIG11cyBuZXQgbm9tIG5vdCBudHIgb2RvIG9yZyBwcGcgcHJvIHBzYyBwc2kgcXNsIHJlYyBzbGcgc3J2IHRtcCB0cmQgdHVyIHR2IHZldCB2bG9nIHdpa2kgemxnICcsCiAgICAgICdicyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdieic6JyBkdSBldCBvbSBvdiByZyAnLAogICAgICAnY2EnOicgYWIgYmMgbWIgbmIgbmYgbmwgbnMgbnQgbnUgb24gcGUgcWMgc2sgeWsgJywKICAgICAgJ2NrJzonIGJpeiBjbyBlZHUgZ2VuIGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ2NuJzonIGFjIGFoIGJqIGNvbSBjcSBlZHUgZmogZ2QgZ292IGdzIGd4IGd6IGhhIGhiIGhlIGhpIGhsIGhuIGpsIGpzIGp4IGxuIG1pbCBuZXQgbm0gbnggb3JnIHFoIHNjIHNkIHNoIHNuIHN4IHRqIHR3IHhqIHh6IHluIHpqICcsCiAgICAgICdjbyc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG5vbSBvcmcgJywKICAgICAgJ2NyJzonIGFjIGMgY28gZWQgZmkgZ28gb3Igc2EgJywKICAgICAgJ2N5JzonIGFjIGJpeiBjb20gZWtsb2dlcyBnb3YgbHRkIG5hbWUgbmV0IG9yZyBwYXJsaWFtZW50IHByZXNzIHBybyB0bSAnLAogICAgICAnZG8nOicgYXJ0IGNvbSBlZHUgZ29iIGdvdiBtaWwgbmV0IG9yZyBzbGQgd2ViICcsCiAgICAgICdkeic6JyBhcnQgYXNzbyBjb20gZWR1IGdvdiBuZXQgb3JnIHBvbCAnLAogICAgICAnZWMnOicgY29tIGVkdSBmaW4gZ292IGluZm8gbWVkIG1pbCBuZXQgb3JnIHBybyAnLAogICAgICAnZWcnOicgY29tIGVkdSBldW4gZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NpICcsCiAgICAgICdlcic6JyBjb20gZWR1IGdvdiBpbmQgbWlsIG5ldCBvcmcgcm9jaGVzdCB3ICcsCiAgICAgICdlcyc6JyBjb20gZWR1IGdvYiBub20gb3JnICcsCiAgICAgICdldCc6JyBiaXogY29tIGVkdSBnb3YgaW5mbyBuYW1lIG5ldCBvcmcgJywKICAgICAgJ2ZqJzonIGFjIGJpeiBjb20gaW5mbyBtaWwgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnZmsnOicgYWMgY28gZ292IG5ldCBub20gb3JnICcsCiAgICAgICdmcic6JyBhc3NvIGNvbSBmIGdvdXYgbm9tIHByZCBwcmVzc2UgdG0gJywKICAgICAgJ2dnJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2doJzonIGNvbSBlZHUgZ292IG1pbCBvcmcgJywKICAgICAgJ2duJzonIGFjIGNvbSBnb3YgbmV0IG9yZyAnLAogICAgICAnZ3InOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2d0JzonIGNvbSBlZHUgZ29iIGluZCBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3UnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnaGsnOicgY29tIGVkdSBnb3YgaWR2IG5ldCBvcmcgJywKICAgICAgJ2h1JzonIDIwMDAgYWdyYXIgYm9sdCBjYXNpbm8gY2l0eSBjbyBlcm90aWNhIGVyb3Rpa2EgZmlsbSBmb3J1bSBnYW1lcyBob3RlbCBpbmZvIGluZ2F0bGFuIGpvZ2FzeiBrb255dmVsbyBsYWthcyBtZWRpYSBuZXdzIG9yZyBwcml2IHJla2xhbSBzZXggc2hvcCBzcG9ydCBzdWxpIHN6ZXggdG0gdG96c2RlIHV0YXphcyB2aWRlbyAnLAogICAgICAnaWQnOicgYWMgY28gZ28gbWlsIG5ldCBvciBzY2ggd2ViICcsCiAgICAgICdpbCc6JyBhYyBjbyBnb3YgaWRmIGsxMiBtdW5pIG5ldCBvcmcgJywKICAgICAgJ2luJzonIGFjIGNvIGVkdSBlcm5ldCBmaXJtIGdlbiBnb3YgaSBpbmQgbWlsIG5ldCBuaWMgb3JnIHJlcyAnLAogICAgICAnaXEnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG9yZyAnLAogICAgICAnaXInOicgYWMgY28gZG5zc2VjIGdvdiBpIGlkIG5ldCBvcmcgc2NoICcsCiAgICAgICdpdCc6JyBlZHUgZ292ICcsCiAgICAgICdqZSc6JyBjbyBuZXQgb3JnICcsCiAgICAgICdqbyc6JyBjb20gZWR1IGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnanAnOicgYWMgYWQgY28gZWQgZ28gZ3IgbGcgbmUgb3IgJywKICAgICAgJ2tlJzonIGFjIGNvIGdvIGluZm8gbWUgbW9iaSBuZSBvciBzYyAnLAogICAgICAna2gnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgcGVyICcsCiAgICAgICdraSc6JyBiaXogY29tIGRlIGVkdSBnb3YgaW5mbyBtb2IgbmV0IG9yZyB0ZWwgJywKICAgICAgJ2ttJzonIGFzc28gY29tIGNvb3AgZWR1IGdvdXYgayBtZWRlY2luIG1pbCBub20gbm90YWlyZXMgcGhhcm1hY2llbnMgcHJlc3NlIHRtIHZldGVyaW5haXJlICcsCiAgICAgICdrbic6JyBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2tyJzonIGFjIGJ1c2FuIGNodW5nYnVrIGNodW5nbmFtIGNvIGRhZWd1IGRhZWplb24gZXMgZ2FuZ3dvbiBnbyBnd2FuZ2p1IGd5ZW9uZ2J1ayBneWVvbmdnaSBneWVvbmduYW0gaHMgaW5jaGVvbiBqZWp1IGplb25idWsgamVvbm5hbSBrIGtnIG1pbCBtcyBuZSBvciBwZSByZSBzYyBzZW91bCB1bHNhbiAnLAogICAgICAna3cnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3knOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3onOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2xiJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2xrJzonIGFzc24gY29tIGVkdSBnb3YgZ3JwIGhvdGVsIGludCBsdGQgbmV0IG5nbyBvcmcgc2NoIHNvYyB3ZWIgJywKICAgICAgJ2xyJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2x2JzonIGFzbiBjb20gY29uZiBlZHUgZ292IGlkIG1pbCBuZXQgb3JnICcsCiAgICAgICdseSc6JyBjb20gZWR1IGdvdiBpZCBtZWQgbmV0IG9yZyBwbGMgc2NoICcsCiAgICAgICdtYSc6JyBhYyBjbyBnb3YgbSBuZXQgb3JnIHByZXNzICcsCiAgICAgICdtYyc6JyBhc3NvIHRtICcsCiAgICAgICdtZSc6JyBhYyBjbyBlZHUgZ292IGl0cyBuZXQgb3JnIHByaXYgJywKICAgICAgJ21nJzonIGNvbSBlZHUgZ292IG1pbCBub20gb3JnIHByZCB0bSAnLAogICAgICAnbWsnOicgY29tIGVkdSBnb3YgaW5mIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ21sJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgcHJlc3NlICcsCiAgICAgICdtbic6JyBlZHUgZ292IG9yZyAnLAogICAgICAnbW8nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbXQnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbXYnOicgYWVybyBiaXogY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBtaWwgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ213JzonIGFjIGNvIGNvbSBjb29wIGVkdSBnb3YgaW50IG11c2V1bSBuZXQgb3JnICcsCiAgICAgICdteCc6JyBjb20gZWR1IGdvYiBuZXQgb3JnICcsCiAgICAgICdteSc6JyBjb20gZWR1IGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmYnOicgYXJ0cyBjb20gZmlybSBpbmZvIG5ldCBvdGhlciBwZXIgcmVjIHN0b3JlIHdlYiAnLAogICAgICAnbmcnOicgYml6IGNvbSBlZHUgZ292IG1pbCBtb2JpIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ25pJzonIGFjIGNvIGNvbSBlZHUgZ29iIG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnbnAnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ25yJzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ29tJzonIGFjIGJpeiBjbyBjb20gZWR1IGdvdiBtZWQgbWlsIG11c2V1bSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ3BlJzonIGNvbSBlZHUgZ29iIG1pbCBuZXQgbm9tIG9yZyBzbGQgJywKICAgICAgJ3BoJzonIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBuZ28gb3JnICcsCiAgICAgICdwayc6JyBiaXogY29tIGVkdSBmYW0gZ29iIGdvayBnb24gZ29wIGdvcyBnb3YgbmV0IG9yZyB3ZWIgJywKICAgICAgJ3BsJzonIGFydCBiaWFseXN0b2sgYml6IGNvbSBlZHUgZ2RhIGdkYW5zayBnb3J6b3cgZ292IGluZm8ga2F0b3dpY2Uga3Jha293IGxvZHogbHVibGluIG1pbCBuZXQgbmdvIG9sc3p0eW4gb3JnIHBvem5hbiBwd3IgcmFkb20gc2x1cHNrIHN6Y3plY2luIHRvcnVuIHdhcnN6YXdhIHdhdyB3cm9jIHdyb2NsYXcgemdvcmEgJywKICAgICAgJ3ByJzonIGFjIGJpeiBjb20gZWR1IGVzdCBnb3YgaW5mbyBpc2xhIG5hbWUgbmV0IG9yZyBwcm8gcHJvZiAnLAogICAgICAncHMnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwbG8gc2VjICcsCiAgICAgICdwdyc6JyBiZWxhdSBjbyBlZCBnbyBuZSBvciAnLAogICAgICAncm8nOicgYXJ0cyBjb20gZmlybSBpbmZvIG5vbSBudCBvcmcgcmVjIHN0b3JlIHRtIHd3dyAnLAogICAgICAncnMnOicgYWMgY28gZWR1IGdvdiBpbiBvcmcgJywKICAgICAgJ3NiJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3NjJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3NoJzonIGNvIGNvbSBlZHUgZ292IG5ldCBub20gb3JnICcsCiAgICAgICdzbCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzdCc6JyBjbyBjb20gY29uc3VsYWRvIGVkdSBlbWJhaXhhZGEgZ292IG1pbCBuZXQgb3JnIHByaW5jaXBlIHNhb3RvbWUgc3RvcmUgJywKICAgICAgJ3N2JzonIGNvbSBlZHUgZ29iIG9yZyByZWQgJywKICAgICAgJ3N6JzonIGFjIGNvIG9yZyAnLAogICAgICAndHInOicgYXYgYmJzIGJlbCBiaXogY29tIGRyIGVkdSBnZW4gZ292IGluZm8gazEyIG5hbWUgbmV0IG9yZyBwb2wgdGVsIHRzayB0diB3ZWIgJywKICAgICAgJ3R0JzonIGFlcm8gYml6IGNhdCBjbyBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IGpvYnMgbWlsIG1vYmkgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gdGVsIHRyYXZlbCAnLAogICAgICAndHcnOicgY2x1YiBjb20gZWJpeiBlZHUgZ2FtZSBnb3YgaWR2IG1pbCBuZXQgb3JnICcsCiAgICAgICdtdSc6JyBhYyBjbyBjb20gZ292IG5ldCBvciBvcmcgJywKICAgICAgJ216JzonIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICduYSc6JyBjbyBjb20gJywKICAgICAgJ256JzonIGFjIGNvIGNyaSBnZWVrIGdlbiBnb3Z0IGhlYWx0aCBpd2kgbWFvcmkgbWlsIG5ldCBvcmcgcGFybGlhbWVudCBzY2hvb2wgJywKICAgICAgJ3BhJzonIGFibyBhYyBjb20gZWR1IGdvYiBpbmcgbWVkIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncHQnOicgY29tIGVkdSBnb3YgaW50IG5ldCBub21lIG9yZyBwdWJsICcsCiAgICAgICdweSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncWEnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3JlJzonIGFzc28gY29tIG5vbSAnLAogICAgICAncnUnOicgYWMgYWR5Z2V5YSBhbHRhaSBhbXVyIGFya2hhbmdlbHNrIGFzdHJha2hhbiBiYXNoa2lyaWEgYmVsZ29yb2QgYmlyIGJyeWFuc2sgYnVyeWF0aWEgY2JnIGNoZWwgY2hlbHlhYmluc2sgY2hpdGEgY2h1a290a2EgY2h1dmFzaGlhIGNvbSBkYWdlc3RhbiBlLWJ1cmcgZWR1IGdvdiBncm96bnkgaW50IGlya3V0c2sgaXZhbm92byBpemhldnNrIGphciBqb3Noa2FyLW9sYSBrYWxteWtpYSBrYWx1Z2Ega2FtY2hhdGthIGthcmVsaWEga2F6YW4ga2NociBrZW1lcm92byBraGFiYXJvdnNrIGtoYWthc3NpYSBraHYga2lyb3Yga29lbmlnIGtvbWkga29zdHJvbWEga3Jhbm95YXJzayBrdWJhbiBrdXJnYW4ga3Vyc2sgbGlwZXRzayBtYWdhZGFuIG1hcmkgbWFyaS1lbCBtYXJpbmUgbWlsIG1vcmRvdmlhIG1vc3JlZyBtc2sgbXVybWFuc2sgbmFsY2hpayBuZXQgbm5vdiBub3Ygbm92b3NpYmlyc2sgbnNrIG9tc2sgb3JlbmJ1cmcgb3JnIG9yeW9sIHBlbnphIHBlcm0gcHAgcHNrb3YgcHR6IHJuZCByeWF6YW4gc2FraGFsaW4gc2FtYXJhIHNhcmF0b3Ygc2ltYmlyc2sgc21vbGVuc2sgc3BiIHN0YXZyb3BvbCBzdHYgc3VyZ3V0IHRhbWJvdiB0YXRhcnN0YW4gdG9tIHRvbXNrIHRzYXJpdHN5biB0c2sgdHVsYSB0dXZhIHR2ZXIgdHl1bWVuIHVkbSB1ZG11cnRpYSB1bGFuLXVkZSB2bGFkaWthdmtheiB2bGFkaW1pciB2bGFkaXZvc3RvayB2b2xnb2dyYWQgdm9sb2dkYSB2b3JvbmV6aCB2cm4gdnlhdGthIHlha3V0aWEgeWFtYWwgeWVrYXRlcmluYnVyZyB5dXpobm8tc2FraGFsaW5zayAnLAogICAgICAncncnOicgYWMgY28gY29tIGVkdSBnb3V2IGdvdiBpbnQgbWlsIG5ldCAnLAogICAgICAnc2EnOicgY29tIGVkdSBnb3YgbWVkIG5ldCBvcmcgcHViIHNjaCAnLAogICAgICAnc2QnOicgY29tIGVkdSBnb3YgaW5mbyBtZWQgbmV0IG9yZyB0diAnLAogICAgICAnc2UnOicgYSBhYyBiIGJkIGMgZCBlIGYgZyBoIGkgayBsIG0gbiBvIG9yZyBwIHBhcnRpIHBwIHByZXNzIHIgcyB0IHRtIHUgdyB4IHkgeiAnLAogICAgICAnc2cnOicgY29tIGVkdSBnb3YgaWRuIG5ldCBvcmcgcGVyICcsCiAgICAgICdzbic6JyBhcnQgY29tIGVkdSBnb3V2IG9yZyBwZXJzbyB1bml2ICcsCiAgICAgICdzeSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG5ld3Mgb3JnICcsCiAgICAgICd0aCc6JyBhYyBjbyBnbyBpbiBtaSBuZXQgb3IgJywKICAgICAgJ3RqJzonIGFjIGJpeiBjbyBjb20gZWR1IGdvIGdvdiBpbmZvIGludCBtaWwgbmFtZSBuZXQgbmljIG9yZyB0ZXN0IHdlYiAnLAogICAgICAndG4nOicgYWdyaW5ldCBjb20gZGVmZW5zZSBlZHVuZXQgZW5zIGZpbiBnb3YgaW5kIGluZm8gaW50bCBtaW5jb20gbmF0IG5ldCBvcmcgcGVyc28gcm5ydCBybnMgcm51IHRvdXJpc20gJywKICAgICAgJ3R6JzonIGFjIGNvIGdvIG5lIG9yICcsCiAgICAgICd1YSc6JyBiaXogY2hlcmthc3N5IGNoZXJuaWdvdiBjaGVybm92dHN5IGNrIGNuIGNvIGNvbSBjcmltZWEgY3YgZG4gZG5lcHJvcGV0cm92c2sgZG9uZXRzayBkcCBlZHUgZ292IGlmIGluIGl2YW5vLWZyYW5raXZzayBraCBraGFya292IGtoZXJzb24ga2htZWxuaXRza2l5IGtpZXYga2lyb3ZvZ3JhZCBrbSBrciBrcyBrdiBsZyBsdWdhbnNrIGx1dHNrIGx2aXYgbWUgbWsgbmV0IG5pa29sYWV2IG9kIG9kZXNzYSBvcmcgcGwgcG9sdGF2YSBwcCByb3ZubyBydiBzZWJhc3RvcG9sIHN1bXkgdGUgdGVybm9waWwgdXpoZ29yb2QgdmlubmljYSB2biB6YXBvcml6aHpoZSB6aGl0b21pciB6cCB6dCAnLAogICAgICAndWcnOicgYWMgY28gZ28gbmUgb3Igb3JnIHNjICcsCiAgICAgICd1ayc6JyBhYyBibCBicml0aXNoLWxpYnJhcnkgY28gY3ltIGdvdiBnb3Z0IGljbmV0IGpldCBsZWEgbHRkIG1lIG1pbCBtb2QgbmF0aW9uYWwtbGlicmFyeS1zY290bGFuZCBuZWwgbmV0IG5ocyBuaWMgbmxzIG9yZyBvcmduIHBhcmxpYW1lbnQgcGxjIHBvbGljZSBzY2ggc2NvdCBzb2MgJywKICAgICAgJ3VzJzonIGRuaSBmZWQgaXNhIGtpZHMgbnNuICcsCiAgICAgICd1eSc6JyBjb20gZWR1IGd1YiBtaWwgbmV0IG9yZyAnLAogICAgICAndmUnOicgY28gY29tIGVkdSBnb2IgaW5mbyBtaWwgbmV0IG9yZyB3ZWIgJywKICAgICAgJ3ZpJzonIGNvIGNvbSBrMTIgbmV0IG9yZyAnLAogICAgICAndm4nOicgYWMgYml6IGNvbSBlZHUgZ292IGhlYWx0aCBpbmZvIGludCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICd5ZSc6JyBjbyBjb20gZ292IGx0ZCBtZSBuZXQgb3JnIHBsYyAnLAogICAgICAneXUnOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ3phJzonIGFjIGFncmljIGFsdCBib3Vyc2UgY2l0eSBjbyBjeWJlcm5ldCBkYiBlZHUgZ292IGdyb25kYXIgaWFjY2VzcyBpbXQgaW5jYSBsYW5kZXNpZ24gbGF3IG1pbCBuZXQgbmdvIG5pcyBub20gb2xpdmV0dGkgb3JnIHBpeCBzY2hvb2wgdG0gd2ViICcsCiAgICAgICd6bSc6JyBhYyBjbyBjb20gZWR1IGdvdiBuZXQgb3JnIHNjaCAnCiAgICB9LAogICAgLy8gZ29yaGlsbCAyMDEzLTEwLTI1OiBVc2luZyBpbmRleE9mKCkgaW5zdGVhZCBSZWdleHAoKS4gU2lnbmlmaWNhbnQgYm9vc3QKICAgIC8vIGluIGJvdGggcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBmb290cHJpbnQuIE5vIGluaXRpYWxpemF0aW9uIHJlcXVpcmVkLgogICAgLy8gaHR0cDovL2pzcGVyZi5jb20vdXJpLWpzLXNsZC1yZWdleC12cy1iaW5hcnktc2VhcmNoLzQKICAgIC8vIEZvbGxvd2luZyBtZXRob2RzIHVzZSBsYXN0SW5kZXhPZigpIHJhdGhlciB0aGFuIGFycmF5LnNwbGl0KCkgaW4gb3JkZXIKICAgIC8vIHRvIGF2b2lkIGFueSBtZW1vcnkgYWxsb2NhdGlvbnMuCiAgICBoYXM6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA8PSAwIHx8IHNsZE9mZnNldCA+PSAodGxkT2Zmc2V0LTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBpczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0ID49IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKDAsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA8PSAwIHx8IHNsZE9mZnNldCA+PSAodGxkT2Zmc2V0LTEpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEsIHRsZE9mZnNldCkgKyAnICcpIDwgMCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEpOwogICAgfSwKICAgIG5vQ29uZmxpY3Q6IGZ1bmN0aW9uKCl7CiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyA9PT0gdGhpcykgewogICAgICAgIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID0gX1NlY29uZExldmVsRG9tYWluczsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwoKICByZXR1cm4gU0xEOwp9KSk7Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL3B1bnljb2RlJyksIHJlcXVpcmUoJy4vSVB2NicpLCByZXF1aXJlKCcuL1NlY29uZExldmVsRG9tYWlucycpKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKFsnLi9wdW55Y29kZScsICcuL0lQdjYnLCAnLi9TZWNvbmRMZXZlbERvbWFpbnMnXSwgZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlVSSSA9IGZhY3Rvcnkocm9vdC5wdW55Y29kZSwgcm9vdC5JUHY2LCByb290LlNlY29uZExldmVsRG9tYWlucywgcm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChwdW55Y29kZSwgSVB2NiwgU0xELCByb290KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovCiAgLy8gRklYTUU6IHYyLjAuMCByZW5hbWNlIG5vbi1jYW1lbENhc2UgcHJvcGVydGllcyB0byB1cHBlcmNhc2UKICAvKmpzaGludCBjYW1lbGNhc2U6IGZhbHNlICovCgogIC8vIHNhdmUgY3VycmVudCBVUkkgdmFyaWFibGUsIGlmIGFueQogIHZhciBfVVJJID0gcm9vdCAmJiByb290LlVSSTsKCiAgZnVuY3Rpb24gVVJJKHVybCwgYmFzZSkgewogICAgdmFyIF91cmxTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMTsKICAgIHZhciBfYmFzZVN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyOwoKICAgIC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZAogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgaWYgKF91cmxTdXBwbGllZCkgewogICAgICAgIGlmIChfYmFzZVN1cHBsaWVkKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwsIGJhc2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBVUkkoKTsKICAgIH0KCiAgICBpZiAodXJsID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKF91cmxTdXBwbGllZCkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJJyk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdXJsID0gbG9jYXRpb24uaHJlZiArICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHVybCA9ICcnOwogICAgICB9CiAgICB9CgogICAgdGhpcy5ocmVmKHVybCk7CgogICAgLy8gcmVzb2x2ZSB0byBiYXNlIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbnN0cnVjdG9yCiAgICBpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLmFic29sdXRlVG8oYmFzZSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBVUkkudmVyc2lvbiA9ICcxLjE4LjEnOwoKICB2YXIgcCA9IFVSSS5wcm90b3R5cGU7CiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CgogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4KHN0cmluZykgewogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvY29tbWl0Lzg1YWMyMTc4M2MxMWY4Y2NhYjA2MTA2ZGJhOTczNWEzMWE4NjkyNGQjY29tbWl0Y29tbWVudC04MjE5NjMKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwogIH0KCiAgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkgewogICAgLy8gSUU4IGRvZXNuJ3QgcmV0dXJuIFtPYmplY3QgVW5kZWZpbmVkXSBidXQgW09iamVjdCBPYmplY3RdIGZvciB1bmRlZmluZWQgdmFsdWUKICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiAnVW5kZWZpbmVkJzsKICAgIH0KCiAgICByZXR1cm4gU3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkpLnNsaWNlKDgsIC0xKTsKICB9CgogIGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7CiAgICByZXR1cm4gZ2V0VHlwZShvYmopID09PSAnQXJyYXknOwogIH0KCiAgZnVuY3Rpb24gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YSwgdmFsdWUpIHsKICAgIHZhciBsb29rdXAgPSB7fTsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgaWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykgewogICAgICBsb29rdXAgPSBudWxsOwogICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFt2YWx1ZVtpXV0gPSB0cnVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBsb29rdXBbdmFsdWVdID0gdHJ1ZTsKICAgIH0KCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovCiAgICAgIHZhciBfbWF0Y2ggPSBsb29rdXAgJiYgbG9va3VwW2RhdGFbaV1dICE9PSB1bmRlZmluZWQKICAgICAgICB8fCAhbG9va3VwICYmIHZhbHVlLnRlc3QoZGF0YVtpXSk7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgICBpZiAoX21hdGNoKSB7CiAgICAgICAgZGF0YS5zcGxpY2UoaSwgMSk7CiAgICAgICAgbGVuZ3RoLS07CiAgICAgICAgaS0tOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGRhdGE7CiAgfQoKICBmdW5jdGlvbiBhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlKSB7CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIC8vIHZhbHVlIG1heSBiZSBzdHJpbmcsIG51bWJlciwgYXJyYXksIHJlZ2V4cAogICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIC8vIE5vdGU6IHRoaXMgY2FuIGJlIG9wdGltaXplZCB0byBPKG4pIChpbnN0ZWFkIG9mIGN1cnJlbnQgTyhtICogbikpCiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKCFhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlW2ldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgdmFyIF90eXBlID0gZ2V0VHlwZSh2YWx1ZSk7CiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChfdHlwZSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICBpZiAodHlwZW9mIGxpc3RbaV0gPT09ICdzdHJpbmcnICYmIGxpc3RbaV0ubWF0Y2godmFsdWUpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobGlzdFtpXSA9PT0gdmFsdWUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGFycmF5c0VxdWFsKG9uZSwgdHdvKSB7CiAgICBpZiAoIWlzQXJyYXkob25lKSB8fCAhaXNBcnJheSh0d28pKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBhcnJheXMgY2FuJ3QgYmUgZXF1YWwgaWYgdGhleSBoYXZlIGRpZmZlcmVudCBhbW91bnQgb2YgY29udGVudAogICAgaWYgKG9uZS5sZW5ndGggIT09IHR3by5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZS5zb3J0KCk7CiAgICB0d28uc29ydCgpOwoKICAgIGZvciAodmFyIGkgPSAwLCBsID0gb25lLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAob25lW2ldICE9PSB0d29baV0pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyaW1TbGFzaGVzKHRleHQpIHsKICAgIHZhciB0cmltX2V4cHJlc3Npb24gPSAvXlwvK3xcLyskL2c7CiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHRyaW1fZXhwcmVzc2lvbiwgJycpOwogIH0KCiAgVVJJLl9wYXJ0cyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvdG9jb2w6IG51bGwsCiAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgaG9zdG5hbWU6IG51bGwsCiAgICAgIHVybjogbnVsbCwKICAgICAgcG9ydDogbnVsbCwKICAgICAgcGF0aDogbnVsbCwKICAgICAgcXVlcnk6IG51bGwsCiAgICAgIGZyYWdtZW50OiBudWxsLAogICAgICAvLyBzdGF0ZQogICAgICBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6IFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsCiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2U6IFVSSS5lc2NhcGVRdWVyeVNwYWNlCiAgICB9OwogIH07CiAgLy8gc3RhdGU6IGFsbG93IGR1cGxpY2F0ZSBxdWVyeSBwYXJhbWV0ZXJzIChhPTEmYT0xKQogIFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmYWxzZTsKICAvLyBzdGF0ZTogcmVwbGFjZXMgKyB3aXRoICUyMCAoc3BhY2UgaW4gcXVlcnkgc3RyaW5ncykKICBVUkkuZXNjYXBlUXVlcnlTcGFjZSA9IHRydWU7CiAgLy8gc3RhdGljIHByb3BlcnRpZXMKICBVUkkucHJvdG9jb2xfZXhwcmVzc2lvbiA9IC9eW2Etel1bYS16MC05ListXSokL2k7CiAgVVJJLmlkbl9leHByZXNzaW9uID0gL1teYS16MC05XC4tXS9pOwogIFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pOwogIC8vIHdlbGwsIDMzMy40NDQuNTU1LjY2NiBtYXRjaGVzLCBidXQgaXQgc3VyZSBhaW4ndCBubyBJUHY0IC0gZG8gd2UgY2FyZT8KICBVUkkuaXA0X2V4cHJlc3Npb24gPSAvXlxkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30kLzsKICAvLyBjcmVkaXRzIHRvIFJpY2ggQnJvd24KICAvLyBzb3VyY2U6IGh0dHA6Ly9mb3J1bXMuaW50ZXJtYXBwZXIuY29tL3ZpZXd0b3BpYy5waHA/cD0xMDk2IzEwOTYKICAvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dAogIFVSSS5pcDZfZXhwcmVzc2lvbiA9IC9eXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSkpKCUuKyk/XHMqJC87CiAgLy8gZXhwcmVzc2lvbiB1c2VkIGlzICJncnViZXIgcmV2aXNlZCIgKEBncnViZXIgdjIpIGRldGVybWluZWQgdG8gYmUgdGhlCiAgLy8gYmVzdCBzb2x1dGlvbiBpbiBhIHJlZ2V4LWdvbGYgd2UgZGlkIGEgY291cGxlIG9mIGFnZXMgYWdvIGF0CiAgLy8gKiBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleAogIC8vICogaHR0cDovL3JvZG5leXJlaG0uZGUvdC91cmwtcmVnZXguaHRtbAogIFVSSS5maW5kX3VyaV9leHByZXNzaW9uID0gL1xiKCg/OlthLXpdW1x3LV0rOig/OlwvezEsM318W2EtejAtOSVdKXx3d3dcZHswLDN9Wy5dfFthLXowLTkuXC1dK1suXVthLXpdezIsNH1cLykoPzpbXlxzKCk8Pl0rfFwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCkpKyg/OlwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCl8W15cc2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnOwogIFVSSS5maW5kVXJpID0gewogICAgLy8gdmFsaWQgInNjaGVtZTovLyIgb3IgInd3dy4iCiAgICBzdGFydDogL1xiKD86KFthLXpdW2EtejAtOS4rLV0qOlwvXC8pfHd3d1wuKS9naSwKICAgIC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZQogICAgZW5kOiAvW1xzXHJcbl18JC8sCiAgICAvLyB0cmltIHRyYWlsaW5nIHB1bmN0dWF0aW9uIGNhcHR1cmVkIGJ5IGVuZCBSZWdFeHAKICAgIHRyaW06IC9bYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvCiAgfTsKICAvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3VyaS1zY2hlbWVzLmh0bWwKICAvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHMKICBVUkkuZGVmYXVsdFBvcnRzID0gewogICAgaHR0cDogJzgwJywKICAgIGh0dHBzOiAnNDQzJywKICAgIGZ0cDogJzIxJywKICAgIGdvcGhlcjogJzcwJywKICAgIHdzOiAnODAnLAogICAgd3NzOiAnNDQzJwogIH07CiAgLy8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NgogIC8vIEFMUEhBIERJR0lUICItIiAiLiIgIl8iICJ+IiAiISIgIiQiICImIiAiJyIgIigiICIpIiAiKiIgIisiICIsIiAiOyIgIj0iICVlbmNvZGVkCiAgLy8gSSd2ZSBuZXZlciBzZWVuIGEgKG5vbi1JRE4pIGhvc3RuYW1lIG90aGVyIHRoYW46IEFMUEhBIERJR0lUIC4gLQogIFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcLi1dLzsKICAvLyBtYXAgRE9NIEVsZW1lbnRzIHRvIHRoZWlyIFVSSSBhdHRyaWJ1dGUKICBVUkkuZG9tQXR0cmlidXRlcyA9IHsKICAgICdhJzogJ2hyZWYnLAogICAgJ2Jsb2NrcXVvdGUnOiAnY2l0ZScsCiAgICAnbGluayc6ICdocmVmJywKICAgICdiYXNlJzogJ2hyZWYnLAogICAgJ3NjcmlwdCc6ICdzcmMnLAogICAgJ2Zvcm0nOiAnYWN0aW9uJywKICAgICdpbWcnOiAnc3JjJywKICAgICdhcmVhJzogJ2hyZWYnLAogICAgJ2lmcmFtZSc6ICdzcmMnLAogICAgJ2VtYmVkJzogJ3NyYycsCiAgICAnc291cmNlJzogJ3NyYycsCiAgICAndHJhY2snOiAnc3JjJywKICAgICdpbnB1dCc6ICdzcmMnLCAvLyBidXQgb25seSBpZiB0eXBlPSJpbWFnZSIKICAgICdhdWRpbyc6ICdzcmMnLAogICAgJ3ZpZGVvJzogJ3NyYycKICB9OwogIFVSSS5nZXREb21BdHRyaWJ1dGUgPSBmdW5jdGlvbihub2RlKSB7CiAgICBpZiAoIW5vZGUgfHwgIW5vZGUubm9kZU5hbWUpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICB2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAvLyA8aW5wdXQ+IHNob3VsZCBvbmx5IGV4cG9zZSBzcmMgZm9yIHR5cGU9ImltYWdlIgogICAgaWYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIG5vZGUudHlwZSAhPT0gJ2ltYWdlJykgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBVUkkuZG9tQXR0cmlidXRlc1tub2RlTmFtZV07CiAgfTsKCiAgZnVuY3Rpb24gZXNjYXBlRm9yRHVtYkZpcmVmb3gzNih2YWx1ZSkgewogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkxCiAgICByZXR1cm4gZXNjYXBlKHZhbHVlKTsKICB9CgogIC8vIGVuY29kaW5nIC8gZGVjb2RpbmcgYWNjb3JkaW5nIHRvIFJGQzM5ODYKICBmdW5jdGlvbiBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSB7CiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnQKICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKQogICAgICAucmVwbGFjZSgvWyEnKCkqXS9nLCBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KQogICAgICAucmVwbGFjZSgvXCovZywgJyUyQScpOwogIH0KICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmlzbzg4NTkgPSBmdW5jdGlvbigpIHsKICAgIFVSSS5lbmNvZGUgPSBlc2NhcGU7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgfTsKICBVUkkudW5pY29kZSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgfTsKICBVUkkuY2hhcmFjdGVycyA9IHsKICAgIHBhdGhuYW1lOiB7CiAgICAgIGVuY29kZTogewogICAgICAgIC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZAogICAgICAgIC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuCiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgLy8gLS5ffiEnKCkqCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNic6ICcmJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyU0MCc6ICdAJwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/I10vZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICcvJzogJyUyRicsCiAgICAgICAgICAnPyc6ICclM0YnLAogICAgICAgICAgJyMnOiAnJTIzJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlc2VydmVkOiB7CiAgICAgIGVuY29kZTogewogICAgICAgIC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZAogICAgICAgIC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuCiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjN8MjR8MjZ8Mjd8Mjh8Mjl8MkF8MkJ8MkN8MkZ8M0F8M0J8M0R8M0Z8NDB8NUJ8NUQpL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgLy8gZ2VuLWRlbGltcwogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclMkYnOiAnLycsCiAgICAgICAgICAnJTNGJzogJz8nLAogICAgICAgICAgJyUyMyc6ICcjJywKICAgICAgICAgICclNUInOiAnWycsCiAgICAgICAgICAnJTVEJzogJ10nLAogICAgICAgICAgJyU0MCc6ICdAJywKICAgICAgICAgIC8vIHN1Yi1kZWxpbXMKICAgICAgICAgICclMjEnOiAnIScsCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNic6ICcmJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHVybnBhdGg6IHsKICAgICAgLy8gVGhlIGNoYXJhY3RlcnMgdW5kZXIgYGVuY29kZWAgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDIDIxNDEgYXMgYmVpbmcgYWNjZXB0YWJsZQogICAgICAvLyBmb3IgdXNhZ2UgaW4gYSBVUk4uIFJGQzIxNDEgYWxzbyBjYWxscyBvdXQgIi0iLCAiLiIsIGFuZCAiXyIgYXMgYWNjZXB0YWJsZSBjaGFyYWN0ZXJzLCBidXQKICAgICAgLy8gdGhlc2UgYXJlbid0IGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50LCBzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgdGhlbSBvdXQgaGVyZS4gQWxzbwogICAgICAvLyBub3RlIHRoYXQgdGhlIGNvbG9uIGNoYXJhY3RlciBpcyBub3QgZmVhdHVyZWQgaW4gdGhlIGVuY29kaW5nIG1hcDsgdGhpcyBpcyBiZWNhdXNlIFVSSS5qcwogICAgICAvLyBnaXZlcyB0aGUgY29sb25zIGluIFVSTnMgc2VtYW50aWMgbWVhbmluZyBhcyB0aGUgZGVsaW1pdGVycyBvZiBwYXRoIHNlZ2VtZW50cywgYW5kIHNvIGl0CiAgICAgIC8vIHNob3VsZCBub3QgYXBwZWFyIHVuZW5jb2RlZCBpbiBhIHNlZ21lbnQgaXRzZWxmLgogICAgICAvLyBTZWUgYWxzbyB0aGUgbm90ZSBhYm92ZSBhYm91dCBSRkMzOTg2IGFuZCBjYXBpdGFsYWxpemVkIGhleCBkaWdpdHMuCiAgICAgIGVuY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICclMjEnOiAnIScsCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyU0MCc6ICdAJwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gVGhlc2UgY2hhcmFjdGVycyBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMyMTQxIGFzICJyZXNlcnZlZCIgY2hhcmFjdGVycyB0aGF0CiAgICAgIC8vIHNob3VsZCBuZXZlciBhcHBlYXIgaW4gYSBVUk4sIHBsdXMgdGhlIGNvbG9uIGNoYXJhY3RlciAoc2VlIG5vdGUgYWJvdmUpLgogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jOl0vZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICcvJzogJyUyRicsCiAgICAgICAgICAnPyc6ICclM0YnLAogICAgICAgICAgJyMnOiAnJTIzJywKICAgICAgICAgICc6JzogJyUzQScKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwogIFVSSS5lbmNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgdmFyIGVzY2FwZWQgPSBVUkkuZW5jb2RlKHN0cmluZyArICcnKTsKICAgIGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHsKICAgICAgZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlOwogICAgfQoKICAgIHJldHVybiBlc2NhcGVRdWVyeVNwYWNlID8gZXNjYXBlZC5yZXBsYWNlKC8lMjAvZywgJysnKSA6IGVzY2FwZWQ7CiAgfTsKICBVUkkuZGVjb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHN0cmluZyArPSAnJzsKICAgIGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHsKICAgICAgZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlOwogICAgfQoKICAgIHRyeSB7CiAgICAgIHJldHVybiBVUkkuZGVjb2RlKGVzY2FwZVF1ZXJ5U3BhY2UgPyBzdHJpbmcucmVwbGFjZSgvXCsvZywgJyUyMCcpIDogc3RyaW5nKTsKICAgIH0gY2F0Y2goZSkgewogICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncywKICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MgogICAgICByZXR1cm4gc3RyaW5nOwogICAgfQogIH07CiAgLy8gZ2VuZXJhdGUgZW5jb2RlL2RlY29kZSBwYXRoIGZ1bmN0aW9ucwogIHZhciBfcGFydHMgPSB7J2VuY29kZSc6J2VuY29kZScsICdkZWNvZGUnOidkZWNvZGUnfTsKICB2YXIgX3BhcnQ7CiAgdmFyIGdlbmVyYXRlQWNjZXNzb3IgPSBmdW5jdGlvbihfZ3JvdXAsIF9wYXJ0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIFVSSVtfcGFydF0oc3RyaW5nICsgJycpLnJlcGxhY2UoVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0uZXhwcmVzc2lvbiwgZnVuY3Rpb24oYykgewogICAgICAgICAgcmV0dXJuIFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLm1hcFtjXTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgfQogICAgfTsKICB9OwoKICBmb3IgKF9wYXJ0IGluIF9wYXJ0cykgewogICAgVVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pOwogICAgVVJJW19wYXJ0ICsgJ1VyblBhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCd1cm5wYXRoJywgX3BhcnRzW19wYXJ0XSk7CiAgfQoKICB2YXIgZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24gPSBmdW5jdGlvbihfc2VwLCBfY29kaW5nRnVuY05hbWUsIF9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIC8vIFdoeSBwYXNzIGluIG5hbWVzIG9mIGZ1bmN0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGZ1bmN0aW9uIG9iamVjdHMgdGhlbXNlbHZlcz8gVGhlCiAgICAgIC8vIGRlZmluaXRpb25zIG9mIHNvbWUgZnVuY3Rpb25zIChidXQgaW4gcGFydGljdWxhciwgVVJJLmRlY29kZSkgd2lsbCBvY2Nhc2lvbmFsbHkgY2hhbmdlIGR1ZQogICAgICAvLyB0byBVUkkuanMgaGF2aW5nIElTTzg4NTkgYW5kIFVuaWNvZGUgbW9kZXMuIFBhc3NpbmcgaW4gdGhlIG5hbWUgYW5kIGdldHRpbmcgaXQgd2lsbCBlbnN1cmUKICAgICAgLy8gdGhhdCB0aGUgZnVuY3Rpb25zIHdlIHVzZSBoZXJlIGFyZSAiZnJlc2giLgogICAgICB2YXIgYWN0dWFsQ29kaW5nRnVuYzsKICAgICAgaWYgKCFfaW5uZXJDb2RpbmdGdW5jTmFtZSkgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBVUklbX2NvZGluZ0Z1bmNOYW1lXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgICAgICByZXR1cm4gVVJJW19jb2RpbmdGdW5jTmFtZV0oVVJJW19pbm5lckNvZGluZ0Z1bmNOYW1lXShzdHJpbmcpKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgc2VnbWVudHMgPSAoc3RyaW5nICsgJycpLnNwbGl0KF9zZXApOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgc2VnbWVudHNbaV0gPSBhY3R1YWxDb2RpbmdGdW5jKHNlZ21lbnRzW2ldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oX3NlcCk7CiAgICB9OwogIH07CgogIC8vIFRoaXMgdGFrZXMgcGxhY2Ugb3V0c2lkZSB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGRvbid0IHdhbnQsIGUuZy4sIGVuY29kZVVyblBhdGggZnVuY3Rpb25zLgogIFVSSS5kZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZGVjb2RlUGF0aFNlZ21lbnQnKTsKICBVUkkuZGVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2RlY29kZVVyblBhdGhTZWdtZW50Jyk7CiAgVVJJLnJlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdlbmNvZGVQYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKICBVUkkucmVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2VuY29kZVVyblBhdGhTZWdtZW50JywgJ2RlY29kZScpOwoKICBVUkkuZW5jb2RlUmVzZXJ2ZWQgPSBnZW5lcmF0ZUFjY2Vzc29yKCdyZXNlcnZlZCcsICdlbmNvZGUnKTsKCiAgVVJJLnBhcnNlID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgdmFyIHBvczsKICAgIGlmICghcGFydHMpIHsKICAgICAgcGFydHMgPSB7fTsKICAgIH0KICAgIC8vIFtwcm90b2NvbCI6Ly8iW3VzZXJuYW1lWyI6InBhc3N3b3JkXSJAIl1ob3N0bmFtZVsiOiJwb3J0XSIvIj9dW3BhdGhdWyI/InF1ZXJ5c3RyaW5nXVsiIyJmcmFnbWVudF0KCiAgICAvLyBleHRyYWN0IGZyYWdtZW50CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignIycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5mcmFnbWVudCA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcXVlcnkKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc/Jyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLnF1ZXJ5ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBwcm90b2NvbAogICAgaWYgKHN0cmluZy5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHsKICAgICAgLy8gcmVsYXRpdmUtc2NoZW1lCiAgICAgIHBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygyKTsKICAgICAgLy8gZXh0cmFjdCAidXNlcjpwYXNzQGhvc3Q6cG9ydCIKICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgfSBlbHNlIHsKICAgICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJzonKTsKICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgcGFydHMucHJvdG9jb2wgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDsKICAgICAgICBpZiAocGFydHMucHJvdG9jb2wgJiYgIXBhcnRzLnByb3RvY29sLm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgLy8gOiBtYXkgYmUgd2l0aGluIHRoZSBwYXRoCiAgICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgMykgPT09ICcvLycpIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMyk7CgogICAgICAgICAgLy8gZXh0cmFjdCAidXNlcjpwYXNzQGhvc3Q6cG9ydCIKICAgICAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgICAgICAgIHBhcnRzLnVybiA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8gd2hhdCdzIGxlZnQgbXVzdCBiZSB0aGUgcGF0aAogICAgcGFydHMucGF0aCA9IHN0cmluZzsKCiAgICAvLyBhbmQgd2UncmUgZG9uZQogICAgcmV0dXJuIHBhcnRzOwogIH07CiAgVVJJLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLgogICAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzCiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9ibG9iLzM4NmZkMjRmNDliMGU5ZDFhOGEwNzY1OTJhNDA0MTY4ZmFlZWNjMzQvbGliL3VybC5qcyNMMTE1LUwxMjQKICAgIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9wdWxsLzIzMwogICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xcL2csICcvJyk7CgogICAgLy8gZXh0cmFjdCBob3N0OnBvcnQKICAgIHZhciBwb3MgPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgdmFyIGJyYWNrZXRQb3M7CiAgICB2YXIgdDsKCiAgICBpZiAocG9zID09PSAtMSkgewogICAgICBwb3MgPSBzdHJpbmcubGVuZ3RoOwogICAgfQoKICAgIGlmIChzdHJpbmcuY2hhckF0KDApID09PSAnWycpIHsKICAgICAgLy8gSVB2NiBob3N0IC0gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNCNzZWN0aW9uLTYKICAgICAgLy8gSSBjbGFpbSBtb3N0IGNsaWVudCBzb2Z0d2FyZSBicmVha3Mgb24gSVB2NiBhbnl3YXlzLiBUbyBzaW1wbGlmeSB0aGluZ3MsIFVSSSBvbmx5IGFjY2VwdHMKICAgICAgLy8gSVB2Nitwb3J0IGluIHRoZSBmb3JtYXQgWzIwMDE6ZGI4OjoxXTo4MCAoZm9yIHRoZSB0aW1lIGJlaW5nKQogICAgICBicmFja2V0UG9zID0gc3RyaW5nLmluZGV4T2YoJ10nKTsKICAgICAgcGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDEsIGJyYWNrZXRQb3MpIHx8IG51bGw7CiAgICAgIHBhcnRzLnBvcnQgPSBzdHJpbmcuc3Vic3RyaW5nKGJyYWNrZXRQb3MgKyAyLCBwb3MpIHx8IG51bGw7CiAgICAgIGlmIChwYXJ0cy5wb3J0ID09PSAnLycpIHsKICAgICAgICBwYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGZpcnN0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICAgIHZhciBuZXh0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicsIGZpcnN0Q29sb24gKyAxKTsKICAgICAgaWYgKG5leHRDb2xvbiAhPT0gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IG5leHRDb2xvbiA8IGZpcnN0U2xhc2gpKSB7CiAgICAgICAgLy8gSVB2NiBob3N0IGNvbnRhaW5zIG11bHRpcGxlIGNvbG9ucyAtIGJ1dCBubyBwb3J0CiAgICAgICAgLy8gdGhpcyBub3RhdGlvbiBpcyBhY3R1YWxseSBub3QgYWxsb3dlZCBieSBSRkMgMzk4NiwgYnV0IHdlJ3JlIGEgbGliZXJhbCBwYXJzZXIKICAgICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgICBwYXJ0cy5ob3N0bmFtZSA9IHRbMF0gfHwgbnVsbDsKICAgICAgICBwYXJ0cy5wb3J0ID0gdFsxXSB8fCBudWxsOwogICAgICB9CiAgICB9CgogICAgaWYgKHBhcnRzLmhvc3RuYW1lICYmIHN0cmluZy5zdWJzdHJpbmcocG9zKS5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBwb3MrKzsKICAgICAgc3RyaW5nID0gJy8nICsgc3RyaW5nOwogICAgfQoKICAgIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcykgfHwgJy8nOwogIH07CiAgVVJJLnBhcnNlQXV0aG9yaXR5ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgc3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7CiAgICByZXR1cm4gVVJJLnBhcnNlSG9zdChzdHJpbmcsIHBhcnRzKTsKICB9OwogIFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gZXh0cmFjdCB1c2VybmFtZTpwYXNzd29yZAogICAgdmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgdmFyIHBvcyA9IHN0cmluZy5sYXN0SW5kZXhPZignQCcsIGZpcnN0U2xhc2ggPiAtMSA/IGZpcnN0U2xhc2ggOiBzdHJpbmcubGVuZ3RoIC0gMSk7CiAgICB2YXIgdDsKCiAgICAvLyBhdXRob3JpdHlAIG11c3QgY29tZSBiZWZvcmUgL3BhdGgKICAgIGlmIChwb3MgPiAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgcG9zIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICBwYXJ0cy51c2VybmFtZSA9IHRbMF0gPyBVUkkuZGVjb2RlKHRbMF0pIDogbnVsbDsKICAgICAgdC5zaGlmdCgpOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IHRbMF0gPyBVUkkuZGVjb2RlKHQuam9pbignOicpKSA6IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICB9IGVsc2UgewogICAgICBwYXJ0cy51c2VybmFtZSA9IG51bGw7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gc3RyaW5nOwogIH07CiAgVVJJLnBhcnNlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICAvLyB0aHJvdyBvdXQgdGhlIGZ1bmt5IGJ1c2luZXNzIC0gIj8iW25hbWUiPSJ2YWx1ZSImIl0rCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvJisvZywgJyYnKS5yZXBsYWNlKC9eXD8qJip8JiskL2csICcnKTsKCiAgICBpZiAoIXN0cmluZykgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgdmFyIGl0ZW1zID0ge307CiAgICB2YXIgc3BsaXRzID0gc3RyaW5nLnNwbGl0KCcmJyk7CiAgICB2YXIgbGVuZ3RoID0gc3BsaXRzLmxlbmd0aDsKICAgIHZhciB2LCBuYW1lLCB2YWx1ZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHYgPSBzcGxpdHNbaV0uc3BsaXQoJz0nKTsKICAgICAgbmFtZSA9IFVSSS5kZWNvZGVRdWVyeSh2LnNoaWZ0KCksIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAvLyBubyAiPSIgaXMgbnVsbCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzCiAgICAgIHZhbHVlID0gdi5sZW5ndGggPyBVUkkuZGVjb2RlUXVlcnkodi5qb2luKCc9JyksIGVzY2FwZVF1ZXJ5U3BhY2UpIDogbnVsbDsKCiAgICAgIGlmIChoYXNPd24uY2FsbChpdGVtcywgbmFtZSkpIHsKICAgICAgICBpZiAodHlwZW9mIGl0ZW1zW25hbWVdID09PSAnc3RyaW5nJyB8fCBpdGVtc1tuYW1lXSA9PT0gbnVsbCkgewogICAgICAgICAgaXRlbXNbbmFtZV0gPSBbaXRlbXNbbmFtZV1dOwogICAgICAgIH0KCiAgICAgICAgaXRlbXNbbmFtZV0ucHVzaCh2YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpdGVtczsKICB9OwoKICBVUkkuYnVpbGQgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAocGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSBwYXJ0cy5wcm90b2NvbCArICc6JzsKICAgIH0KCiAgICBpZiAoIXBhcnRzLnVybiAmJiAodCB8fCBwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnLy8nOwogICAgfQoKICAgIHQgKz0gKFVSSS5idWlsZEF1dGhvcml0eShwYXJ0cykgfHwgJycpOwoKICAgIGlmICh0eXBlb2YgcGFydHMucGF0aCA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKHBhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycgJiYgdHlwZW9mIHBhcnRzLmhvc3RuYW1lID09PSAnc3RyaW5nJykgewogICAgICAgIHQgKz0gJy8nOwogICAgICB9CgogICAgICB0ICs9IHBhcnRzLnBhdGg7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycgJiYgcGFydHMucXVlcnkpIHsKICAgICAgdCArPSAnPycgKyBwYXJ0cy5xdWVyeTsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLmZyYWdtZW50ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5mcmFnbWVudCkgewogICAgICB0ICs9ICcjJyArIHBhcnRzLmZyYWdtZW50OwogICAgfQogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRIb3N0ID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKCFwYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gJyc7CiAgICB9IGVsc2UgaWYgKFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICdbJyArIHBhcnRzLmhvc3RuYW1lICsgJ10nOwogICAgfSBlbHNlIHsKICAgICAgdCArPSBwYXJ0cy5ob3N0bmFtZTsKICAgIH0KCiAgICBpZiAocGFydHMucG9ydCkgewogICAgICB0ICs9ICc6JyArIHBhcnRzLnBvcnQ7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRBdXRob3JpdHkgPSBmdW5jdGlvbihwYXJ0cykgewogICAgcmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpOwogIH07CiAgVVJJLmJ1aWxkVXNlcmluZm8gPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAocGFydHMudXNlcm5hbWUpIHsKICAgICAgdCArPSBVUkkuZW5jb2RlKHBhcnRzLnVzZXJuYW1lKTsKICAgIH0KCiAgICBpZiAocGFydHMucGFzc3dvcmQpIHsKICAgICAgdCArPSAnOicgKyBVUkkuZW5jb2RlKHBhcnRzLnBhc3N3b3JkKTsKICAgIH0KCiAgICBpZiAodCkgewogICAgICB0ICs9ICdAJzsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiBvciBodHRwOi8vbGFicy5hcGFjaGUub3JnL3dlYmFyY2gvdXJpL3JmYy9yZmMzOTg2Lmh0bWwKICAgIC8vIGJlaW5nIMK7LS5ffiEkJicoKSorLDs9OkAvP8KrICVIRVggYW5kIGFsbnVtIGFyZSBhbGxvd2VkCiAgICAvLyB0aGUgUkZDIGV4cGxpY2l0bHkgc3RhdGVzID8vZm9vIGJlaW5nIGEgdmFsaWQgdXNlIGNhc2UsIG5vIG1lbnRpb24gb2YgcGFyYW1ldGVyIHN5bnRheCEKICAgIC8vIFVSSS5qcyB0cmVhdHMgdGhlIHF1ZXJ5IHN0cmluZyBhcyBiZWluZyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUKCiAgICB2YXIgdCA9ICcnOwogICAgdmFyIHVuaXF1ZSwga2V5LCBpLCBsZW5ndGg7CiAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpICYmIGtleSkgewogICAgICAgIGlmIChpc0FycmF5KGRhdGFba2V5XSkpIHsKICAgICAgICAgIHVuaXF1ZSA9IHt9OwogICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YVtrZXldLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChkYXRhW2tleV1baV0gIT09IHVuZGVmaW5lZCAmJiB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldW2ldLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgICAgICAgICBpZiAoZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdC5zdWJzdHJpbmcoMSk7CiAgfTsKICBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUgLS0gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBkb24ndCBhcHBlbmQgIj0iIGZvciBudWxsIHZhbHVlcywgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjdXJsLXBhcmFtZXRlci1zZXJpYWxpemF0aW9uCiAgICByZXR1cm4gVVJJLmVuY29kZVF1ZXJ5KG5hbWUsIGVzY2FwZVF1ZXJ5U3BhY2UpICsgKHZhbHVlICE9PSBudWxsID8gJz0nICsgVVJJLmVuY29kZVF1ZXJ5KHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSA6ICcnKTsKICB9OwoKICBVUkkuYWRkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBVUkkuYWRkUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKGRhdGFbbmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGFbbmFtZV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IFtkYXRhW25hbWVdXTsKICAgICAgfQoKICAgICAgaWYgKCFpc0FycmF5KHZhbHVlKSkgewogICAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgICAgfQoKICAgICAgZGF0YVtuYW1lXSA9IChkYXRhW25hbWVdIHx8IFtdKS5jb25jYXQodmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwogIFVSSS5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaSwgbGVuZ3RoLCBrZXk7CgogICAgaWYgKGlzQXJyYXkobmFtZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGRhdGFbbmFtZVtpXV0gPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZ2V0VHlwZShuYW1lKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgZm9yIChrZXkgaW4gZGF0YSkgewogICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yIChrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkgJiYgdmFsdWUudGVzdChkYXRhW25hbWVdKSkgewogICAgICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGFbbmFtZV0gPT09IFN0cmluZyh2YWx1ZSkgJiYgKCFpc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLnJlbW92ZVF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZywgUmVnRXhwIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwogIFVSSS5oYXNRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgc3dpdGNoIChnZXRUeXBlKG5hbWUpKSB7CiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSkgewogICAgICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkgJiYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgVVJJLmhhc1F1ZXJ5KGRhdGEsIGtleSwgdmFsdWUpKSkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICBjYXNlICdPYmplY3QnOgogICAgICAgIGZvciAodmFyIF9rZXkgaW4gbmFtZSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIF9rZXkpKSB7CiAgICAgICAgICAgIGlmICghVVJJLmhhc1F1ZXJ5KGRhdGEsIF9rZXksIG5hbWVbX2tleV0pKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhIHN0cmluZywgcmVndWxhciBleHByZXNzaW9uIG9yIG9iamVjdCBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICBzd2l0Y2ggKGdldFR5cGUodmFsdWUpKSB7CiAgICAgIGNhc2UgJ1VuZGVmaW5lZCc6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpCiAgICAgICAgcmV0dXJuIG5hbWUgaW4gZGF0YTsgLy8gZGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkOwoKICAgICAgY2FzZSAnQm9vbGVhbic6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgYW5kIG5vbi1lbXB0eQogICAgICAgIHZhciBfYm9vbHkgPSBCb29sZWFuKGlzQXJyYXkoZGF0YVtuYW1lXSkgPyBkYXRhW25hbWVdLmxlbmd0aCA6IGRhdGFbbmFtZV0pOwogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5OwoKICAgICAgY2FzZSAnRnVuY3Rpb24nOgogICAgICAgIC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvbgogICAgICAgIHJldHVybiAhIXZhbHVlKGRhdGFbbmFtZV0sIG5hbWUsIGRhdGEpOwoKICAgICAgY2FzZSAnQXJyYXknOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIG9wID0gd2l0aGluQXJyYXkgPyBhcnJheUNvbnRhaW5zIDogYXJyYXlzRXF1YWw7CiAgICAgICAgcmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gQm9vbGVhbihkYXRhW25hbWVdICYmIGRhdGFbbmFtZV0ubWF0Y2godmFsdWUpKTsKICAgICAgICB9CgogICAgICAgIGlmICghd2l0aGluQXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ051bWJlcic6CiAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpOwogICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBkYXRhW25hbWVdID09PSB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIGlmICghd2l0aGluQXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBSZWdFeHAsIEZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwoKCiAgVVJJLmpvaW5QYXRocyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGlucHV0ID0gW107CiAgICB2YXIgc2VnbWVudHMgPSBbXTsKICAgIHZhciBub25FbXB0eVNlZ21lbnRzID0gMDsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdXJsID0gbmV3IFVSSShhcmd1bWVudHNbaV0pOwogICAgICBpbnB1dC5wdXNoKHVybCk7CiAgICAgIHZhciBfc2VnbWVudHMgPSB1cmwuc2VnbWVudCgpOwogICAgICBmb3IgKHZhciBzID0gMDsgcyA8IF9zZWdtZW50cy5sZW5ndGg7IHMrKykgewogICAgICAgIGlmICh0eXBlb2YgX3NlZ21lbnRzW3NdID09PSAnc3RyaW5nJykgewogICAgICAgICAgc2VnbWVudHMucHVzaChfc2VnbWVudHNbc10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9zZWdtZW50c1tzXSkgewogICAgICAgICAgbm9uRW1wdHlTZWdtZW50cysrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghc2VnbWVudHMubGVuZ3RoIHx8ICFub25FbXB0eVNlZ21lbnRzKSB7CiAgICAgIHJldHVybiBuZXcgVVJJKCcnKTsKICAgIH0KCiAgICB2YXIgdXJpID0gbmV3IFVSSSgnJykuc2VnbWVudChzZWdtZW50cyk7CgogICAgaWYgKGlucHV0WzBdLnBhdGgoKSA9PT0gJycgfHwgaW5wdXRbMF0ucGF0aCgpLnNsaWNlKDAsIDEpID09PSAnLycpIHsKICAgICAgdXJpLnBhdGgoJy8nICsgdXJpLnBhdGgoKSk7CiAgICB9CgogICAgcmV0dXJuIHVyaS5ub3JtYWxpemUoKTsKICB9OwoKICBVUkkuY29tbW9uUGF0aCA9IGZ1bmN0aW9uKG9uZSwgdHdvKSB7CiAgICB2YXIgbGVuZ3RoID0gTWF0aC5taW4ob25lLmxlbmd0aCwgdHdvLmxlbmd0aCk7CiAgICB2YXIgcG9zOwoKICAgIC8vIGZpbmQgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlcgogICAgZm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmIChvbmUuY2hhckF0KHBvcykgIT09IHR3by5jaGFyQXQocG9zKSkgewogICAgICAgIHBvcy0tOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKHBvcyA8IDEpIHsKICAgICAgcmV0dXJuIG9uZS5jaGFyQXQoMCkgPT09IHR3by5jaGFyQXQoMCkgJiYgb25lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIGxhc3QgLwogICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gJy8nIHx8IHR3by5jaGFyQXQocG9zKSAhPT0gJy8nKSB7CiAgICAgIHBvcyA9IG9uZS5zdWJzdHJpbmcoMCwgcG9zKS5sYXN0SW5kZXhPZignLycpOwogICAgfQoKICAgIHJldHVybiBvbmUuc3Vic3RyaW5nKDAsIHBvcyArIDEpOwogIH07CgogIFVSSS53aXRoaW5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcsIGNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pOwogICAgdmFyIF9zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgVVJJLmZpbmRVcmkuc3RhcnQ7CiAgICB2YXIgX2VuZCA9IG9wdGlvbnMuZW5kIHx8IFVSSS5maW5kVXJpLmVuZDsKICAgIHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltOwogICAgdmFyIF9hdHRyaWJ1dGVPcGVuID0gL1thLXowLTktXT1bIiddPyQvaTsKCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7CiAgICAgIGlmICghbWF0Y2gpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHsKICAgICAgICAvLyBhdHRyaWJ1dChlPVsiJ10/JCkKICAgICAgICB2YXIgYXR0cmlidXRlT3BlbiA9IHN0cmluZy5zbGljZShNYXRoLm1heChzdGFydCAtIDMsIDApLCBzdGFydCk7CiAgICAgICAgaWYgKGF0dHJpYnV0ZU9wZW4gJiYgX2F0dHJpYnV0ZU9wZW4udGVzdChhdHRyaWJ1dGVPcGVuKSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZW5kID0gc3RhcnQgKyBzdHJpbmcuc2xpY2Uoc3RhcnQpLnNlYXJjaChfZW5kKTsKICAgICAgdmFyIHNsaWNlID0gc3RyaW5nLnNsaWNlKHN0YXJ0LCBlbmQpLnJlcGxhY2UoX3RyaW0sICcnKTsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlICYmIG9wdGlvbnMuaWdub3JlLnRlc3Qoc2xpY2UpKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGVuZCA9IHN0YXJ0ICsgc2xpY2UubGVuZ3RoOwogICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soc2xpY2UsIHN0YXJ0LCBlbmQsIHN0cmluZyk7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBzdGFydCkgKyByZXN1bHQgKyBzdHJpbmcuc2xpY2UoZW5kKTsKICAgICAgX3N0YXJ0Lmxhc3RJbmRleCA9IHN0YXJ0ICsgcmVzdWx0Lmxlbmd0aDsKICAgIH0KCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKCiAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUgPSBmdW5jdGlvbih2KSB7CiAgICAvLyBUaGVvcmV0aWNhbGx5IFVSSXMgYWxsb3cgcGVyY2VudC1lbmNvZGluZyBpbiBIb3N0bmFtZXMgKGFjY29yZGluZyB0byBSRkMgMzk4NikKICAgIC8vIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIEROUyBhbmQgdGhlcmVmb3JlIGlnbm9yZWQgYnkgVVJJLmpzCgogICAgaWYgKHYubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHsKICAgICAgLy8gdGVzdCBwdW55Y29kZQogICAgICBpZiAoIXB1bnljb2RlKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTsKICAgICAgfQoKICAgICAgaWYgKHB1bnljb2RlLnRvQVNDSUkodikubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbm9Db25mbGljdAogIFVSSS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24ocmVtb3ZlQWxsKSB7CiAgICBpZiAocmVtb3ZlQWxsKSB7CiAgICAgIHZhciB1bmNvbmZsaWN0ZWQgPSB7CiAgICAgICAgVVJJOiB0aGlzLm5vQ29uZmxpY3QoKQogICAgICB9OwoKICAgICAgaWYgKHJvb3QuVVJJVGVtcGxhdGUgJiYgdHlwZW9mIHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5VUklUZW1wbGF0ZSA9IHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5JUHY2ICYmIHR5cGVvZiByb290LklQdjYubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5JUHY2ID0gcm9vdC5JUHY2Lm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zICYmIHR5cGVvZiByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlNlY29uZExldmVsRG9tYWlucyA9IHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuY29uZmxpY3RlZDsKICAgIH0gZWxzZSBpZiAocm9vdC5VUkkgPT09IHRoaXMpIHsKICAgICAgcm9vdC5VUkkgPSBfVVJJOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuYnVpbGQgPSBmdW5jdGlvbihkZWZlckJ1aWxkKSB7CiAgICBpZiAoZGVmZXJCdWlsZCA9PT0gdHJ1ZSkgewogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkgewogICAgICB0aGlzLl9zdHJpbmcgPSBVUkkuYnVpbGQodGhpcy5fcGFydHMpOwogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuY2xvbmUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBuZXcgVVJJKHRoaXMpOwogIH07CgogIHAudmFsdWVPZiA9IHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmJ1aWxkKGZhbHNlKS5fc3RyaW5nOwogIH07CgoKICBmdW5jdGlvbiBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKF9wYXJ0KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2IHx8IG51bGw7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcihfcGFydCwgX2tleSl7CiAgICByZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHYgIT09IG51bGwpIHsKICAgICAgICAgIHYgPSB2ICsgJyc7CiAgICAgICAgICBpZiAodi5jaGFyQXQoMCkgPT09IF9rZXkpIHsKICAgICAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHNbX3BhcnRdID0gdjsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBwLnByb3RvY29sID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncHJvdG9jb2wnKTsKICBwLnVzZXJuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigndXNlcm5hbWUnKTsKICBwLnBhc3N3b3JkID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncGFzc3dvcmQnKTsKICBwLmhvc3RuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcignaG9zdG5hbWUnKTsKICBwLnBvcnQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwb3J0Jyk7CiAgcC5xdWVyeSA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ3F1ZXJ5JywgJz8nKTsKICBwLmZyYWdtZW50ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcignZnJhZ21lbnQnLCAnIycpOwoKICBwLnNlYXJjaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnPycgKyB0KSA6IHQ7CiAgfTsKICBwLmhhc2ggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHQgPSB0aGlzLmZyYWdtZW50KHYsIGJ1aWxkKTsKICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJyMnICsgdCkgOiB0OwogIH07CgogIHAucGF0aG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTsKICAgICAgcmV0dXJuIHYgPyAodGhpcy5fcGFydHMudXJuID8gVVJJLmRlY29kZVVyblBhdGggOiBVUkkuZGVjb2RlUGF0aCkocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVVcm5QYXRoKHYpIDogJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlUGF0aCh2KSA6ICcvJzsKICAgICAgfQogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5wYXRoID0gcC5wYXRobmFtZTsKICBwLmhyZWYgPSBmdW5jdGlvbihocmVmLCBidWlsZCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoaHJlZiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7CiAgICB9CgogICAgdGhpcy5fc3RyaW5nID0gJyc7CiAgICB0aGlzLl9wYXJ0cyA9IFVSSS5fcGFydHMoKTsKCiAgICB2YXIgX1VSSSA9IGhyZWYgaW5zdGFuY2VvZiBVUkk7CiAgICB2YXIgX29iamVjdCA9IHR5cGVvZiBocmVmID09PSAnb2JqZWN0JyAmJiAoaHJlZi5ob3N0bmFtZSB8fCBocmVmLnBhdGggfHwgaHJlZi5wYXRobmFtZSk7CiAgICBpZiAoaHJlZi5ub2RlTmFtZSkgewogICAgICB2YXIgYXR0cmlidXRlID0gVVJJLmdldERvbUF0dHJpYnV0ZShocmVmKTsKICAgICAgaHJlZiA9IGhyZWZbYXR0cmlidXRlXSB8fCAnJzsKICAgICAgX29iamVjdCA9IGZhbHNlOwogICAgfQoKICAgIC8vIHdpbmRvdy5sb2NhdGlvbiBpcyByZXBvcnRlZCB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCdzIG5vdCB0aGUgc29ydAogICAgLy8gb2Ygb2JqZWN0IHdlJ3JlIGxvb2tpbmcgZm9yOgogICAgLy8gKiBsb2NhdGlvbi5wcm90b2NvbCBlbmRzIHdpdGggYSBjb2xvbgogICAgLy8gKiBsb2NhdGlvbi5xdWVyeSAhPSBvYmplY3Quc2VhcmNoCiAgICAvLyAqIGxvY2F0aW9uLmhhc2ggIT0gb2JqZWN0LmZyYWdtZW50CiAgICAvLyBzaW1wbHkgc2VyaWFsaXppbmcgdGhlIHVua25vd24gb2JqZWN0IHNob3VsZCBkbyB0aGUgdHJpY2sKICAgIC8vIChmb3IgbG9jYXRpb24sIG5vdCBmb3IgZXZlcnl0aGluZy4uLikKICAgIGlmICghX1VSSSAmJiBfb2JqZWN0ICYmIGhyZWYucGF0aG5hbWUgIT09IHVuZGVmaW5lZCkgewogICAgICBocmVmID0gaHJlZi50b1N0cmluZygpOwogICAgfQoKICAgIGlmICh0eXBlb2YgaHJlZiA9PT0gJ3N0cmluZycgfHwgaHJlZiBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICB0aGlzLl9wYXJ0cyA9IFVSSS5wYXJzZShTdHJpbmcoaHJlZiksIHRoaXMuX3BhcnRzKTsKICAgIH0gZWxzZSBpZiAoX1VSSSB8fCBfb2JqZWN0KSB7CiAgICAgIHZhciBzcmMgPSBfVVJJID8gaHJlZi5fcGFydHMgOiBocmVmOwogICAgICBmb3IgKGtleSBpbiBzcmMpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwodGhpcy5fcGFydHMsIGtleSkpIHsKICAgICAgICAgIHRoaXMuX3BhcnRzW2tleV0gPSBzcmNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaW5wdXQnKTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBpZGVudGlmaWNhdGlvbiBhY2Nlc3NvcnMKICBwLmlzID0gZnVuY3Rpb24od2hhdCkgewogICAgdmFyIGlwID0gZmFsc2U7CiAgICB2YXIgaXA0ID0gZmFsc2U7CiAgICB2YXIgaXA2ID0gZmFsc2U7CiAgICB2YXIgbmFtZSA9IGZhbHNlOwogICAgdmFyIHNsZCA9IGZhbHNlOwogICAgdmFyIGlkbiA9IGZhbHNlOwogICAgdmFyIHB1bnljb2RlID0gZmFsc2U7CiAgICB2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuOwoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZWxhdGl2ZSA9IGZhbHNlOwogICAgICBpcDQgPSBVUkkuaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwNiA9IFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXAgPSBpcDQgfHwgaXA2OwogICAgICBuYW1lID0gIWlwOwogICAgICBzbGQgPSBuYW1lICYmIFNMRCAmJiBTTEQuaGFzKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIHB1bnljb2RlID0gbmFtZSAmJiBVUkkucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgIH0KCiAgICBzd2l0Y2ggKHdoYXQudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdyZWxhdGl2ZSc6CiAgICAgICAgcmV0dXJuIHJlbGF0aXZlOwoKICAgICAgY2FzZSAnYWJzb2x1dGUnOgogICAgICAgIHJldHVybiAhcmVsYXRpdmU7CgogICAgICAvLyBob3N0bmFtZSBpZGVudGlmaWNhdGlvbgogICAgICBjYXNlICdkb21haW4nOgogICAgICBjYXNlICduYW1lJzoKICAgICAgICByZXR1cm4gbmFtZTsKCiAgICAgIGNhc2UgJ3NsZCc6CiAgICAgICAgcmV0dXJuIHNsZDsKCiAgICAgIGNhc2UgJ2lwJzoKICAgICAgICByZXR1cm4gaXA7CgogICAgICBjYXNlICdpcDQnOgogICAgICBjYXNlICdpcHY0JzoKICAgICAgY2FzZSAnaW5ldDQnOgogICAgICAgIHJldHVybiBpcDQ7CgogICAgICBjYXNlICdpcDYnOgogICAgICBjYXNlICdpcHY2JzoKICAgICAgY2FzZSAnaW5ldDYnOgogICAgICAgIHJldHVybiBpcDY7CgogICAgICBjYXNlICdpZG4nOgogICAgICAgIHJldHVybiBpZG47CgogICAgICBjYXNlICd1cmwnOgogICAgICAgIHJldHVybiAhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAndXJuJzoKICAgICAgICByZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICdwdW55Y29kZSc6CiAgICAgICAgcmV0dXJuIHB1bnljb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH07CgogIC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uCiAgdmFyIF9wcm90b2NvbCA9IHAucHJvdG9jb2w7CiAgdmFyIF9wb3J0ID0gcC5wb3J0OwogIHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lOwoKICBwLnByb3RvY29sID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKHYpIHsKICAgICAgICAvLyBhY2NlcHQgdHJhaWxpbmcgOi8vCiAgICAgICAgdiA9IHYucmVwbGFjZSgvOihcL1wvKT8kLywgJycpOwoKICAgICAgICBpZiAoIXYubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm90b2NvbCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc25cJ3Qgc3RhcnQgd2l0aCBbQS1aXScpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIF9wcm90b2NvbC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuc2NoZW1lID0gcC5wcm90b2NvbDsKICBwLnBvcnQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKHYgPT09IDApIHsKICAgICAgICB2ID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHYpIHsKICAgICAgICB2ICs9ICcnOwogICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJzonKSB7CiAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5tYXRjaCgvW14wLTldLykpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BvcnQgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3BvcnQuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLmhvc3RuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB4ID0ge307CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHgpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB2ID0geC5ob3N0bmFtZTsKICAgIH0KICAgIHJldHVybiBfaG9zdG5hbWUuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gY29tcG91bmQgYWNjZXNzb3JzCiAgcC5vcmlnaW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCgpOwogICAgICB2YXIgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHkoKTsKICAgICAgaWYgKCFhdXRob3JpdHkpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHJldHVybiAocHJvdG9jb2wgPyBwcm90b2NvbCArICc6Ly8nIDogJycpICsgdGhpcy5hdXRob3JpdHkoKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvcmlnaW4gPSBVUkkodik7CiAgICAgIHRoaXMKICAgICAgICAucHJvdG9jb2wob3JpZ2luLnByb3RvY29sKCkpCiAgICAgICAgLmF1dGhvcml0eShvcmlnaW4uYXV0aG9yaXR5KCkpCiAgICAgICAgLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5ob3N0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEhvc3QodGhpcy5fcGFydHMpIDogJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmF1dGhvcml0eSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRBdXRob3JpdHkodGhpcy5fcGFydHMpIDogJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlQXV0aG9yaXR5KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAudXNlcmluZm8gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHQgPSBVUkkuYnVpbGRVc2VyaW5mbyh0aGlzLl9wYXJ0cyk7CiAgICAgIHJldHVybiB0ID8gdC5zdWJzdHJpbmcoMCwgdC5sZW5ndGggLTEpIDogdDsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2W3YubGVuZ3RoLTFdICE9PSAnQCcpIHsKICAgICAgICB2ICs9ICdAJzsKICAgICAgfQoKICAgICAgVVJJLnBhcnNlVXNlcmluZm8odiwgdGhpcy5fcGFydHMpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5yZXNvdXJjZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgcGFydHM7CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5wYXRoKCkgKyB0aGlzLnNlYXJjaCgpICsgdGhpcy5oYXNoKCk7CiAgICB9CgogICAgcGFydHMgPSBVUkkucGFyc2Uodik7CiAgICB0aGlzLl9wYXJ0cy5wYXRoID0gcGFydHMucGF0aDsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gcGFydHMucXVlcnk7CiAgICB0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IHBhcnRzLmZyYWdtZW50OwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gZnJhY3Rpb24gYWNjZXNzb3JzCiAgcC5zdWJkb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIC8vIGNvbnZlbmllbmNlLCByZXR1cm4gInd3dyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgZG9tYWluIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7CiAgICAgIHZhciBzdWIgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChzdWIpKTsKCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcuJykgewogICAgICAgIHYgKz0gJy4nOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIC8vIGNvbnZlbmllbmNlLCByZXR1cm4gImV4YW1wbGUub3JnIiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gaWYgaG9zdG5hbWUgY29uc2lzdHMgb2YgMSBvciAyIHNlZ21lbnRzLCBpdCBtdXN0IGJlIHRoZSBkb21haW4KICAgICAgdmFyIHQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5tYXRjaCgvXC4vZyk7CiAgICAgIGlmICh0ICYmIHQubGVuZ3RoIDwgMikgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZTsKICAgICAgfQoKICAgICAgLy8gZ3JhYiB0bGQgYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMudGxkKGJ1aWxkKS5sZW5ndGggLSAxOwogICAgICBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicsIGVuZCAtMSkgKyAxOwogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKGVuZCkgfHwgJyc7CiAgICB9IGVsc2UgewogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eScpOwogICAgICB9CgogICAgICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTsKCiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5kb21haW4oKSkgKyAnJCcpOwogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAudGxkID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gcmV0dXJuICJvcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTsKCiAgICAgIGlmIChidWlsZCAhPT0gdHJ1ZSAmJiBTTEQgJiYgU0xELmxpc3RbdGxkLnRvTG93ZXJDYXNlKCldKSB7CiAgICAgICAgcmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRsZDsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBUTEQgZW1wdHknKTsKICAgICAgfSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHsKICAgICAgICBpZiAoU0xEICYmIFNMRC5pcyh2KSkgewogICAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBvbiBub24tZG9tYWluIGhvc3QnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kaXJlY3RvcnkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggJiYgIXRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcvJzsKICAgICAgfQoKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aCAtIDE7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlbmQpIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTsKCiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGgocmVzKSA6IHJlczsKCiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aDsKICAgICAgdmFyIGRpcmVjdG9yeSA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoZGlyZWN0b3J5KSk7CgogICAgICAvLyBmdWxseSBxdWFsaWZpZXIgZGlyZWN0b3JpZXMgYmVnaW4gd2l0aCBhIHNsYXNoCiAgICAgIGlmICghdGhpcy5pcygncmVsYXRpdmUnKSkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgdiA9ICcvJzsKICAgICAgICB9CgogICAgICAgIGlmICh2LmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgICAgICB2ID0gJy8nICsgdjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGRpcmVjdG9yaWVzIGFsd2F5cyBlbmQgd2l0aCBhIHNsYXNoCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcvJykgewogICAgICAgIHYgKz0gJy8nOwogICAgICB9CgogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmZpbGVuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHRoaXMuX3BhcnRzLnBhdGgubGFzdEluZGV4T2YoJy8nKTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKHBvcysxKTsKCiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICB2YXIgbXV0YXRlZERpcmVjdG9yeSA9IGZhbHNlOwoKICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnLycpIHsKICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIGlmICh2Lm1hdGNoKC9cLj9cLy8pKSB7CiAgICAgICAgbXV0YXRlZERpcmVjdG9yeSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTsKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwoKICAgICAgaWYgKG11dGF0ZWREaXJlY3RvcnkpIHsKICAgICAgICB0aGlzLm5vcm1hbGl6ZVBhdGgoYnVpbGQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnN1ZmZpeCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWUoKTsKICAgICAgdmFyIHBvcyA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIHZhciBzLCByZXM7CgogICAgICBpZiAocG9zID09PSAtMSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gc3VmZml4IG1heSBvbmx5IGNvbnRhaW4gYWxudW0gY2hhcmFjdGVycyAoeXVwLCBJIG1hZGUgdGhpcyB1cC4pCiAgICAgIHMgPSBmaWxlbmFtZS5zdWJzdHJpbmcocG9zKzEpOwogICAgICByZXMgPSAoL15bYS16MC05JV0rJC9pKS50ZXN0KHMpID8gcyA6ICcnOwogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnLicpIHsKICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIHZhciBzdWZmaXggPSB0aGlzLnN1ZmZpeCgpOwogICAgICB2YXIgcmVwbGFjZTsKCiAgICAgIGlmICghc3VmZml4KSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggKz0gJy4nICsgVVJJLnJlY29kZVBhdGgodik7CiAgICAgIH0gZWxzZSBpZiAoIXYpIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCgnLicgKyBzdWZmaXgpICsgJyQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeChzdWZmaXgpICsgJyQnKTsKICAgICAgfQoKICAgICAgaWYgKHJlcGxhY2UpIHsKICAgICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc2VnbWVudCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7CiAgICB2YXIgc2VwYXJhdG9yID0gdGhpcy5fcGFydHMudXJuID8gJzonIDogJy8nOwogICAgdmFyIHBhdGggPSB0aGlzLnBhdGgoKTsKICAgIHZhciBhYnNvbHV0ZSA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLyc7CiAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KHNlcGFyYXRvcik7CgogICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWdtZW50ICInICsgc2VnbWVudCArICciLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpOwogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfQoKICAgIGlmIChzZWdtZW50IDwgMCkgewogICAgICAvLyBhbGxvdyBuZWdhdGl2ZSBpbmRleGVzIHRvIGFkZHJlc3MgZnJvbSB0aGUgZW5kCiAgICAgIHNlZ21lbnQgPSBNYXRoLm1heChzZWdtZW50cy5sZW5ndGggKyBzZWdtZW50LCAwKTsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovCiAgICAgIHJldHVybiBzZWdtZW50ID09PSB1bmRlZmluZWQKICAgICAgICA/IHNlZ21lbnRzCiAgICAgICAgOiBzZWdtZW50c1tzZWdtZW50XTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICB9IGVsc2UgaWYgKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudHNbc2VnbWVudF0gPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoaXNBcnJheSh2KSkgewogICAgICAgIHNlZ21lbnRzID0gW107CiAgICAgICAgLy8gY29sbGFwc2UgZW1wdHkgZWxlbWVudHMgd2l0aGluIGFycmF5CiAgICAgICAgZm9yICh2YXIgaT0wLCBsPXYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCAmJiAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpIHsKICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7CiAgICAgICAgICB9CgogICAgICAgICAgc2VnbWVudHMucHVzaCh0cmltU2xhc2hlcyh2W2ldKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHYgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdiA9IHRyaW1TbGFzaGVzKHYpOwogICAgICAgIGlmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID09PSAnJykgewogICAgICAgICAgLy8gZW1wdHkgdHJhaWxpbmcgZWxlbWVudHMgaGF2ZSB0byBiZSBvdmVyd3JpdHRlbgogICAgICAgICAgLy8gdG8gcHJldmVudCByZXN1bHRzIHN1Y2ggYXMgL2Zvby8vYmFyCiAgICAgICAgICBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID0gdjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VnbWVudHMucHVzaCh2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgc2VnbWVudHNbc2VnbWVudF0gPSB0cmltU2xhc2hlcyh2KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoYWJzb2x1dGUpIHsKICAgICAgc2VnbWVudHMudW5zaGlmdCgnJyk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMucGF0aChzZWdtZW50cy5qb2luKHNlcGFyYXRvciksIGJ1aWxkKTsKICB9OwogIHAuc2VnbWVudENvZGVkID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZWdtZW50cywgaSwgbDsKCiAgICBpZiAodHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHNlZ21lbnQ7CiAgICAgIHNlZ21lbnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBzZWdtZW50cyA9IHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7CiAgICAgIGlmICghaXNBcnJheShzZWdtZW50cykpIHsKICAgICAgICBzZWdtZW50cyA9IHNlZ21lbnRzICE9PSB1bmRlZmluZWQgPyBVUkkuZGVjb2RlKHNlZ21lbnRzKSA6IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKGkgPSAwLCBsID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBzZWdtZW50c1tpXSA9IFVSSS5kZWNvZGUoc2VnbWVudHNbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHNlZ21lbnRzOwogICAgfQoKICAgIGlmICghaXNBcnJheSh2KSkgewogICAgICB2ID0gKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB2IGluc3RhbmNlb2YgU3RyaW5nKSA/IFVSSS5lbmNvZGUodikgOiB2OwogICAgfSBlbHNlIHsKICAgICAgZm9yIChpID0gMCwgbCA9IHYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdltpXSA9IFVSSS5lbmNvZGUodltpXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBtdXRhdGluZyBxdWVyeSBzdHJpbmcKICB2YXIgcSA9IHAucXVlcnk7CiAgcC5xdWVyeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdHJ1ZSkgewogICAgICByZXR1cm4gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdmFyIHJlc3VsdCA9IHYuY2FsbCh0aGlzLCBkYXRhKTsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShyZXN1bHQgfHwgZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2ICE9PSAnc3RyaW5nJykgewogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHYsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICAgIH0KICB9OwogIHAuc2V0UXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwoKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgbmFtZSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICBkYXRhW25hbWVdID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogbnVsbDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIGRhdGFba2V5XSA9IG5hbWVba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5hZGRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSk7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmhhc1F1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIHJldHVybiBVUkkuaGFzUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KTsKICB9OwogIHAuc2V0U2VhcmNoID0gcC5zZXRRdWVyeTsKICBwLmFkZFNlYXJjaCA9IHAuYWRkUXVlcnk7CiAgcC5yZW1vdmVTZWFyY2ggPSBwLnJlbW92ZVF1ZXJ5OwogIHAuaGFzU2VhcmNoID0gcC5oYXNRdWVyeTsKCiAgLy8gc2FuaXRpemluZyBVUkxzCiAgcC5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHRoaXMKICAgICAgICAubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkKICAgICAgICAuYnVpbGQoKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcwogICAgICAubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpCiAgICAgIC5ub3JtYWxpemVIb3N0bmFtZShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBvcnQoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVQYXRoKGZhbHNlKQogICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkKICAgICAgLmJ1aWxkKCk7CiAgfTsKICBwLm5vcm1hbGl6ZVByb3RvY29sID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHRoaXMuaXMoJ0lETicpICYmIHB1bnljb2RlKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzKCdJUHY2JykgJiYgSVB2NikgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gSVB2Ni5iZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgfQoKICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBvcnQgPSBmdW5jdGlvbihidWlsZCkgewogICAgLy8gcmVtb3ZlIHBvcnQgb2YgaXQncyB0aGUgcHJvdG9jb2wncyBkZWZhdWx0CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJyAmJiB0aGlzLl9wYXJ0cy5wb3J0ID09PSBVUkkuZGVmYXVsdFBvcnRzW3RoaXMuX3BhcnRzLnByb3RvY29sXSkgewogICAgICB0aGlzLl9wYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7CiAgICBpZiAoIV9wYXRoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgX3BhdGggPSBVUkkucmVjb2RlUGF0aChfcGF0aCk7CgogICAgdmFyIF93YXNfcmVsYXRpdmU7CiAgICB2YXIgX2xlYWRpbmdQYXJlbnRzID0gJyc7CiAgICB2YXIgX3BhcmVudCwgX3BvczsKCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMKICAgIGlmIChfcGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBfd2FzX3JlbGF0aXZlID0gdHJ1ZTsKICAgICAgX3BhdGggPSAnLycgKyBfcGF0aDsKICAgIH0KCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgZmlsZXMgKGFzIG9wcG9zZWQgdG8gZGlyZWN0b3JpZXMpCiAgICBpZiAoX3BhdGguc2xpY2UoLTMpID09PSAnLy4uJyB8fCBfcGF0aC5zbGljZSgtMikgPT09ICcvLicpIHsKICAgICAgX3BhdGggKz0gJy8nOwogICAgfQoKICAgIC8vIHJlc29sdmUgc2ltcGxlcwogICAgX3BhdGggPSBfcGF0aAogICAgICAucmVwbGFjZSgvKFwvKFwuXC8pKyl8KFwvXC4kKS9nLCAnLycpCiAgICAgIC5yZXBsYWNlKC9cL3syLH0vZywgJy8nKTsKCiAgICAvLyByZW1lbWJlciBsZWFkaW5nIHBhcmVudHMKICAgIGlmIChfd2FzX3JlbGF0aXZlKSB7CiAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9wYXRoLnN1YnN0cmluZygxKS5tYXRjaCgvXihcLlwuXC8pKy8pIHx8ICcnOwogICAgICBpZiAoX2xlYWRpbmdQYXJlbnRzKSB7CiAgICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX2xlYWRpbmdQYXJlbnRzWzBdOwogICAgICB9CiAgICB9CgogICAgLy8gcmVzb2x2ZSBwYXJlbnRzCiAgICB3aGlsZSAodHJ1ZSkgewogICAgICBfcGFyZW50ID0gX3BhdGguc2VhcmNoKC9cL1wuXC4oXC98JCkvKTsKICAgICAgaWYgKF9wYXJlbnQgPT09IC0xKSB7CiAgICAgICAgLy8gbm8gbW9yZSAuLi8gdG8gcmVzb2x2ZQogICAgICAgIGJyZWFrOwogICAgICB9IGVsc2UgaWYgKF9wYXJlbnQgPT09IDApIHsKICAgICAgICAvLyB0b3AgbGV2ZWwgY2Fubm90IGJlIHJlbGF0aXZlLCBza2lwIGl0CiAgICAgICAgX3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMyk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIF9wb3MgPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BhcmVudCkubGFzdEluZGV4T2YoJy8nKTsKICAgICAgaWYgKF9wb3MgPT09IC0xKSB7CiAgICAgICAgX3BvcyA9IF9wYXJlbnQ7CiAgICAgIH0KICAgICAgX3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BvcykgKyBfcGF0aC5zdWJzdHJpbmcoX3BhcmVudCArIDMpOwogICAgfQoKICAgIC8vIHJldmVydCB0byByZWxhdGl2ZQogICAgaWYgKF93YXNfcmVsYXRpdmUgJiYgdGhpcy5pcygncmVsYXRpdmUnKSkgewogICAgICBfcGF0aCA9IF9sZWFkaW5nUGFyZW50cyArIF9wYXRoLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5wYXRoID0gX3BhdGg7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUGF0aG5hbWUgPSBwLm5vcm1hbGl6ZVBhdGg7CiAgcC5ub3JtYWxpemVRdWVyeSA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJykgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnF1ZXJ5Lmxlbmd0aCkgewogICAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXJ5KFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplRnJhZ21lbnQgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkgewogICAgICB0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplU2VhcmNoID0gcC5ub3JtYWxpemVRdWVyeTsKICBwLm5vcm1hbGl6ZUhhc2ggPSBwLm5vcm1hbGl6ZUZyYWdtZW50OwoKICBwLmlzbzg4NTkgPSBmdW5jdGlvbigpIHsKICAgIC8vIGV4cGVjdCB1bmljb2RlIGlucHV0LCBpc284ODU5IG91dHB1dAogICAgdmFyIGUgPSBVUkkuZW5jb2RlOwogICAgdmFyIGQgPSBVUkkuZGVjb2RlOwoKICAgIFVSSS5lbmNvZGUgPSBlc2NhcGU7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAudW5pY29kZSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IGlzbzg4NTkgaW5wdXQsIHVuaWNvZGUgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnJlYWRhYmxlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdXJpID0gdGhpcy5jbG9uZSgpOwogICAgLy8gcmVtb3ZpbmcgdXNlcm5hbWUsIHBhc3N3b3JkLCBiZWNhdXNlIHRoZXkgc2hvdWxkbid0IGJlIGRpc3BsYXllZCBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAgIHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHQgPSAnJzsKICAgIGlmICh1cmkuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nOwogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh1cmkuaXMoJ3B1bnljb2RlJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0ICs9IHB1bnljb2RlLnRvVW5pY29kZSh1cmkuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgICBpZiAodXJpLl9wYXJ0cy5wb3J0KSB7CiAgICAgICAgICB0ICs9ICc6JyArIHVyaS5fcGFydHMucG9ydDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCArPSB1cmkuaG9zdCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUgJiYgdXJpLl9wYXJ0cy5wYXRoICYmIHVyaS5fcGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0ICs9ICcvJzsKICAgIH0KCiAgICB0ICs9IHVyaS5wYXRoKHRydWUpOwogICAgaWYgKHVyaS5fcGFydHMucXVlcnkpIHsKICAgICAgdmFyIHEgPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGt2ID0gKHFwW2ldIHx8ICcnKS5zcGxpdCgnPScpOwogICAgICAgIHEgKz0gJyYnICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzBdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKQogICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwoKICAgICAgICBpZiAoa3ZbMV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcSArPSAnPScgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMV0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICclMjYnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdCArPSAnPycgKyBxLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICB0ICs9IFVSSS5kZWNvZGVRdWVyeSh1cmkuaGFzaCgpLCB0cnVlKTsKICAgIHJldHVybiB0OwogIH07CgogIC8vIHJlc29sdmluZyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgVVJMcwogIHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uKGJhc2UpIHsKICAgIHZhciByZXNvbHZlZCA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciBwcm9wZXJ0aWVzID0gWydwcm90b2NvbCcsICd1c2VybmFtZScsICdwYXNzd29yZCcsICdob3N0bmFtZScsICdwb3J0J107CiAgICB2YXIgYmFzZWRpciwgaSwgcDsKCiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBpZiAoIShiYXNlIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBiYXNlID0gbmV3IFVSSShiYXNlKTsKICAgIH0KCiAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCkgewogICAgICByZXNvbHZlZC5fcGFydHMucHJvdG9jb2wgPSBiYXNlLl9wYXJ0cy5wcm90b2NvbDsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmV0dXJuIHJlc29sdmVkOwogICAgfQoKICAgIGZvciAoaSA9IDA7IChwID0gcHJvcGVydGllc1tpXSk7IGkrKykgewogICAgICByZXNvbHZlZC5fcGFydHNbcF0gPSBiYXNlLl9wYXJ0c1twXTsKICAgIH0KCiAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5wYXRoKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gYmFzZS5fcGFydHMucGF0aDsKICAgICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucXVlcnkpIHsKICAgICAgICByZXNvbHZlZC5fcGFydHMucXVlcnkgPSBiYXNlLl9wYXJ0cy5xdWVyeTsKICAgICAgfQogICAgfSBlbHNlIGlmIChyZXNvbHZlZC5fcGFydHMucGF0aC5zdWJzdHJpbmcoLTIpID09PSAnLi4nKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoICs9ICcvJzsKICAgIH0KCiAgICBpZiAocmVzb2x2ZWQucGF0aCgpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIGJhc2VkaXIgPSBiYXNlLmRpcmVjdG9yeSgpOwogICAgICBiYXNlZGlyID0gYmFzZWRpciA/IGJhc2VkaXIgOiBiYXNlLnBhdGgoKS5pbmRleE9mKCcvJykgPT09IDAgPyAnLycgOiAnJzsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSAoYmFzZWRpciA/IChiYXNlZGlyICsgJy8nKSA6ICcnKSArIHJlc29sdmVkLl9wYXJ0cy5wYXRoOwogICAgICByZXNvbHZlZC5ub3JtYWxpemVQYXRoKCk7CiAgICB9CgogICAgcmVzb2x2ZWQuYnVpbGQoKTsKICAgIHJldHVybiByZXNvbHZlZDsKICB9OwogIHAucmVsYXRpdmVUbyA9IGZ1bmN0aW9uKGJhc2UpIHsKICAgIHZhciByZWxhdGl2ZSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTsKICAgIHZhciByZWxhdGl2ZVBhcnRzLCBiYXNlUGFydHMsIGNvbW1vbiwgcmVsYXRpdmVQYXRoLCBiYXNlUGF0aDsKCiAgICBpZiAocmVsYXRpdmUuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgYmFzZSA9IG5ldyBVUkkoYmFzZSkubm9ybWFsaXplKCk7CiAgICByZWxhdGl2ZVBhcnRzID0gcmVsYXRpdmUuX3BhcnRzOwogICAgYmFzZVBhcnRzID0gYmFzZS5fcGFydHM7CiAgICByZWxhdGl2ZVBhdGggPSByZWxhdGl2ZS5wYXRoKCk7CiAgICBiYXNlUGF0aCA9IGJhc2UucGF0aCgpOwoKICAgIGlmIChyZWxhdGl2ZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZScpOwogICAgfQoKICAgIGlmIChiYXNlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUkknKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9PT0gYmFzZVBhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBiYXNlUGFydHMudXNlcm5hbWUgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gYmFzZVBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gbnVsbCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9PT0gYmFzZVBhcnRzLmhvc3RuYW1lICYmIHJlbGF0aXZlUGFydHMucG9ydCA9PT0gYmFzZVBhcnRzLnBvcnQpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9IG51bGw7CiAgICAgIHJlbGF0aXZlUGFydHMucG9ydCA9IG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXRoID09PSBiYXNlUGF0aCkgewogICAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAnJzsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgLy8gZGV0ZXJtaW5lIGNvbW1vbiBzdWIgcGF0aAogICAgY29tbW9uID0gVVJJLmNvbW1vblBhdGgocmVsYXRpdmVQYXRoLCBiYXNlUGF0aCk7CgogICAgLy8gSWYgdGhlIHBhdGhzIGhhdmUgbm90aGluZyBpbiBjb21tb24sIHJldHVybiBhIHJlbGF0aXZlIFVSTCB3aXRoIHRoZSBhYnNvbHV0ZSBwYXRoLgogICAgaWYgKCFjb21tb24pIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgdmFyIHBhcmVudHMgPSBiYXNlUGFydHMucGF0aAogICAgICAuc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpCiAgICAgIC5yZXBsYWNlKC9bXlwvXSokLywgJycpCiAgICAgIC5yZXBsYWNlKC8uKj9cLy9nLCAnLi4vJyk7CgogICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gKHBhcmVudHMgKyByZWxhdGl2ZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpKSB8fCAnLi8nOwoKICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogIH07CgogIC8vIGNvbXBhcmluZyBVUklzCiAgcC5lcXVhbHMgPSBmdW5jdGlvbih1cmkpIHsKICAgIHZhciBvbmUgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgdHdvID0gbmV3IFVSSSh1cmkpOwogICAgdmFyIG9uZV9tYXAgPSB7fTsKICAgIHZhciB0d29fbWFwID0ge307CiAgICB2YXIgY2hlY2tlZCA9IHt9OwogICAgdmFyIG9uZV9xdWVyeSwgdHdvX3F1ZXJ5LCBrZXk7CgogICAgb25lLm5vcm1hbGl6ZSgpOwogICAgdHdvLm5vcm1hbGl6ZSgpOwoKICAgIC8vIGV4YWN0IG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgPT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcXVlcnkgc3RyaW5nCiAgICBvbmVfcXVlcnkgPSBvbmUucXVlcnkoKTsKICAgIHR3b19xdWVyeSA9IHR3by5xdWVyeSgpOwogICAgb25lLnF1ZXJ5KCcnKTsKICAgIHR3by5xdWVyeSgnJyk7CgogICAgLy8gZGVmaW5pdGVseSBub3QgZXF1YWwgaWYgbm90IGV2ZW4gbm9uLXF1ZXJ5IHBhcnRzIG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgIT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBxdWVyeSBwYXJhbWV0ZXJzIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLCBldmVuIGlmIHRoZXkncmUgcGVybXV0ZWQKICAgIGlmIChvbmVfcXVlcnkubGVuZ3RoICE9PSB0d29fcXVlcnkubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmVfbWFwID0gVVJJLnBhcnNlUXVlcnkob25lX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIHR3b19tYXAgPSBVUkkucGFyc2VRdWVyeSh0d29fcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwoKICAgIGZvciAoa2V5IGluIG9uZV9tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKG9uZV9tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWlzQXJyYXkob25lX21hcFtrZXldKSkgewogICAgICAgICAgaWYgKG9uZV9tYXBba2V5XSAhPT0gdHdvX21hcFtrZXldKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFhcnJheXNFcXVhbChvbmVfbWFwW2tleV0sIHR3b19tYXBba2V5XSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNoZWNrZWRba2V5XSA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGtleSBpbiB0d29fbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbCh0d29fbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFjaGVja2VkW2tleV0pIHsKICAgICAgICAgIC8vIHR3byBjb250YWlucyBhIHBhcmFtZXRlciBub3QgcHJlc2VudCBpbiBvbmUKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICAvLyBzdGF0ZQogIHAuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24odikgewogICAgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5lc2NhcGVRdWVyeVNwYWNlID0gZnVuY3Rpb24odikgewogICAgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHJldHVybiBVUkk7Cn0pKTsKCn0seyIuL0lQdjYiOjIsIi4vU2Vjb25kTGV2ZWxEb21haW5zIjozLCIuL3B1bnljb2RlIjo1fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjAgYnkgQG1hdGhpYXMgKi8KOyhmdW5jdGlvbihyb290KSB7CgoJLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqLwoJdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJgoJCSFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7Cgl2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmCgkJIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7Cgl2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsOwoJaWYgKAoJCWZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8CgkJZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWwKCSkgewoJCXJvb3QgPSBmcmVlR2xvYmFsOwoJfQoKCS8qKgoJICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LgoJICogQG5hbWUgcHVueWNvZGUKCSAqIEB0eXBlIE9iamVjdAoJICovCgl2YXIgcHVueWNvZGUsCgoJLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqLwoJbWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMQoKCS8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi8KCWJhc2UgPSAzNiwKCXRNaW4gPSAxLAoJdE1heCA9IDI2LAoJc2tldyA9IDM4LAoJZGFtcCA9IDcwMCwKCWluaXRpYWxCaWFzID0gNzIsCglpbml0aWFsTiA9IDEyOCwgLy8gMHg4MAoJZGVsaW1pdGVyID0gJy0nLCAvLyAnXHgyRCcKCgkvKiogUmVndWxhciBleHByZXNzaW9ucyAqLwoJcmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sCglyZWdleE5vbkFTQ0lJID0gL1teXHgyMC1ceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzCglyZWdleFNlcGFyYXRvcnMgPSAvW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnMKCgkvKiogRXJyb3IgbWVzc2FnZXMgKi8KCWVycm9ycyA9IHsKCQknb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLAoJCSdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsCgkJJ2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCcKCX0sCgoJLyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqLwoJYmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLAoJZmxvb3IgPSBNYXRoLmZsb29yLAoJc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSwKCgkvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovCglrZXk7CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqCgkgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS4KCSAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS4KCSAqLwoJZnVuY3Rpb24gZXJyb3IodHlwZSkgewoJCXRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7Cgl9CgoJLyoqCgkgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLgoJICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5CgkgKiBpdGVtLgoJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLgoJICovCglmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7CgkJdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsKCQl2YXIgcmVzdWx0ID0gW107CgkJd2hpbGUgKGxlbmd0aC0tKSB7CgkJCXJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7CgkJfQoJCXJldHVybiByZXN1bHQ7Cgl9CgoJLyoqCgkgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWwKCSAqIGFkZHJlc3Nlcy4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLgoJICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5CgkgKiBjaGFyYWN0ZXIuCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjawoJICogZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7CgkJdmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7CgkJdmFyIHJlc3VsdCA9ICcnOwoJCWlmIChwYXJ0cy5sZW5ndGggPiAxKSB7CgkJCS8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmUKCQkJLy8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC4KCQkJcmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7CgkJCXN0cmluZyA9IHBhcnRzWzFdOwoJCX0KCQkvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuCgkJc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXHgyRScpOwoJCXZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTsKCQl2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7CgkJcmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7Cgl9CgoJLyoqCgkgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlCgkgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksCgkgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAoJICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsCgkgKiBtYXRjaGluZyBVVEYtMTYuCgkgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGRlY29kZQoJICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS4KCSAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy4KCSAqLwoJZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHsKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGNvdW50ZXIgPSAwLAoJCSAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLAoJCSAgICB2YWx1ZSwKCQkgICAgZXh0cmE7CgkJd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQlpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCQkvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIKCQkJCWV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJCWlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlCgkJCQkJb3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHQKCQkJCQkvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIKCQkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCQkJY291bnRlci0tOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQl9CgkJfQoJCXJldHVybiBvdXRwdXQ7Cgl9CgoJLyoqCgkgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCgkgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWAKCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkgKiBAbmFtZSBlbmNvZGUKCSAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuCgkgKi8KCWZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHsKCQlyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkgewoJCQl2YXIgb3V0cHV0ID0gJyc7CgkJCWlmICh2YWx1ZSA+IDB4RkZGRikgewoJCQkJdmFsdWUgLT0gMHgxMDAwMDsKCQkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApOwoJCQkJdmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGOwoJCQl9CgkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpOwoJCQlyZXR1cm4gb3V0cHV0OwoJCX0pLmpvaW4oJycpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLgoJICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLgoJICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluCgkgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmCgkgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4KCSAqLwoJZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkgewoJCWlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSAyMjsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDY1OwoJCX0KCQlpZiAoY29kZVBvaW50IC0gOTcgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gOTc7CgkJfQoJCXJldHVybiBiYXNlOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC4KCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yCgkgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZQoJICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzCgkgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZAoJICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS4KCSAqLwoJZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7CgkJLy8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLloKCQkvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkKCQlyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpOwoJfQoKCS8qKgoJICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi4KCSAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40CgkgKiBAcHJpdmF0ZQoJICovCglmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHsKCQl2YXIgayA9IDA7CgkJZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTsKCQlkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7CgkJZm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHsKCQkJZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pOwoJCX0KCQlyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlCgkgKiBzeW1ib2xzLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCgkgKi8KCWZ1bmN0aW9uIGRlY29kZShpbnB1dCkgewoJCS8vIERvbid0IHVzZSBVQ1MtMgoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsCgkJICAgIG91dCwKCQkgICAgaSA9IDAsCgkJICAgIG4gPSBpbml0aWFsTiwKCQkgICAgYmlhcyA9IGluaXRpYWxCaWFzLAoJCSAgICBiYXNpYywKCQkgICAgaiwKCQkgICAgaW5kZXgsCgkJICAgIG9sZGksCgkJICAgIHcsCgkJICAgIGssCgkJICAgIGRpZ2l0LAoJCSAgICB0LAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgYmFzZU1pbnVzVDsKCgkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlCgkJLy8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHkKCQkvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC4KCgkJYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpOwoJCWlmIChiYXNpYyA8IDApIHsKCQkJYmFzaWMgPSAwOwoJCX0KCgkJZm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHsKCQkJLy8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50CgkJCWlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHsKCQkJCWVycm9yKCdub3QtYmFzaWMnKTsKCQkJfQoJCQlvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTsKCQl9CgoJCS8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGUKCQkvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLgoKCQlmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykgewoKCQkJLy8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLgoJCQkvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsCgkJCS8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyCgkJCS8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nCgkJCS8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuCgkJCWZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHsKCgkJCQlpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKCQkJCQllcnJvcignaW52YWxpZC1pbnB1dCcpOwoJCQkJfQoKCQkJCWRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpOwoKCQkJCWlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpICs9IGRpZ2l0ICogdzsKCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoKCQkJCWlmIChkaWdpdCA8IHQpIHsKCQkJCQlicmVhazsKCQkJCX0KCgkJCQliYXNlTWludXNUID0gYmFzZSAtIHQ7CgkJCQlpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJdyAqPSBiYXNlTWludXNUOwoKCQkJfQoKCQkJb3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7CgkJCWJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApOwoKCQkJLy8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCwKCQkJLy8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzoKCQkJaWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCW4gKz0gZmxvb3IoaSAvIG91dCk7CgkJCWkgJT0gb3V0OwoKCQkJLy8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dAoJCQlvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7CgoJCX0KCgkJcmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhCgkgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKi8KCWZ1bmN0aW9uIGVuY29kZShpbnB1dCkgewoJCXZhciBuLAoJCSAgICBkZWx0YSwKCQkgICAgaGFuZGxlZENQQ291bnQsCgkJICAgIGJhc2ljTGVuZ3RoLAoJCSAgICBiaWFzLAoJCSAgICBqLAoJCSAgICBtLAoJCSAgICBxLAoJCSAgICBrLAoJCSAgICB0LAoJCSAgICBjdXJyZW50VmFsdWUsCgkJICAgIG91dHB1dCA9IFtdLAoJCSAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqLwoJCSAgICBpbnB1dExlbmd0aCwKCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSwKCQkgICAgYmFzZU1pbnVzVCwKCQkgICAgcU1pbnVzVDsKCgkJLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZQoJCWlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7CgoJCS8vIENhY2hlIHRoZSBsZW5ndGgKCQlpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDsKCgkJLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKCQluID0gaW5pdGlhbE47CgkJZGVsdGEgPSAwOwoJCWJpYXMgPSBpbml0aWFsQmlhczsKCgkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50cwoJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQlpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkgewoJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpOwoJCQl9CgkJfQoKCQloYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDsKCgkJLy8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7CgkJLy8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLgoKCQkvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXIKCQlpZiAoYmFzaWNMZW5ndGgpIHsKCQkJb3V0cHV0LnB1c2goZGVsaW1pdGVyKTsKCQl9CgoJCS8vIE1haW4gZW5jb2RpbmcgbG9vcDoKCQl3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkgewoKCQkJLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAoJCQkvLyBsYXJnZXIgb25lOgoJCQlmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCQlpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkgewoJCQkJCW0gPSBjdXJyZW50VmFsdWU7CgkJCQl9CgkJCX0KCgkJCS8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPiwKCQkJLy8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3cKCQkJaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxOwoJCQlpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCWRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7CgkJCW4gPSBtOwoKCQkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoKCQkJCWlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpZiAoY3VycmVudFZhbHVlID09IG4pIHsKCQkJCQkvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlcgoJCQkJCWZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHsKCQkJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgkJCQkJCWlmIChxIDwgdCkgewoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQkJcU1pbnVzVCA9IHEgLSB0OwoJCQkJCQliYXNlTWludXNUID0gYmFzZSAtIHQ7CgkJCQkJCW91dHB1dC5wdXNoKAoJCQkJCQkJc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKQoJCQkJCQkpOwoJCQkJCQlxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpOwoJCQkJCX0KCgkJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpOwoJCQkJCWJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7CgkJCQkJZGVsdGEgPSAwOwoJCQkJCSsraGFuZGxlZENQQ291bnQ7CgkJCQl9CgkJCX0KCgkJCSsrZGVsdGE7CgkJCSsrbjsKCgkJfQoJCXJldHVybiBvdXRwdXQuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzCgkgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuCgkgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW4KCSAqIGNvbnZlcnRlZCB0byBVbmljb2RlLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvCgkgKiBjb252ZXJ0IHRvIFVuaWNvZGUuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGUKCSAqIHN0cmluZy4KCSAqLwoJZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7CgkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCXJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKQoJCQkJPyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0bwoJICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsCgkgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW4KCSAqIEFTQ0lJLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYQoJICogVW5pY29kZSBzdHJpbmcuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yCgkgKiBlbWFpbCBhZGRyZXNzLgoJICovCglmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7CgkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCXJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKQoJCQkJPyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKQoJCQkJOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqLwoJcHVueWNvZGUgPSB7CgkJLyoqCgkJICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEB0eXBlIFN0cmluZwoJCSAqLwoJCSd2ZXJzaW9uJzogJzEuMy4yJywKCQkvKioKCQkgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlcgoJCSAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suCgkJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgT2JqZWN0CgkJICovCgkJJ3VjczInOiB7CgkJCSdkZWNvZGUnOiB1Y3MyZGVjb2RlLAoJCQknZW5jb2RlJzogdWNzMmVuY29kZQoJCX0sCgkJJ2RlY29kZSc6IGRlY29kZSwKCQknZW5jb2RlJzogZW5jb2RlLAoJCSd0b0FTQ0lJJzogdG9BU0NJSSwKCQkndG9Vbmljb2RlJzogdG9Vbmljb2RlCgl9OwoKCS8qKiBFeHBvc2UgYHB1bnljb2RlYCAqLwoJLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zCgkvLyBsaWtlIHRoZSBmb2xsb3dpbmc6CglpZiAoCgkJdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmCgkJdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYKCQlkZWZpbmUuYW1kCgkpIHsKCQlkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7CgkJCXJldHVybiBwdW55Y29kZTsKCQl9KTsKCX0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkgewoJCWlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgewoJCQkvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArCgkJCWZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlOwoJCX0gZWxzZSB7CgkJCS8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtCgkJCWZvciAoa2V5IGluIHB1bnljb2RlKSB7CgkJCQlwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7CgkJCX0KCQl9Cgl9IGVsc2UgewoJCS8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXIKCQlyb290LnB1bnljb2RlID0gcHVueWNvZGU7Cgl9Cgp9KHRoaXMpKTsKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX3VyaWpzID0gcmVxdWlyZSgndXJpanMnKTsKCnZhciBfdXJpanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJpanMpOwoKdmFyIF9wb3NpdGlvbiA9IHJlcXVpcmUoJy4vcG9zaXRpb24nKTsKCnZhciBfcG9zaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zaXRpb24pOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCnZhciBMb2NhdGlvbkh5cGVydHkgPSB7CiAgICBnZXRDdXJyZW50UG9zaXRpb246IGZ1bmN0aW9uIGdldEN1cnJlbnRQb3NpdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHBvc2l0aW9uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc3RhcnRQb3NpdGlvbkJyb2FkY2FzdDogZnVuY3Rpb24gc3RhcnRQb3NpdGlvbkJyb2FkY2FzdChzdWJzY3JpYmVycykgewogICAgICAgIHRoaXMuX3N5bmNoZXIuY3JlYXRlKHRoaXMuX29iamVjdERlc2NVUkwsIHN1YnNjcmliZXJzLCAoMCwgX3Bvc2l0aW9uMi5kZWZhdWx0KSgpKS50aGVuKGZ1bmN0aW9uIChyZXBvcnRlcikgewogICAgICAgICAgICByZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5hY2NlcHQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgICAgICAgICAgcmVwb3J0ZXIuZGF0YS52YWx1ZXMgPSBbeyBuYW1lOiAnbGF0aXR1ZGUnLCB1bml0OiAnbGF0JywgdmFsdWU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSB9LCB7IG5hbWU6ICdsb25naXR1ZGUnLCB1bml0OiAnbG9uJywgdmFsdWU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfV07CiAgICAgICAgICAgICAgICByZXBvcnRlci5kYXRhLnRpbWUgPSBwb3NpdGlvbi50aW1lc3RhbXA7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQp9OwoKdmFyIExvY2F0aW9uSHlwZXJ0eUZhY3RvcnkgPSBmdW5jdGlvbiBMb2NhdGlvbkh5cGVydHlGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICB2YXIgdXJpID0gbmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKTsKICAgIExvY2F0aW9uSHlwZXJ0eS5fb2JqZWN0RGVzY1VSTCA9ICdoeXBlcnR5LWNhdGFsb2d1ZTovLycgKyB1cmkuaG9zdG5hbWUoKSArICcvLndlbGwta25vd24vZGF0YXNjaGVtYXMvQ29udGV4dERhdGFTY2hlbWEnOwogICAgTG9jYXRpb25IeXBlcnR5Ll9zeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpOwoKICAgIHJldHVybiBMb2NhdGlvbkh5cGVydHk7Cn07CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZykgewogICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnTG9jYXRpb24nLAogICAgICAgIGluc3RhbmNlOiBMb2NhdGlvbkh5cGVydHlGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKQogICAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuL3Bvc2l0aW9uIjo3LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjEsInVyaWpzIjo0fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBQb3NpdGlvbkZhY3Rvcnk7CnZhciBMb2NhdGlvbk9iamVjdCA9IHt9OwoKZnVuY3Rpb24gZ2V0SWQoKSB7CiAgICByZXR1cm4gJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpOwp9CgpmdW5jdGlvbiBQb3NpdGlvbkZhY3RvcnkoKSB7CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgIHNjaGVtYTogImNvbnRleHQiLAogICAgICAgIGlkOiBnZXRJZCgpLAogICAgICAgIHR5cGU6ICJsb2NhdGlvbiIsCiAgICAgICAgdGltZTogIjAiLAogICAgICAgIHZhbHVlczogW3sKICAgICAgICAgICAgbmFtZTogImxhdGl0dWRlIiwKICAgICAgICAgICAgdW5pdDogImxhdCIsCiAgICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgfSwgewogICAgICAgICAgICBuYW1lOiAibG9uZ2l0dWRlIiwKICAgICAgICAgICAgdW5pdDogImxhdCIsCiAgICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgfV0KICAgIH0pOwp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFs2XSkoNikKfSk7",
      "sourceCodeClassname": "Location",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10009,
    "version": "0.1",
    "description": "Description of Location",
    "objectName": "Location",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  },
  "UserStatus": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDc6NTYgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuKG4uSlNPTiYmbi5KU09OLnN0cmluZ2lmeXx8SlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6Mzh9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo2Mn1dLDEwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy8kLmNvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvJC5jb3JlIjoxNiwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6NjMsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjY0LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjY1LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjY2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0IjozMX1dLDE0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MTUsIi4vJC53a3MiOjU5fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDE3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjIyfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6MjQsIi4vJC5pcy1vYmplY3QiOjMxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmN0eCIpLHM9InByb3RvdHlwZSIsYz1mdW5jdGlvbihlLHQscil7dmFyIHUsYSxmLGw9ZSZjLkYsZD1lJmMuRyxwPWUmYy5TLCQ9ZSZjLlAsdj1lJmMuQix5PWUmYy5XLGg9ZD9vOm9bdF18fChvW3RdPXt9KSxiPWQ/bjpwP25bdF06KG5bdF18fHt9KVtzXTtkJiYocj10KTtmb3IodSBpbiByKWE9IWwmJmImJnUgaW4gYixhJiZ1IGluIGh8fChmPWE/Ylt1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZhP2koZixuKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT9uZXcgZSh0KTplKHQpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOiQmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLCQmJigoaFtzXXx8KGhbc109e30pKVt1XT1mKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsdC5leHBvcnRzPWN9LHsiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmdsb2JhbCI6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDIzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmN0eCIpLG89ZSgiLi8kLml0ZXItY2FsbCIpLGk9ZSgiLi8kLmlzLWFycmF5LWl0ZXIiKSxzPWUoIi4vJC5hbi1vYmplY3QiKSxjPWUoIi4vJC50by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBmLGwsZCxwPXUoZSksJD1uKHIsYSx0PzI6MSksdj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBwKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkocCkpZm9yKGY9YyhlLmxlbmd0aCk7Zj52O3YrKyl0PyQocyhsPWVbdl0pWzBdLGxbMV0pOiQoZVt2XSk7ZWxzZSBmb3IoZD1wLmNhbGwoZSk7IShsPWQubmV4dCgpKS5kb25lOylvKGQsJCxsLnZhbHVlLHQpfX0seyIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1hcnJheS1pdGVyIjozMCwiLi8kLml0ZXItY2FsbCI6MzIsIi4vJC50by1sZW5ndGgiOjU2LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NjB9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI1OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQucHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuLyQuZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi8kIjozOCwiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLnByb3BlcnR5LWRlc2MiOjQyfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmdsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi8kLmdsb2JhbCI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vJC5jb2YiOjE1fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXRlcmF0b3JzIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuLyQuYW4tb2JqZWN0IjoxM31dLDMzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxpPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi8kLmhpZGUiKShzLGUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uLmNyZWF0ZShzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi8kIjozOCwiLi8kLmhpZGUiOjI2LCIuLyQucHJvcGVydHktZGVzYyI6NDIsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmxpYnJhcnkiKSxvPWUoIi4vJC5leHBvcnQiKSxpPWUoIi4vJC5yZWRlZmluZSIpLHM9ZSgiLi8kLmhpZGUiKSxjPWUoIi4vJC5oYXMiKSx1PWUoIi4vJC5pdGVyYXRvcnMiKSxhPWUoIi4vJC5pdGVyLWNyZWF0ZSIpLGY9ZSgiLi8kLnNldC10by1zdHJpbmctdGFnIiksbD1lKCIuLyQiKS5nZXRQcm90byxkPWUoIi4vJC53a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLCQ9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHk9InZhbHVlcyIsaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYixtLGcseCl7YShyLHQsYik7dmFyIGosdyxfPWZ1bmN0aW9uKGUpe2lmKCFwJiZlIGluIFApcmV0dXJuIFBbZV07c3dpdGNoKGUpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSB5OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LGs9dCsiIEl0ZXJhdG9yIixPPW09PXksTT0hMSxQPWUucHJvdG90eXBlLFM9UFtkXXx8UFskXXx8bSYmUFttXSxFPVN8fF8obSk7aWYoUyl7dmFyIFU9bChFLmNhbGwobmV3IGUpKTtmKFUsaywhMCksIW4mJmMoUCwkKSYmcyhVLGQsaCksTyYmUy5uYW1lIT09eSYmKE09ITAsRT1mdW5jdGlvbigpe3JldHVybiBTLmNhbGwodGhpcyl9KX1pZihuJiYheHx8IXAmJiFNJiZQW2RdfHxzKFAsZCxFKSx1W3RdPUUsdVtrXT1oLG0paWYoaj17dmFsdWVzOk8/RTpfKHkpLGtleXM6Zz9FOl8odiksZW50cmllczpPP18oImVudHJpZXMiKTpFfSx4KWZvcih3IGluIGopdyBpbiBQfHxpKFAsdyxqW3ddKTtlbHNlIG8oby5QK28uRioocHx8TSksdCxqKTtyZXR1cm4gan19LHsiLi8kIjozOCwiLi8kLmV4cG9ydCI6MjEsIi4vJC5oYXMiOjI1LCIuLyQuaGlkZSI6MjYsIi4vJC5pdGVyLWNyZWF0ZSI6MzMsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQubGlicmFyeSI6MzksIi4vJC5yZWRlZmluZSI6NDQsIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyI6NDgsIi4vJC53a3MiOjU5fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3I9ITB9LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vJC53a3MiOjU5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU9iamVjdDt0LmV4cG9ydHM9e2NyZWF0ZTpuLmNyZWF0ZSxnZXRQcm90bzpuLmdldFByb3RvdHlwZU9mLGlzRW51bTp7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxnZXREZXNjOm4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNldERlc2M6bi5kZWZpbmVQcm9wZXJ0eSxzZXREZXNjczpuLmRlZmluZVByb3BlcnRpZXMsZ2V0S2V5czpuLmtleXMsZ2V0TmFtZXM6bi5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFN5bWJvbHM6bi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZWFjaDpbXS5mb3JFYWNofX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQudGFzayIpLnNldCx1PXMuTXV0YXRpb25PYnNlcnZlcnx8cy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9cy5wcm9jZXNzLGY9cy5Qcm9taXNlLGw9InByb2Nlc3MiPT1lKCIuLyQuY29mIikoYSksZD1mdW5jdGlvbigpe3ZhciBlLHQscjtmb3IobCYmKGU9YS5kb21haW4pJiYoYS5kb21haW49bnVsbCxlLmV4aXQoKSk7bjspdD1uLmRvbWFpbixyPW4uZm4sdCYmdC5lbnRlcigpLHIoKSx0JiZ0LmV4aXQoKSxuPW4ubmV4dDtvPXZvaWQgMCxlJiZlLmVudGVyKCl9O2lmKGwpaT1mdW5jdGlvbigpe2EubmV4dFRpY2soZCl9O2Vsc2UgaWYodSl7dmFyIHA9MSwkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgdShkKS5vYnNlcnZlKCQse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7JC5kYXRhPXA9LXB9fWVsc2UgaT1mJiZmLnJlc29sdmU/ZnVuY3Rpb24oKXtmLnJlc29sdmUoKS50aGVuKGQpfTpmdW5jdGlvbigpe2MuY2FsbChzLGQpfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDAsZG9tYWluOmwmJmEuZG9tYWlufTtvJiYoby5uZXh0PXQpLG58fChuPXQsaSgpKSxvPXR9fSx7Ii4vJC5jb2YiOjE1LCIuLyQuZ2xvYmFsIjoyNCwiLi8kLnRhc2siOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iiksbz1lKCIuLyQuY29yZSIpLGk9ZSgiLi8kLmZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi8kLmNvcmUiOjE2LCIuLyQuZXhwb3J0IjoyMSwiLi8kLmZhaWxzIjoyMn1dLDQyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnJlZGVmaW5lIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpbihlLHIsdFtyXSk7cmV0dXJuIGV9fSx7Ii4vJC5yZWRlZmluZSI6NDR9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuLyQuaGlkZSIpfSx7Ii4vJC5oaWRlIjoyNn1dLDQ1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09PTEvdDplIT1lJiZ0IT10fX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuZ2V0RGVzYyxvPWUoIi4vJC5pcy1vYmplY3QiKSxpPWUoIi4vJC5hbi1vYmplY3QiKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuLyQuY3R4IikoRnVuY3Rpb24uY2FsbCxuKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGkpe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0seyIuLyQiOjM4LCIuLyQuYW4tb2JqZWN0IjoxMywiLi8kLmN0eCI6MTcsIi4vJC5pcy1vYmplY3QiOjMxfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmNvcmUiKSxvPWUoIi4vJCIpLGk9ZSgiLi8kLmRlc2NyaXB0b3JzIikscz1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFtzXSYmby5zZXREZXNjKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuLyQiOjM4LCIuLyQuY29yZSI6MTYsIi4vJC5kZXNjcmlwdG9ycyI6MTksIi4vJC53a3MiOjU5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKS5zZXREZXNjLG89ZSgiLi8kLmhhcyIpLGk9ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuLyQiOjM4LCIuLyQuaGFzIjoyNSwiLi8kLndrcyI6NTl9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5nbG9iYWwiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9bltvXXx8KG5bb109e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuLyQuZ2xvYmFsIjoyNH1dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmFuLW9iamVjdCIpLG89ZSgiLi8kLmEtZnVuY3Rpb24iKSxpPWUoIi4vJC53a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC53a3MiOjU5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihyKyI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhIik7cmV0dXJuIGV9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhvKHQpKSx1PW4ociksYT1jLmxlbmd0aDtyZXR1cm4gMD51fHx1Pj1hP2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdCh1KSw1NTI5Nj5pfHxpPjU2MzE5fHx1KzE9PT1hfHwocz1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdCh1KTppOmU/Yy5zbGljZSh1LHUrMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQudG8taW50ZWdlciI6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vJC5jdHgiKSxjPWUoIi4vJC5pbnZva2UiKSx1PWUoIi4vJC5odG1sIiksYT1lKCIuLyQuZG9tLWNyZWF0ZSIpLGY9ZSgiLi8kLmdsb2JhbCIpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLCQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxoPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuLyQuY29mIikobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06JD8obz1uZXcgJCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuLyQuY29mIjoxNSwiLi8kLmN0eCI6MTcsIi4vJC5kb20tY3JlYXRlIjoyMCwiLi8kLmdsb2JhbCI6MjQsIi4vJC5odG1sIjoyNywiLi8kLmludm9rZSI6Mjh9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bzpuKShlKX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pb2JqZWN0Iiksbz1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi8kLmRlZmluZWQiOjE4LCIuLyQuaW9iamVjdCI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi8kLnRvLWludGVnZXIiOjU0fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuLyQuZGVmaW5lZCI6MTh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5zaGFyZWQiKSgid2tzIiksbz1lKCIuLyQudWlkIiksaT1lKCIuLyQuZ2xvYmFsIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aSYmaVtlXXx8KGl8fG8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vJC5nbG9iYWwiOjI0LCIuLyQuc2hhcmVkIjo0OSwiLi8kLnVpZCI6NTh9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jbGFzc29mIiksbz1lKCIuLyQud2tzIikoIml0ZXJhdG9yIiksaT1lKCIuLyQuaXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vJC5jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuLyQuY2xhc3NvZiI6MTQsIi4vJC5jb3JlIjoxNiwiLi8kLml0ZXJhdG9ycyI6MzcsIi4vJC53a3MiOjU5fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLmFkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi8kLml0ZXItc3RlcCIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpLHM9ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi8kLml0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuLyQuYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLml0ZXItc3RlcCI6MzYsIi4vJC5pdGVyYXRvcnMiOjM3LCIuLyQudG8taW9iamVjdCI6NTV9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC50by1vYmplY3QiKTtlKCIuLyQub2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjQxLCIuLyQudG8tb2JqZWN0Ijo1N31dLDYzOltmdW5jdGlvbihlLHQscil7fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1lKCIuLyQiKSxpPWUoIi4vJC5saWJyYXJ5Iikscz1lKCIuLyQuZ2xvYmFsIiksYz1lKCIuLyQuY3R4IiksdT1lKCIuLyQuY2xhc3NvZiIpLGE9ZSgiLi8kLmV4cG9ydCIpLGY9ZSgiLi8kLmlzLW9iamVjdCIpLGw9ZSgiLi8kLmFuLW9iamVjdCIpLGQ9ZSgiLi8kLmEtZnVuY3Rpb24iKSxwPWUoIi4vJC5zdHJpY3QtbmV3IiksJD1lKCIuLyQuZm9yLW9mIiksdj1lKCIuLyQuc2V0LXByb3RvIikuc2V0LHk9ZSgiLi8kLnNhbWUtdmFsdWUiKSxoPWUoIi4vJC53a3MiKSgic3BlY2llcyIpLGI9ZSgiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiKSxtPWUoIi4vJC5taWNyb3Rhc2siKSxnPSJQcm9taXNlIix4PXMucHJvY2VzcyxqPSJwcm9jZXNzIj09dSh4KSx3PXNbZ10sXz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdyhmdW5jdGlvbigpe30pO3JldHVybiBlJiYodC5jb25zdHJ1Y3Rvcj1PYmplY3QpLHcucmVzb2x2ZSh0KT09PXR9LGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPW5ldyB3KGUpO3JldHVybiB2KHIsdC5wcm90b3R5cGUpLHJ9dmFyIHI9ITE7dHJ5e2lmKHI9dyYmdy5yZXNvbHZlJiZfKCksdih0LHcpLHQucHJvdG90eXBlPW8uY3JlYXRlKHcucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dH19KSx0LnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiB0fHwocj0hMSksciYmZSgiLi8kLmRlc2NyaXB0b3JzIikpe3ZhciBuPSExO3cucmVzb2x2ZShvLnNldERlc2Moe30sInRoZW4iLHtnZXQ6ZnVuY3Rpb24oKXtuPSEwfX0pKSxyPW59fWNhdGNoKGkpe3I9ITF9cmV0dXJuIHJ9KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBpJiZlPT09dyYmdD09PW4/ITA6eShlLHQpfSxNPWZ1bmN0aW9uKGUpe3ZhciB0PWwoZSlbaF07cmV0dXJuIHZvaWQgMCE9dD90OmV9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGYoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZih0PWUudGhlbik/dDohMX0sUz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLm4pe2Uubj0hMDt2YXIgcj1lLmM7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLnYsbz0xPT1lLnMsaT0wLGM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsdT10LnJlamVjdDt0cnl7cz8ob3x8KGUuaD0hMCkscj1zPT09ITA/bjpzKG4pLHI9PT10LnByb21pc2U/dShUeXBlRXJyb3IoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9UChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGEpe3UoYSl9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ci5sZW5ndGg9MCxlLm49ITEsdCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LHIsbz1lLnA7VChvKSYmKGo/eC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sbyk6KHQ9cy5vbnVuaGFuZGxlZHJlamVjdGlvbik/dCh7cHJvbWlzZTpvLHJlYXNvbjpufSk6KHI9cy5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKSksZS5hPXZvaWQgMH0sMSl9KX19LFQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLl9kLG49ci5hfHxyLmMsbz0wO2lmKHIuaClyZXR1cm4hMTtmb3IoO24ubGVuZ3RoPm87KWlmKHQ9bltvKytdLHQuZmFpbHx8IVQodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuZHx8KHQuZD0hMCx0PXQucnx8dCx0LnY9ZSx0LnM9Mix0LmE9dC5jLnNsaWNlKCksVSh0LCEwKSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLmQpe3IuZD0hMCxyPXIucnx8cjt0cnl7aWYoci5wPT09ZSl0aHJvdyBUeXBlRXJyb3IoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9UChlKSk/bShmdW5jdGlvbigpe3ZhciBuPXtyOnIsZDohMX07dHJ5e3QuY2FsbChlLGMoQSxuLDEpLGMoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci52PWUsci5zPTEsVShyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtyOnIsZDohMX0sbil9fX07a3x8KHc9ZnVuY3Rpb24oZSl7ZChlKTt2YXIgdD10aGlzLl9kPXtwOnAodGhpcyx3LGcpLGM6W10sYTp2b2lkIDAsczowLGQ6ITEsdjp2b2lkIDAsaDohMSxuOiExfTt0cnl7ZShjKEEsdCwxKSxjKEQsdCwxKSl9Y2F0Y2gocil7RC5jYWxsKHQscil9fSxlKCIuLyQucmVkZWZpbmUtYWxsIikody5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUyhiKHRoaXMsdykpLG49ci5wcm9taXNlLG89dGhpcy5fZDtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxvLmMucHVzaChyKSxvLmEmJm8uYS5wdXNoKHIpLG8ucyYmVShvLCExKSxufSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pKSxhKGEuRythLlcrYS5GKiFrLHtQcm9taXNlOnd9KSxlKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSh3LGcpLGUoIi4vJC5zZXQtc3BlY2llcyIpKGcpLG49ZSgiLi8kLmNvcmUiKVtnXSxhKGEuUythLkYqIWssZyx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiooIWt8fF8oITApKSxnLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB3JiZPKGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9bmV3IFModGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGEoYS5TK2EuRiohKGsmJmUoIi4vJC5pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe3cuYWxsKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7fSl9KSksZyx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PU0odGhpcykscj1uZXcgUyh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LHM9W10sYz1FKGZ1bmN0aW9uKCl7JChlLCExLHMucHVzaCxzKTt2YXIgcj1zLmxlbmd0aCxjPUFycmF5KHIpO3I/by5lYWNoLmNhbGwocyxmdW5jdGlvbihlLG8pe3ZhciBzPSExO3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3N8fChzPSEwLGNbb109ZSwtLXJ8fG4oYykpfSxpKX0pOm4oYyl9KTtyZXR1cm4gYyYmaShjLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9TSh0aGlzKSxyPW5ldyBTKHQpLG49ci5yZWplY3Qsbz1FKGZ1bmN0aW9uKCl7JChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vJCI6MzgsIi4vJC5hLWZ1bmN0aW9uIjoxMSwiLi8kLmFuLW9iamVjdCI6MTMsIi4vJC5jbGFzc29mIjoxNCwiLi8kLmNvcmUiOjE2LCIuLyQuY3R4IjoxNywiLi8kLmRlc2NyaXB0b3JzIjoxOSwiLi8kLmV4cG9ydCI6MjEsIi4vJC5mb3Itb2YiOjIzLCIuLyQuZ2xvYmFsIjoyNCwiLi8kLmlzLW9iamVjdCI6MzEsIi4vJC5pdGVyLWRldGVjdCI6MzUsIi4vJC5saWJyYXJ5IjozOSwiLi8kLm1pY3JvdGFzayI6NDAsIi4vJC5yZWRlZmluZS1hbGwiOjQzLCIuLyQuc2FtZS12YWx1ZSI6NDUsIi4vJC5zZXQtcHJvdG8iOjQ2LCIuLyQuc2V0LXNwZWNpZXMiOjQ3LCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjQ4LCIuLyQuc3BlY2llcy1jb25zdHJ1Y3RvciI6NTAsIi4vJC5zdHJpY3QtbmV3Ijo1MSwiLi8kLndrcyI6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQuc3RyaW5nLWF0IikoITApO2UoIi4vJC5pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi8kLml0ZXItZGVmaW5lIjozNCwiLi8kLnN0cmluZy1hdCI6NTJ9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpO24uTm9kZUxpc3Q9bi5IVE1MQ29sbGVjdGlvbj1uLkFycmF5fSx7Ii4vJC5pdGVyYXRvcnMiOjM3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NjF9XSw2NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWlbImRlZmF1bHQiXSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vaHlwZXJ0eS1kaXNjb3ZlcnkvSHlwZXJ0eURpc2NvdmVyeSI6Njh9XSw2ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9bihzKSx1PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPWUoIi4uL3V0aWxzL3V0aWxzIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkodCkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPXR9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6ImRhdGFPYmplY3Q6Ly8iK2V9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZS51cmw7bj9lKG4pOnQoIkRhdGFPYmplY3QgbmFtZSBkb2VzIG5vdCBleGlzdCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciB1PW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTx1LmdldFRpbWUoKSYmKGk9dSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgYT1zO2lmKHZvaWQgMD09PWEpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbYV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmF9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo2OSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsJFsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGwpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksJD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs2N10pKDY3KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjIuMAovLyBMYXN0IGJ1aWxkOiBUaHUgSnVuIDAyIDIwMTYgMTU6NDg6MDUgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmYylyZXR1cm4gYyhzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGMoZSl7dmFyIHQ9YXJndW1lbnRzLHM9Y1tvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxhPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYS5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDphfX0sdGhpcyksYX19O2Zvcih2YXIgYSBpbiBzKXNbYV1bb109dC5wcm90b3R5cGVbYV0sdC5wcm90b3R5cGVbYV09c1thXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE3fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyMn1dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjIzfV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI0fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjV9XSwxMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKVsiZGVmYXVsdCJdO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHM9dCxhPXI7bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYz1uKGkscyk7aWYodm9pZCAwIT09Yyl7aWYoInZhbHVlImluIGMpcmV0dXJuIGMudmFsdWU7dmFyIHU9Yy5nZXQ7aWYodm9pZCAwPT09dSlyZXR1cm47cmV0dXJuIHUuY2FsbChhKX12YXIgbD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSk7aWYobnVsbD09PWwpcmV0dXJuO2U9bCx0PXMscj1hLG89ITAsYz1sPXZvaWQgMH19LHIuX19lc01vZHVsZT0hMH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpWyJkZWZhdWx0Il07clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9bih0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKG8/byhlLHQpOmUuX19wcm90b19fPXQpfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OH1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCxpWyJkZWZhdWx0Il0pKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0seyIuLi9oZWxwZXJzL3R5cGVvZiI6MTZ9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIilbImRlZmF1bHQiXTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuY29uc3RydWN0b3I9PT1uPyJzeW1ib2wiOnR5cGVvZiBlfSxyLl9fZXNNb2R1bGU9ITB9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCI6MTB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJC5jb3JlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihuLkpTT04mJm4uSlNPTi5zdHJpbmdpZnl8fEpTT04uc3RyaW5naWZ5KS5hcHBseShKU09OLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvJC5jb3JlIjozMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy8kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uc2V0RGVzYyhlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTZ9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvJCIpO2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXREZXNjKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvJCI6NTYsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjgxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo4Mn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo4M31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy8kLmNvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy8kLmNvcmUiOjMxLCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6ODR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvJC5jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo4NiwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo4NywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo4OX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzLyQuY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzLyQuY29yZSI6MzEsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjg1LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjg4fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuLyQuaXMtb2JqZWN0Ijo0OX1dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpLG89ZSgiLi8kLndrcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9KHQ9T2JqZWN0KGUpKVtvXSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi8kLmNvZiI6MzAsIi4vJC53a3MiOjc4fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMS4yLjYifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmEtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi8kLmEtZnVuY3Rpb24iOjI2fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vJC5mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuLyQuZmFpbHMiOjM4fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaXMtb2JqZWN0Iiksbz1lKCIuLyQuZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRLZXlzKGUpLHI9bi5nZXRTeW1ib2xzO2lmKHIpZm9yKHZhciBvLGk9cihlKSxzPW4uaXNFbnVtLGE9MDtpLmxlbmd0aD5hOylzLmNhbGwoZSxvPWlbYSsrXSkmJnQucHVzaChvKTtyZXR1cm4gdH19LHsiLi8kIjo1Nn1dLDM3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmdsb2JhbCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5jdHgiKSxzPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLHUsbCxmPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyxiPWUmYS5QLGg9ZSZhLkIsdj1lJmEuVyx5PWQ/bzpvW3RdfHwob1t0XT17fSksXz1kP246cD9uW3RdOihuW3RdfHx7fSlbc107ZCYmKHI9dCk7Zm9yKGMgaW4gcil1PSFmJiZfJiZjIGluIF8sdSYmYyBpbiB5fHwobD11P19bY106cltjXSx5W2NdPWQmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106aCYmdT9pKGwsbik6diYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/bmV3IGUodCk6ZSh0KX07cmV0dXJuIHRbc109ZVtzXSx0fShsKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgbD9pKEZ1bmN0aW9uLmNhbGwsbCk6bCxiJiYoKHlbc118fCh5W3NdPXt9KSlbY109bCkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLHQuZXhwb3J0cz1hfSx7Ii4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5nbG9iYWwiOjQxfV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5jdHgiKSxvPWUoIi4vJC5pdGVyLWNhbGwiKSxpPWUoIi4vJC5pcy1hcnJheS1pdGVyIikscz1lKCIuLyQuYW4tb2JqZWN0IiksYT1lKCIuLyQudG8tbGVuZ3RoIiksYz1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix1KXt2YXIgbCxmLGQscD1jKGUpLGI9bihyLHUsdD8yOjEpLGg9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgcCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHApKWZvcihsPWEoZS5sZW5ndGgpO2w+aDtoKyspdD9iKHMoZj1lW2hdKVswXSxmWzFdKTpiKGVbaF0pO2Vsc2UgZm9yKGQ9cC5jYWxsKGUpOyEoZj1kLm5leHQoKSkuZG9uZTspbyhkLGIsZi52YWx1ZSx0KX19LHsiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtYXJyYXktaXRlciI6NDcsIi4vJC5pdGVyLWNhbGwiOjUwLCIuLyQudG8tbGVuZ3RoIjo3NSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjc5fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpLG89ZSgiLi8kIikuZ2V0TmFtZXMsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LHsiLi8kIjo1NiwiLi8kLnRvLWlvYmplY3QiOjc0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnByb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi8kLmRlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLnNldERlc2MoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vJCI6NTYsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MX1dLDQ0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vJC5nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vJC5nbG9iYWwiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuLyQuY29mIjozMH1dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLml0ZXJhdG9ycyIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSx7Ii4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmNvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuLyQuY29mIjozMH1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi8kLmFuLW9iamVjdCI6Mjh9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuLyQiKSxvPWUoIi4vJC5wcm9wZXJ0eS1kZXNjIiksaT1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vJC5oaWRlIikocyxlKCIuLyQud2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bi5jcmVhdGUocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vJCI6NTYsIi4vJC5oaWRlIjo0MywiLi8kLnByb3BlcnR5LWRlc2MiOjYxLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5saWJyYXJ5Iiksbz1lKCIuLyQuZXhwb3J0IiksaT1lKCIuLyQucmVkZWZpbmUiKSxzPWUoIi4vJC5oaWRlIiksYT1lKCIuLyQuaGFzIiksYz1lKCIuLyQuaXRlcmF0b3JzIiksdT1lKCIuLyQuaXRlci1jcmVhdGUiKSxsPWUoIi4vJC5zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi8kIikuZ2V0UHJvdG8sZD1lKCIuLyQud2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxiPSJAQGl0ZXJhdG9yIixoPSJrZXlzIix2PSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLF8sZyxtLGope3Uocix0LF8pO3ZhciAkLHcsTz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxrPXQrIiBJdGVyYXRvciIseD1nPT12LEM9ITEsRT1lLnByb3RvdHlwZSxTPUVbZF18fEVbYl18fGcmJkVbZ10sVD1TfHxPKGcpO2lmKFMpe3ZhciBSPWYoVC5jYWxsKG5ldyBlKSk7bChSLGssITApLCFuJiZhKEUsYikmJnMoUixkLHkpLHgmJlMubmFtZSE9PXYmJihDPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jYWxsKHRoaXMpfSl9aWYobiYmIWp8fCFwJiYhQyYmRVtkXXx8cyhFLGQsVCksY1t0XT1ULGNba109eSxnKWlmKCQ9e3ZhbHVlczp4P1Q6Tyh2KSxrZXlzOm0/VDpPKGgpLGVudHJpZXM6eD9PKCJlbnRyaWVzIik6VH0sailmb3IodyBpbiAkKXcgaW4gRXx8aShFLHcsJFt3XSk7ZWxzZSBvKG8uUCtvLkYqKHB8fEMpLHQsJCk7cmV0dXJuICR9fSx7Ii4vJCI6NTYsIi4vJC5leHBvcnQiOjM3LCIuLyQuaGFzIjo0MiwiLi8kLmhpZGUiOjQzLCIuLyQuaXRlci1jcmVhdGUiOjUxLCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLmxpYnJhcnkiOjU4LCIuLyQucmVkZWZpbmUiOjYzLCIuLyQuc2V0LXRvLXN0cmluZy10YWciOjY3LCIuLyQud2tzIjo3OH1dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuLyQud2tzIjo3OH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6bi5jcmVhdGUsZ2V0UHJvdG86bi5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm4uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6bi5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6bi5rZXlzLGdldE5hbWVzOm4uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm4uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLG89ZSgiLi8kLnRvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUpLHM9bi5nZXRLZXlzKGkpLGE9cy5sZW5ndGgsYz0wO2E+YzspaWYoaVtyPXNbYysrXV09PT10KXJldHVybiByfX0seyIuLyQiOjU2LCIuLyQudG8taW9iamVjdCI6NzR9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLnRhc2siKS5zZXQsYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcix1PXMucHJvY2VzcyxsPXMuUHJvbWlzZSxmPSJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKHUpLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7Zm9yKGYmJihlPXUuZG9tYWluKSYmKHUuZG9tYWluPW51bGwsZS5leGl0KCkpO247KXQ9bi5kb21haW4scj1uLmZuLHQmJnQuZW50ZXIoKSxyKCksdCYmdC5leGl0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXt1Lm5leHRUaWNrKGQpfTtlbHNlIGlmKGMpe3ZhciBwPTEsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGMoZCkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSksaT1mdW5jdGlvbigpe2IuZGF0YT1wPS1wfX1lbHNlIGk9bCYmbC5yZXNvbHZlP2Z1bmN0aW9uKCl7bC5yZXNvbHZlKCkudGhlbihkKX06ZnVuY3Rpb24oKXthLmNhbGwocyxkKX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwLGRvbWFpbjpmJiZ1LmRvbWFpbn07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuLyQuY29mIjozMCwiLi8kLmdsb2JhbCI6NDEsIi4vJC50YXNrIjo3Mn1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmV4cG9ydCIpLG89ZSgiLi8kLmNvcmUiKSxpPWUoIi4vJC5mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vJC5jb3JlIjozMSwiLi8kLmV4cG9ydCI6MzcsIi4vJC5mYWlscyI6Mzh9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5yZWRlZmluZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KW4oZSxyLHRbcl0pO3JldHVybiBlfX0seyIuLyQucmVkZWZpbmUiOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi8kLmhpZGUiKX0seyIuLyQuaGlkZSI6NDN9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PT0xL3Q6ZSE9ZSYmdCE9dH19LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJCIpLmdldERlc2Msbz1lKCIuLyQuaXMtb2JqZWN0IiksaT1lKCIuLyQuYW4tb2JqZWN0Iikscz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW8odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbyl7dHJ5e289ZSgiLi8kLmN0eCIpKEZ1bmN0aW9uLmNhbGwsbihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBzKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6c319LHsiLi8kIjo1NiwiLi8kLmFuLW9iamVjdCI6MjgsIi4vJC5jdHgiOjMyLCIuLyQuaXMtb2JqZWN0Ijo0OX1dLDY2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5jb3JlIiksbz1lKCIuLyQiKSxpPWUoIi4vJC5kZXNjcmlwdG9ycyIpLHM9ZSgiLi8kLndrcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07aSYmdCYmIXRbc10mJm8uc2V0RGVzYyh0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi8kIjo1NiwiLi8kLmNvcmUiOjMxLCIuLyQuZGVzY3JpcHRvcnMiOjM0LCIuLyQud2tzIjo3OH1dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kIikuc2V0RGVzYyxvPWUoIi4vJC5oYXMiKSxpPWUoIi4vJC53a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi8kIjo1NiwiLi8kLmhhcyI6NDIsIi4vJC53a3MiOjc4fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi8kLmdsb2JhbCI6NDF9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vJC5hbi1vYmplY3QiKSxvPWUoIi4vJC5hLWZ1bmN0aW9uIiksaT1lKCIuLyQud2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQud2tzIjo3OH1dLDcwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IocisiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yISIpO3JldHVybiBlfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLWludGVnZXIiKSxvPWUoIi4vJC5kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksYz1uKHIpLHU9YS5sZW5ndGg7cmV0dXJuIDA+Y3x8Yz49dT9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksNTUyOTY+aXx8aT41NjMxOXx8YysxPT09dXx8KHM9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQoYyk6aTplP2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLnRvLWludGVnZXIiOjczfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1lKCIuLyQuY3R4IiksYT1lKCIuLyQuaW52b2tlIiksYz1lKCIuLyQuaHRtbCIpLHU9ZSgiLi8kLmRvbS1jcmVhdGUiKSxsPWUoIi4vJC5nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsaD0wLHY9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIixfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9dltlXTtkZWxldGUgdltlXSx0KCl9fSxnPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gdlsrK2hdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGgpLGh9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZV19LCJwcm9jZXNzIj09ZSgiLi8kLmNvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKF8sZSwxKSl9OmI/KG89bmV3IGIsaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWcsbj1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZywhMSkpOm49eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksXy5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKF8sZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LHsiLi8kLmNvZiI6MzAsIi4vJC5jdHgiOjMyLCIuLyQuZG9tLWNyZWF0ZSI6MzUsIi4vJC5nbG9iYWwiOjQxLCIuLyQuaHRtbCI6NDQsIi4vJC5pbnZva2UiOjQ1fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuaW9iamVjdCIpLG89ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSx7Ii4vJC5kZWZpbmVkIjozMywiLi8kLmlvYmplY3QiOjQ2fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW50ZWdlciIpLG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vJC50by1pbnRlZ2VyIjo3M31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLmRlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi8kLmRlZmluZWQiOjMzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuc2hhcmVkIikoIndrcyIpLG89ZSgiLi8kLnVpZCIpLGk9ZSgiLi8kLmdsb2JhbCIpLlN5bWJvbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkmJmlbZV18fChpfHxvKSgiU3ltYm9sLiIrZSkpfX0seyIuLyQuZ2xvYmFsIjo0MSwiLi8kLnNoYXJlZCI6NjgsIi4vJC51aWQiOjc3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuY2xhc3NvZiIpLG89ZSgiLi8kLndrcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi8kLml0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuLyQuY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi8kLmNsYXNzb2YiOjI5LCIuLyQuY29yZSI6MzEsIi4vJC5pdGVyYXRvcnMiOjU1LCIuLyQud2tzIjo3OH1dLDgwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vJC5hZGQtdG8tdW5zY29wYWJsZXMiKSxvPWUoIi4vJC5pdGVyLXN0ZXAiKSxpPWUoIi4vJC5pdGVyYXRvcnMiKSxzPWUoIi4vJC50by1pb2JqZWN0Iik7dC5leHBvcnRzPWUoIi4vJC5pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi8kLmFkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5pdGVyLXN0ZXAiOjU0LCIuLyQuaXRlcmF0b3JzIjo1NSwiLi8kLnRvLWlvYmplY3QiOjc0fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQudG8taW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1pb2JqZWN0Ijo3NH1dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUobih0KSl9fSl9LHsiLi8kLm9iamVjdC1zYXAiOjYwLCIuLyQudG8tb2JqZWN0Ijo3Nn1dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi8kLnRvLW9iamVjdCIpO2UoIi4vJC5vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShuKHQpKX19KX0seyIuLyQub2JqZWN0LXNhcCI6NjAsIi4vJC50by1vYmplY3QiOjc2fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuLyQuZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vJC5zZXQtcHJvdG8iKS5zZXR9KX0seyIuLyQuZXhwb3J0IjozNywiLi8kLnNldC1wcm90byI6NjV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDg2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89ZSgiLi8kIiksaT1lKCIuLyQubGlicmFyeSIpLHM9ZSgiLi8kLmdsb2JhbCIpLGE9ZSgiLi8kLmN0eCIpLGM9ZSgiLi8kLmNsYXNzb2YiKSx1PWUoIi4vJC5leHBvcnQiKSxsPWUoIi4vJC5pcy1vYmplY3QiKSxmPWUoIi4vJC5hbi1vYmplY3QiKSxkPWUoIi4vJC5hLWZ1bmN0aW9uIikscD1lKCIuLyQuc3RyaWN0LW5ldyIpLGI9ZSgiLi8kLmZvci1vZiIpLGg9ZSgiLi8kLnNldC1wcm90byIpLnNldCx2PWUoIi4vJC5zYW1lLXZhbHVlIikseT1lKCIuLyQud2tzIikoInNwZWNpZXMiKSxfPWUoIi4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yIiksZz1lKCIuLyQubWljcm90YXNrIiksbT0iUHJvbWlzZSIsaj1zLnByb2Nlc3MsJD0icHJvY2VzcyI9PWMoaiksdz1zW21dLE89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHcoZnVuY3Rpb24oKXt9KTtyZXR1cm4gZSYmKHQuY29uc3RydWN0b3I9T2JqZWN0KSx3LnJlc29sdmUodCk9PT10fSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgdyhlKTtyZXR1cm4gaChyLHQucHJvdG90eXBlKSxyfXZhciByPSExO3RyeXtpZihyPXcmJncucmVzb2x2ZSYmTygpLGgodCx3KSx0LnByb3RvdHlwZT1vLmNyZWF0ZSh3LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnR9fSksdC5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KWluc3RhbmNlb2YgdHx8KHI9ITEpLHImJmUoIi4vJC5kZXNjcmlwdG9ycyIpKXt2YXIgbj0hMTt3LnJlc29sdmUoby5zZXREZXNjKHt9LCJ0aGVuIix7Z2V0OmZ1bmN0aW9uKCl7bj0hMH19KSkscj1ufX1jYXRjaChpKXtyPSExfXJldHVybiByfSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSYmZT09PXcmJnQ9PT1uPyEwOnYoZSx0KX0sQz1mdW5jdGlvbihlKXt2YXIgdD1mKGUpW3ldO3JldHVybiB2b2lkIDAhPXQ/dDplfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBsKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFM9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5uKXtlLm49ITA7dmFyIHI9ZS5jO2coZnVuY3Rpb24oKXtmb3IodmFyIG49ZS52LG89MT09ZS5zLGk9MCxhPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGE9dC5yZXNvbHZlLGM9dC5yZWplY3Q7dHJ5e3M/KG98fChlLmg9ITApLHI9cz09PSEwP246cyhuKSxyPT09dC5wcm9taXNlP2MoVHlwZUVycm9yKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLGEsYyk6YShyKSk6YyhuKX1jYXRjaCh1KXtjKHUpfX07ci5sZW5ndGg+aTspYShyW2krK10pO3IubGVuZ3RoPTAsZS5uPSExLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxyLG89ZS5wO00obykmJigkP2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLG8pOih0PXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Qoe3Byb21pc2U6byxyZWFzb246bn0pOihyPXMuY29uc29sZSkmJnIuZXJyb3ImJnIuZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbikpLGUuYT12b2lkIDB9LDEpfSl9fSxNPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5fZCxuPXIuYXx8ci5jLG89MDtpZihyLmgpcmV0dXJuITE7Zm9yKDtuLmxlbmd0aD5vOylpZih0PW5bbysrXSx0LmZhaWx8fCFNKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmR8fCh0LmQ9ITAsdD10LnJ8fHQsdC52PWUsdC5zPTIsdC5hPXQuYy5zbGljZSgpLFIodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5kKXtyLmQ9ITAscj1yLnJ8fHI7dHJ5e2lmKHIucD09PWUpdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2coZnVuY3Rpb24oKXt2YXIgbj17cjpyLGQ6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIudj1lLHIucz0xLFIociwhMSkpfWNhdGNoKG4pe0QuY2FsbCh7cjpyLGQ6ITF9LG4pfX19O2t8fCh3PWZ1bmN0aW9uKGUpe2QoZSk7dmFyIHQ9dGhpcy5fZD17cDpwKHRoaXMsdyxtKSxjOltdLGE6dm9pZCAwLHM6MCxkOiExLHY6dm9pZCAwLGg6ITEsbjohMX07dHJ5e2UoYShOLHQsMSksYShELHQsMSkpfWNhdGNoKHIpe0QuY2FsbCh0LHIpfX0sZSgiLi8kLnJlZGVmaW5lLWFsbCIpKHcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFMoXyh0aGlzLHcpKSxuPXIucHJvbWlzZSxvPXRoaXMuX2Q7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsby5jLnB1c2gociksby5hJiZvLmEucHVzaChyKSxvLnMmJlIobywhMSksbn0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSksdSh1LkcrdS5XK3UuRiohayx7UHJvbWlzZTp3fSksZSgiLi8kLnNldC10by1zdHJpbmctdGFnIikodyxtKSxlKCIuLyQuc2V0LXNwZWNpZXMiKShtKSxuPWUoIi4vJC5jb3JlIilbbV0sdSh1LlMrdS5GKiFrLG0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgUyh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqKCFrfHxPKCEwKSksbSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PW5ldyBTKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSx1KHUuUyt1LkYqIShrJiZlKCIuLyQuaXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXt3LmFsbChlKVsiY2F0Y2giXShmdW5jdGlvbigpe30pfSkpLG0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD1DKHRoaXMpLHI9bmV3IFModCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxzPVtdLGE9VChmdW5jdGlvbigpe2IoZSwhMSxzLnB1c2gscyk7dmFyIHI9cy5sZW5ndGgsYT1BcnJheShyKTtyP28uZWFjaC5jYWxsKHMsZnVuY3Rpb24oZSxvKXt2YXIgcz0hMTt0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzfHwocz0hMCxhW29dPWUsLS1yfHxuKGEpKX0saSl9KTpuKGEpfSk7cmV0dXJuIGEmJmkoYS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PUModGhpcykscj1uZXcgUyh0KSxuPXIucmVqZWN0LG89VChmdW5jdGlvbigpe2IoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuLyQiOjU2LCIuLyQuYS1mdW5jdGlvbiI6MjYsIi4vJC5hbi1vYmplY3QiOjI4LCIuLyQuY2xhc3NvZiI6MjksIi4vJC5jb3JlIjozMSwiLi8kLmN0eCI6MzIsIi4vJC5kZXNjcmlwdG9ycyI6MzQsIi4vJC5leHBvcnQiOjM3LCIuLyQuZm9yLW9mIjozOSwiLi8kLmdsb2JhbCI6NDEsIi4vJC5pcy1vYmplY3QiOjQ5LCIuLyQuaXRlci1kZXRlY3QiOjUzLCIuLyQubGlicmFyeSI6NTgsIi4vJC5taWNyb3Rhc2siOjU5LCIuLyQucmVkZWZpbmUtYWxsIjo2MiwiLi8kLnNhbWUtdmFsdWUiOjY0LCIuLyQuc2V0LXByb3RvIjo2NSwiLi8kLnNldC1zcGVjaWVzIjo2NiwiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNwZWNpZXMtY29uc3RydWN0b3IiOjY5LCIuLyQuc3RyaWN0LW5ldyI6NzAsIi4vJC53a3MiOjc4fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kLnN0cmluZy1hdCIpKCEwKTtlKCIuLyQuaXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vJC5pdGVyLWRlZmluZSI6NTIsIi4vJC5zdHJpbmctYXQiOjcxfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi8kIiksbz1lKCIuLyQuZ2xvYmFsIiksaT1lKCIuLyQuaGFzIikscz1lKCIuLyQuZGVzY3JpcHRvcnMiKSxhPWUoIi4vJC5leHBvcnQiKSxjPWUoIi4vJC5yZWRlZmluZSIpLHU9ZSgiLi8kLmZhaWxzIiksbD1lKCIuLyQuc2hhcmVkIiksZj1lKCIuLyQuc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vJC51aWQiKSxwPWUoIi4vJC53a3MiKSxiPWUoIi4vJC5rZXlvZiIpLGg9ZSgiLi8kLmdldC1uYW1lcyIpLHY9ZSgiLi8kLmVudW0ta2V5cyIpLHk9ZSgiLi8kLmlzLWFycmF5IiksXz1lKCIuLyQuYW4tb2JqZWN0IiksZz1lKCIuLyQudG8taW9iamVjdCIpLG09ZSgiLi8kLnByb3BlcnR5LWRlc2MiKSxqPW4uZ2V0RGVzYywkPW4uc2V0RGVzYyx3PW4uY3JlYXRlLE89aC5nZXQsaz1vLlN5bWJvbCx4PW8uSlNPTixDPXgmJnguc3RyaW5naWZ5LEU9ITEsUz1wKCJfaGlkZGVuIiksVD1uLmlzRW51bSxSPWwoInN5bWJvbC1yZWdpc3RyeSIpLE09bCgic3ltYm9scyIpLEQ9ImZ1bmN0aW9uIj09dHlwZW9mIGssTj1PYmplY3QucHJvdG90eXBlLFA9cyYmdShmdW5jdGlvbigpe3JldHVybiA3IT13KCQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49aihOLHQpO24mJmRlbGV0ZSBOW3RdLCQoZSx0LHIpLG4mJmUhPT1OJiYkKE4sdCxuKX06JCxBPWZ1bmN0aW9uKGUpe3ZhciB0PU1bZV09dyhrLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZFJiZQKE4sZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsUykmJmkodGhpc1tTXSxlKSYmKHRoaXNbU11bZV09ITEpLFAodGhpcyxlLG0oMSx0KSl9fSksdH0sTD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9LEY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByJiZpKE0sdCk/KHIuZW51bWVyYWJsZT8oaShlLFMpJiZlW1NdW3RdJiYoZVtTXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6bSgwLCExKX0pKTooaShlLFMpfHwkKGUsUyxtKDEse30pKSxlW1NdW3RdPSEwKSxQKGUsdCxyKSk6JChlLHQscil9LEk9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1nKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUYoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sVj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6SSh3KGUpLHQpfSxVPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGUpO3JldHVybiB0fHwhaSh0aGlzLGUpfHwhaShNLGUpfHxpKHRoaXMsUykmJnRoaXNbU11bZV0/dDohMH0sej1mdW5jdGlvbihlLHQpe3ZhciByPWooZT1nKGUpLHQpO3JldHVybiFyfHwhaShNLHQpfHxpKGUsUykmJmVbU11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LEg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pfHx0PT1TfHxuLnB1c2godCk7cmV0dXJuIG59LEI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9TyhnKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKE0sdD1yW28rK10pJiZuLnB1c2goTVt0XSk7cmV0dXJuIG59LEo9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUwoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MSxpPWFyZ3VtZW50cztpLmxlbmd0aD5vOyluLnB1c2goaVtvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmeSh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksTCh0KT92b2lkIDA6dH0pLG5bMV09dCxDLmFwcGx5KHgsbil9fSxXPXUoZnVuY3Rpb24oKXt2YXIgZT1rKCk7cmV0dXJuIltudWxsXSIhPUMoW2VdKXx8Int9IiE9Qyh7YTplfSl8fCJ7fSIhPUMoT2JqZWN0KGUpKX0pO0R8fChrPWZ1bmN0aW9uKCl7aWYoTCh0aGlzKSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3JldHVybiBBKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhrLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Yga30sbi5jcmVhdGU9VixuLmlzRW51bT1VLG4uZ2V0RGVzYz16LG4uc2V0RGVzYz1GLG4uc2V0RGVzY3M9SSxuLmdldE5hbWVzPWguZ2V0PUgsbi5nZXRTeW1ib2xzPUIscyYmIWUoIi4vJC5saWJyYXJ5IikmJmMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFUsITApKTt2YXIgWT17ImZvciI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoUixlKz0iIik/UltlXTpSW2VdPWsoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYihSLGUpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtFPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtFPSExfX07bi5lYWNoLmNhbGwoImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7WVtlXT1EP3Q6QSh0KX0pLEU9ITAsYShhLkcrYS5XLHtTeW1ib2w6a30pLGEoYS5TLCJTeW1ib2wiLFkpLGEoYS5TK2EuRiohRCwiT2JqZWN0Iix7Y3JlYXRlOlYsZGVmaW5lUHJvcGVydHk6RixkZWZpbmVQcm9wZXJ0aWVzOkksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczpILGdldE93blByb3BlcnR5U3ltYm9sczpCfSkseCYmYShhLlMrYS5GKighRHx8VyksIkpTT04iLHtzdHJpbmdpZnk6Sn0pLGYoaywiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihvLkpTT04sIkpTT04iLCEwKX0seyIuLyQiOjU2LCIuLyQuYW4tb2JqZWN0IjoyOCwiLi8kLmRlc2NyaXB0b3JzIjozNCwiLi8kLmVudW0ta2V5cyI6MzYsIi4vJC5leHBvcnQiOjM3LCIuLyQuZmFpbHMiOjM4LCIuLyQuZ2V0LW5hbWVzIjo0MCwiLi8kLmdsb2JhbCI6NDEsIi4vJC5oYXMiOjQyLCIuLyQuaXMtYXJyYXkiOjQ4LCIuLyQua2V5b2YiOjU3LCIuLyQubGlicmFyeSI6NTgsIi4vJC5wcm9wZXJ0eS1kZXNjIjo2MSwiLi8kLnJlZGVmaW5lIjo2MywiLi8kLnNldC10by1zdHJpbmctdGFnIjo2NywiLi8kLnNoYXJlZCI6NjgsIi4vJC50by1pb2JqZWN0Ijo3NCwiLi8kLnVpZCI6NzcsIi4vJC53a3MiOjc4fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO3ZhciBuPWUoIi4vJC5pdGVyYXRvcnMiKTtuLk5vZGVMaXN0PW4uSFRNTENvbGxlY3Rpb249bi5BcnJheX0seyIuLyQuaXRlcmF0b3JzIjo1NSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjgwfV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWEoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYz1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YykmJihyPWEoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGEsYz17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGE9cy5uYW1lLGkmJmlbYV09PT1lfHwocy52YWx1ZSE9PW9bYV0mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmEsb2xkVmFsdWU6b1thXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksY1thXT0hMCk7Zm9yKGEgaW4gbyljW2FdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTphLG9sZFZhbHVlOm9bYV19KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBhKGUscixvLGEsYyl7dmFyIGw9ZS5sZW5ndGgtMTtjPS1+KChsLWMpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWFbcC5pXSxzLmImJmMmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxjLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLGgsdix5PXIuY2hpbGROb2RlcyxfPW8uYixnPXkubGVuZ3RoLG09Xz9fLmxlbmd0aDowLGo9MCwkPTAsdz0wO2c+JHx8bT53OyloPXlbJF0sdj0oYj1fW3ddKSYmYi5qLGg9PT12PyhzLmEmJmIuYSYmaSh0LGgsYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZoLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpofSkpLHAmJmEocCxyLHksXyxqKSxzLmUmJihoLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KGgsYiksJCsrLHcrKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksaCYmKGRbYj1jKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKF8saCx3LCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOmgubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmgucHJldmlvdXNTaWJsaW5nfSkpLGorKyk6cC5wdXNoKHtoOiQsaTpifSkpLCQrKyksdiYmdiE9PXlbJF0mJihkW2I9Yyh2KV18fChkW2JdPSEwLC0xPT09KGI9Zih5LHYsJCkpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOlt2XSxuZXh0U2libGluZzpfW3crMV0scHJldmlvdXNTaWJsaW5nOl9bdy0xXX0pKSxqLS0pOnAucHVzaCh7aDpiLGk6d30pKSx3KyspKTtwJiZhKHAscix5LF8sail9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBjKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7CnJldHVybiBlW3RdPSEwLGV9KSksaS5wdXNoKHttOmUsbDpvKGUsbil9KSx0aGlzLmZ8fHIodGhpcyl9LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5nLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmwoZSk7cmV0dXJuIGV9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLmc9W10sY2xlYXJUaW1lb3V0KHRoaXMuZiksdGhpcy5mPW51bGx9fTt2YXIgZD0xO3JldHVybiB0fSh2b2lkIDApfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxhPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYz10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFtjKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1jKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWMoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChjKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YyhyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYSh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KHYobixlKSxtKGUsbix0LHIpKToobj1oKGUpLG0oZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LGg9ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxhPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjpnKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTthPGkubGVuZ3RoOyluW2FdPWQodCxpW2FdKSxzW2FdPXRbaVthKytdXTtlbHNlIGZvcig7YTxpLmxlbmd0aDspc1thXT10W2lbYSsrXV07cmV0dXJuIG8uc2V0KHQscikscn0sdj1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGE9dC52YWx1ZXNbcl0sYz10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYT09PXM/MD09PWEmJjEvYSE9PTEvczphPT09YXx8cz09PXMpJiYoaihlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmF9LG4pLHQudmFsdWVzW3JdPXMpLCFjLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1jLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1jLmVudW1lcmFibGUmJm8uZ2V0PT09Yy5nZXQmJm8uc2V0PT09Yy5zZXR8fChqKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTphfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGooZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGE9ci5sZW5ndGg7biYmYS0tOyludWxsIT09clthXSYmKHM9ZChlLHJbYV0pLG4tLSxzP3QoZSxvLGEsaSxzKTooaihlLG8se25hbWU6clthXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2FdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGEsMSksby52YWx1ZXMuc3BsaWNlKGEsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYSwxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoaihlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYSx1LHAsYixoLHYseSxfPW4udmFsdWVzLGc9bi5kZXNjcmlwdG9ycyxtPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYT1zLmxlbmd0aCx1PWwobyksZyl7Zm9yKDttPHUubGVuZ3RoOyliPXVbbSsrXSxwPWMocyxiKSx5PWQobyxiKSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKG9bYl0pLGcucHVzaCh5KSk6KHNbcF09bnVsbCxhLS0sdChvLG4scCxpLHkpKTtyKG8scyxhLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsaihvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO208dS5sZW5ndGg7KWI9dVttKytdLHA9YyhzLGIpLGg9b1tiXSwtMT09PXA/KGoobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksXy5wdXNoKGgpKTooc1twXT1udWxsLGEtLSx0KG8sbixwLGkpKTtyKG8scyxhLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7bTxzLmxlbmd0aDttKyspYj1zW21dLHQobyxuLG0saSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKHY9ZihvKSx2IT09bi5wcm90byYmKGoobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89dikpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaCh2KSxpLmZvckVhY2goXykscCh5KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtqKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGE9by5nZXQoZSksYz1hcmd1bWVudHNbMl0sdT1jPT09bj9yKCk6ci5jYWxsKGMpO2lmKGEmJnYoYSxlLHQpLGEmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7aihlLGEscyl9fX19LG09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGo9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1jKG8sbikpJiZjKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7XyhuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDpnKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dihlLmRhdGEsdCl9KSxfKHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxhPW4ocyksYz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGMpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9YVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6OTYsIi4vc3luY2hlci9TeW5jaGVyIjo5OSwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjo5MCwib2JqZWN0Lm9ic2VydmUiOjkxfV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYyksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGg9bihiKSx2PWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9dCxhLl91cmw9cixhLl9zY2hlbWE9bixhLl9zdGF0dXM9byxhLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYS5fY2hpbGRyZW5zPXMsYS5fdmVyc2lvbj0wLGEuX2NoaWxkSWQ9MCxhLl9jaGlsZHJlbk9iamVjdHM9e30sYS5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYS5fb3duZXI9dC5fb3duZXIsYS5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxhWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBhPW5ldyBoWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGhbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsdi5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGE9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYSwwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBjPWkub2JqLHU9aS5sYXN0O2Muc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3RDaGlsZCI6OTQsIi4vU3luY09iamVjdCI6OTgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4ocyksYz1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYyksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGE9dGhpczthLl9wYXJlbnQ9dCxhLl9jaGlsZElkPXIsYS5fb3duZXI9byxhLl9tc2dJZD1zLGEuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxhLl9idXM9dC5fYnVzLGEuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0Ijo5OCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksaj1uKG0pLCQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYyxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGMpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBqWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxoWyJkZWZhdWx0Il0pKCgwLGFbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsaFsiZGVmYXVsdCJdKSgoMCxhWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTokLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9JC5BTlk6KG4udHlwZT0kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT0kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PSQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT0kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShnWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT13LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0Ijo5MywiLi9EYXRhT2JqZWN0Q2hpbGQiOjk0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGE9bihzKSxjPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihjKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGg9bihiKSx2PWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bih2KSxfPWUoIi4vRGF0YU9iamVjdCIpLGc9bihfKSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGM9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGFbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1jO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGN9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGhbImRlZmF1bHQiXSkoKDAsYVsiZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsbS5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLG0uZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KGdbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWosdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTAwLCIuL0RhdGFPYmplY3QiOjkzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNX1dLDk3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bihzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09Yyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTJ9XSw5ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxhPW4ocyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYyksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGFbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1oLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1oLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGE9ZVsibmV3Il0oIiIrcyksYz1hLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YyxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBoPW8uc2xpY2UocyxzK2QpO2guZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShoKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxhPXMudG9TdHJpbmcoKTtpZigtMSE9PWEuaW5kZXhPZigiU3ltYm9sIikpY29udGludWU7dmFyIGM9b1t0W25dLm5hbWVdOyJ1cGRhdGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuVVBEQVRFLG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShjKX0pLCJhZGQiPT09dFtuXS50eXBlJiYodGhpcy5faW50ZXJuYWxPYnNlcnZlKHMsYyksdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYyl9KSksImRlbGV0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5SRU1PVkUsb1R5cGU6aSxmaWVsZDphfSl9fX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxlfSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYVsiZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMuX3BhdGg9W10sdGhpcy5fb2JzZXJ2YWJsZXM9e319cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1wJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR4LnRvU3RyaW5nKCl9fV0pLGV9KCksYj1yLkNoYW5nZVR5cGU9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifSxoPXIuT2JqZWN0VHlwZT17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3JbImRlZmF1bHQiXT1mfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMDAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMn1dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYT1uKHMpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGMpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksaD1uKGIpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxhWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYT1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1hLHQoYSl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBoWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYT1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1hLG8oYSkscy5hcHBseShhKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09dix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjo5NSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjk2LCIuL0RhdGFQcm92aXNpb25hbCI6OTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEyfV0sMTAwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YSxyLmdldFVzZXJVUkxGcm9tRW1haWw9YyxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbOTJdKSg5Mil9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqIElQdjYgU3VwcG9ydAogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LklQdjYgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoKICB2YXIgX2luID0gImZlODA6MDAwMDowMDAwOjAwMDA6MDIwNDo2MWZmOmZlOWQ6ZjE1NiI7CiAgdmFyIF9vdXQgPSBJUHY2LmJlc3QoX2luKTsKICB2YXIgX2V4cGVjdGVkID0gImZlODA6OjIwNDo2MWZmOmZlOWQ6ZjE1NiI7CgogIGNvbnNvbGUubG9nKF9pbiwgX291dCwgX2V4cGVjdGVkLCBfb3V0ID09PSBfZXhwZWN0ZWQpOwogICovCgogIC8vIHNhdmUgY3VycmVudCBJUHY2IHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX0lQdjYgPSByb290ICYmIHJvb3QuSVB2NjsKCiAgZnVuY3Rpb24gYmVzdFByZXNlbnRhdGlvbihhZGRyZXNzKSB7CiAgICAvLyBiYXNlZCBvbjoKICAgIC8vIEphdmFzY3JpcHQgdG8gdGVzdCBhbiBJUHY2IGFkZHJlc3MgZm9yIHByb3BlciBmb3JtYXQsIGFuZCB0bwogICAgLy8gcHJlc2VudCB0aGUgImJlc3QgdGV4dCByZXByZXNlbnRhdGlvbiIgYWNjb3JkaW5nIHRvIElFVEYgRHJhZnQgUkZDIGF0CiAgICAvLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0CiAgICAvLyA4IEZlYiAyMDEwIFJpY2ggQnJvd24sIERhcnR3YXJlLCBMTEMKICAgIC8vIFBsZWFzZSBmZWVsIGZyZWUgdG8gdXNlIHRoaXMgY29kZSBhcyBsb25nIGFzIHlvdSBwcm92aWRlIGEgbGluayB0bwogICAgLy8gaHR0cDovL3d3dy5pbnRlcm1hcHBlci5jb20KICAgIC8vIGh0dHA6Ly9pbnRlcm1hcHBlci5jb20vc3VwcG9ydC90b29scy9JUFY2LVZhbGlkYXRvci5hc3B4CiAgICAvLyBodHRwOi8vZG93bmxvYWQuZGFydHdhcmUuY29tL3RoaXJkcGFydHkvaXB2NnZhbGlkYXRvci5qcwoKICAgIHZhciBfYWRkcmVzcyA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKTsKICAgIHZhciBzZWdtZW50cyA9IF9hZGRyZXNzLnNwbGl0KCc6Jyk7CiAgICB2YXIgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwogICAgdmFyIHRvdGFsID0gODsKCiAgICAvLyB0cmltIGNvbG9ucyAoOjogb3IgOjphOmI6Y+KApiBvciDigKZhOmI6Yzo6KQogICAgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycgJiYgc2VnbWVudHNbMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6CiAgICAgIC8vIHJlbW92ZSBmaXJzdCB0d28gaXRlbXMKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6Onh4eHgKICAgICAgLy8gcmVtb3ZlIHRoZSBmaXJzdCBpdGVtCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdID09PSAnJyAmJiBzZWdtZW50c1tsZW5ndGggLSAyXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4geHh4eDo6CiAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhZGp1c3QgdG90YWwgc2VnbWVudHMgZm9yIElQdjQgdHJhaWxlcgogICAgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdLmluZGV4T2YoJy4nKSAhPT0gLTEpIHsKICAgICAgLy8gZm91bmQgYSAiLiIgd2hpY2ggbWVhbnMgSVB2NAogICAgICB0b3RhbCA9IDc7CiAgICB9CgogICAgLy8gZmlsbCBlbXB0eSBzZWdtZW50cyB0aGVtIHdpdGggIjAwMDAiCiAgICB2YXIgcG9zOwogICAgZm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmIChzZWdtZW50c1twb3NdID09PSAnJykgewogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKHBvcyA8IHRvdGFsKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShwb3MsIDEsICcwMDAwJyk7CiAgICAgIHdoaWxlIChzZWdtZW50cy5sZW5ndGggPCB0b3RhbCkgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShwb3MsIDAsICcwMDAwJyk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBzdHJpcCBsZWFkaW5nIHplcm9zCiAgICB2YXIgX3NlZ21lbnRzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIF9zZWdtZW50cyA9IHNlZ21lbnRzW2ldLnNwbGl0KCcnKTsKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzIDsgaisrKSB7CiAgICAgICAgaWYgKF9zZWdtZW50c1swXSA9PT0gJzAnICYmIF9zZWdtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICBfc2VnbWVudHMuc3BsaWNlKDAsMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc2VnbWVudHNbaV0gPSBfc2VnbWVudHMuam9pbignJyk7CiAgICB9CgogICAgLy8gZmluZCBsb25nZXN0IHNlcXVlbmNlIG9mIHplcm9lcyBhbmQgY29hbGVzY2UgdGhlbSBpbnRvIG9uZSBzZWdtZW50CiAgICB2YXIgYmVzdCA9IC0xOwogICAgdmFyIF9iZXN0ID0gMDsKICAgIHZhciBfY3VycmVudCA9IDA7CiAgICB2YXIgY3VycmVudCA9IC0xOwogICAgdmFyIGluemVyb2VzID0gZmFsc2U7CiAgICAvLyBpOyBhbHJlYWR5IGRlY2xhcmVkCgogICAgZm9yIChpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgaWYgKGluemVyb2VzKSB7CiAgICAgICAgaWYgKHNlZ21lbnRzW2ldID09PSAnMCcpIHsKICAgICAgICAgIF9jdXJyZW50ICs9IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGluemVyb2VzID0gZmFsc2U7CiAgICAgICAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICAgICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNlZ21lbnRzW2ldID09PSAnMCcpIHsKICAgICAgICAgIGluemVyb2VzID0gdHJ1ZTsKICAgICAgICAgIGN1cnJlbnQgPSBpOwogICAgICAgICAgX2N1cnJlbnQgPSAxOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgfQoKICAgIGlmIChfYmVzdCA+IDEpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKGJlc3QsIF9iZXN0LCAnJyk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFzc2VtYmxlIHJlbWFpbmluZyBzZWdtZW50cwogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgaWYgKHNlZ21lbnRzWzBdID09PSAnJykgIHsKICAgICAgcmVzdWx0ID0gJzonOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICByZXN1bHQgKz0gc2VnbWVudHNbaV07CiAgICAgIGlmIChpID09PSBsZW5ndGggLSAxKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgaWYgKHNlZ21lbnRzW2xlbmd0aCAtIDFdID09PSAnJykgewogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBub0NvbmZsaWN0KCkgewogICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovCiAgICBpZiAocm9vdC5JUHY2ID09PSB0aGlzKSB7CiAgICAgIHJvb3QuSVB2NiA9IF9JUHY2OwogICAgfQogIAogICAgcmV0dXJuIHRoaXM7CiAgfQoKICByZXR1cm4gewogICAgYmVzdDogYmVzdFByZXNlbnRhdGlvbiwKICAgIG5vQ29uZmxpY3Q6IG5vQ29uZmxpY3QKICB9Owp9KSk7Cgp9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogU2Vjb25kIExldmVsIERvbWFpbiAoU0xEKSBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID0gZmFjdG9yeShyb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHJvb3QpIHsKICAndXNlIHN0cmljdCc7CgogIC8vIHNhdmUgY3VycmVudCBTZWNvbmRMZXZlbERvbWFpbnMgdmFyaWFibGUsIGlmIGFueQogIHZhciBfU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdCAmJiByb290LlNlY29uZExldmVsRG9tYWluczsKCiAgdmFyIFNMRCA9IHsKICAgIC8vIGxpc3Qgb2Yga25vd24gU2Vjb25kIExldmVsIERvbWFpbnMKICAgIC8vIGNvbnZlcnRlZCBsaXN0IG9mIFNMRHMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2F2aW5nbWlsbGVyL3NlY29uZC1sZXZlbC1kb21haW5zCiAgICAvLyAtLS0tCiAgICAvLyBwdWJsaWNzdWZmaXgub3JnIGlzIG1vcmUgY3VycmVudCBhbmQgYWN0dWFsbHkgdXNlZCBieSBhIGNvdXBsZSBvZiBicm93c2VycyBpbnRlcm5hbGx5LgogICAgLy8gZG93bnNpZGUgaXMgaXQgYWxzbyBjb250YWlucyBkb21haW5zIGxpa2UgImR5bmRucy5vcmciIC0gd2hpY2ggaXMgZmluZSBmb3IgdGhlIHNlY3VyaXR5CiAgICAvLyBpc3N1ZXMgYnJvd3NlciBoYXZlIHRvIGRlYWwgd2l0aCAoU09QIGZvciBjb29raWVzLCBldGMpIC0gYnV0IGlzIHdheSBvdmVyYm9hcmQgZm9yIFVSSS5qcwogICAgLy8gLS0tLQogICAgbGlzdDogewogICAgICAnYWMnOicgY29tIGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYWUnOicgYWMgY28gZ292IG1pbCBuYW1lIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAnYWYnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYWwnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FvJzonIGNvIGVkIGd2IGl0IG9nIHBiICcsCiAgICAgICdhcic6JyBjb20gZWR1IGdvYiBnb3YgaW50IG1pbCBuZXQgb3JnIHR1ciAnLAogICAgICAnYXQnOicgYWMgY28gZ3Ygb3IgJywKICAgICAgJ2F1JzonIGFzbiBjb20gY3Npcm8gZWR1IGdvdiBpZCBuZXQgb3JnICcsCiAgICAgICdiYSc6JyBjbyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBycyB1bmJpIHVubW8gdW5zYSB1bnR6IHVuemUgJywKICAgICAgJ2JiJzonIGJpeiBjbyBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgc3RvcmUgdHYgJywKICAgICAgJ2JoJzonIGJpeiBjYyBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ2JuJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2JvJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHYgJywKICAgICAgJ2JyJzonIGFkbSBhZHYgYWdyIGFtIGFycSBhcnQgYXRvIGIgYmlvIGJsb2cgYm1kIGNpbSBjbmcgY250IGNvbSBjb29wIGVjbiBlZHUgZW5nIGVzcCBldGMgZXRpIGZhciBmbG9nIGZtIGZuZCBmb3QgZnN0IGcxMiBnZ2YgZ292IGltYiBpbmQgaW5mIGpvciBqdXMgbGVsIG1hdCBtZWQgbWlsIG11cyBuZXQgbm9tIG5vdCBudHIgb2RvIG9yZyBwcGcgcHJvIHBzYyBwc2kgcXNsIHJlYyBzbGcgc3J2IHRtcCB0cmQgdHVyIHR2IHZldCB2bG9nIHdpa2kgemxnICcsCiAgICAgICdicyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdieic6JyBkdSBldCBvbSBvdiByZyAnLAogICAgICAnY2EnOicgYWIgYmMgbWIgbmIgbmYgbmwgbnMgbnQgbnUgb24gcGUgcWMgc2sgeWsgJywKICAgICAgJ2NrJzonIGJpeiBjbyBlZHUgZ2VuIGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ2NuJzonIGFjIGFoIGJqIGNvbSBjcSBlZHUgZmogZ2QgZ292IGdzIGd4IGd6IGhhIGhiIGhlIGhpIGhsIGhuIGpsIGpzIGp4IGxuIG1pbCBuZXQgbm0gbnggb3JnIHFoIHNjIHNkIHNoIHNuIHN4IHRqIHR3IHhqIHh6IHluIHpqICcsCiAgICAgICdjbyc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG5vbSBvcmcgJywKICAgICAgJ2NyJzonIGFjIGMgY28gZWQgZmkgZ28gb3Igc2EgJywKICAgICAgJ2N5JzonIGFjIGJpeiBjb20gZWtsb2dlcyBnb3YgbHRkIG5hbWUgbmV0IG9yZyBwYXJsaWFtZW50IHByZXNzIHBybyB0bSAnLAogICAgICAnZG8nOicgYXJ0IGNvbSBlZHUgZ29iIGdvdiBtaWwgbmV0IG9yZyBzbGQgd2ViICcsCiAgICAgICdkeic6JyBhcnQgYXNzbyBjb20gZWR1IGdvdiBuZXQgb3JnIHBvbCAnLAogICAgICAnZWMnOicgY29tIGVkdSBmaW4gZ292IGluZm8gbWVkIG1pbCBuZXQgb3JnIHBybyAnLAogICAgICAnZWcnOicgY29tIGVkdSBldW4gZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NpICcsCiAgICAgICdlcic6JyBjb20gZWR1IGdvdiBpbmQgbWlsIG5ldCBvcmcgcm9jaGVzdCB3ICcsCiAgICAgICdlcyc6JyBjb20gZWR1IGdvYiBub20gb3JnICcsCiAgICAgICdldCc6JyBiaXogY29tIGVkdSBnb3YgaW5mbyBuYW1lIG5ldCBvcmcgJywKICAgICAgJ2ZqJzonIGFjIGJpeiBjb20gaW5mbyBtaWwgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnZmsnOicgYWMgY28gZ292IG5ldCBub20gb3JnICcsCiAgICAgICdmcic6JyBhc3NvIGNvbSBmIGdvdXYgbm9tIHByZCBwcmVzc2UgdG0gJywKICAgICAgJ2dnJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2doJzonIGNvbSBlZHUgZ292IG1pbCBvcmcgJywKICAgICAgJ2duJzonIGFjIGNvbSBnb3YgbmV0IG9yZyAnLAogICAgICAnZ3InOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2d0JzonIGNvbSBlZHUgZ29iIGluZCBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3UnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnaGsnOicgY29tIGVkdSBnb3YgaWR2IG5ldCBvcmcgJywKICAgICAgJ2h1JzonIDIwMDAgYWdyYXIgYm9sdCBjYXNpbm8gY2l0eSBjbyBlcm90aWNhIGVyb3Rpa2EgZmlsbSBmb3J1bSBnYW1lcyBob3RlbCBpbmZvIGluZ2F0bGFuIGpvZ2FzeiBrb255dmVsbyBsYWthcyBtZWRpYSBuZXdzIG9yZyBwcml2IHJla2xhbSBzZXggc2hvcCBzcG9ydCBzdWxpIHN6ZXggdG0gdG96c2RlIHV0YXphcyB2aWRlbyAnLAogICAgICAnaWQnOicgYWMgY28gZ28gbWlsIG5ldCBvciBzY2ggd2ViICcsCiAgICAgICdpbCc6JyBhYyBjbyBnb3YgaWRmIGsxMiBtdW5pIG5ldCBvcmcgJywKICAgICAgJ2luJzonIGFjIGNvIGVkdSBlcm5ldCBmaXJtIGdlbiBnb3YgaSBpbmQgbWlsIG5ldCBuaWMgb3JnIHJlcyAnLAogICAgICAnaXEnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG9yZyAnLAogICAgICAnaXInOicgYWMgY28gZG5zc2VjIGdvdiBpIGlkIG5ldCBvcmcgc2NoICcsCiAgICAgICdpdCc6JyBlZHUgZ292ICcsCiAgICAgICdqZSc6JyBjbyBuZXQgb3JnICcsCiAgICAgICdqbyc6JyBjb20gZWR1IGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnanAnOicgYWMgYWQgY28gZWQgZ28gZ3IgbGcgbmUgb3IgJywKICAgICAgJ2tlJzonIGFjIGNvIGdvIGluZm8gbWUgbW9iaSBuZSBvciBzYyAnLAogICAgICAna2gnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgcGVyICcsCiAgICAgICdraSc6JyBiaXogY29tIGRlIGVkdSBnb3YgaW5mbyBtb2IgbmV0IG9yZyB0ZWwgJywKICAgICAgJ2ttJzonIGFzc28gY29tIGNvb3AgZWR1IGdvdXYgayBtZWRlY2luIG1pbCBub20gbm90YWlyZXMgcGhhcm1hY2llbnMgcHJlc3NlIHRtIHZldGVyaW5haXJlICcsCiAgICAgICdrbic6JyBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2tyJzonIGFjIGJ1c2FuIGNodW5nYnVrIGNodW5nbmFtIGNvIGRhZWd1IGRhZWplb24gZXMgZ2FuZ3dvbiBnbyBnd2FuZ2p1IGd5ZW9uZ2J1ayBneWVvbmdnaSBneWVvbmduYW0gaHMgaW5jaGVvbiBqZWp1IGplb25idWsgamVvbm5hbSBrIGtnIG1pbCBtcyBuZSBvciBwZSByZSBzYyBzZW91bCB1bHNhbiAnLAogICAgICAna3cnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3knOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3onOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2xiJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2xrJzonIGFzc24gY29tIGVkdSBnb3YgZ3JwIGhvdGVsIGludCBsdGQgbmV0IG5nbyBvcmcgc2NoIHNvYyB3ZWIgJywKICAgICAgJ2xyJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2x2JzonIGFzbiBjb20gY29uZiBlZHUgZ292IGlkIG1pbCBuZXQgb3JnICcsCiAgICAgICdseSc6JyBjb20gZWR1IGdvdiBpZCBtZWQgbmV0IG9yZyBwbGMgc2NoICcsCiAgICAgICdtYSc6JyBhYyBjbyBnb3YgbSBuZXQgb3JnIHByZXNzICcsCiAgICAgICdtYyc6JyBhc3NvIHRtICcsCiAgICAgICdtZSc6JyBhYyBjbyBlZHUgZ292IGl0cyBuZXQgb3JnIHByaXYgJywKICAgICAgJ21nJzonIGNvbSBlZHUgZ292IG1pbCBub20gb3JnIHByZCB0bSAnLAogICAgICAnbWsnOicgY29tIGVkdSBnb3YgaW5mIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ21sJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgcHJlc3NlICcsCiAgICAgICdtbic6JyBlZHUgZ292IG9yZyAnLAogICAgICAnbW8nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbXQnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbXYnOicgYWVybyBiaXogY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBtaWwgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ213JzonIGFjIGNvIGNvbSBjb29wIGVkdSBnb3YgaW50IG11c2V1bSBuZXQgb3JnICcsCiAgICAgICdteCc6JyBjb20gZWR1IGdvYiBuZXQgb3JnICcsCiAgICAgICdteSc6JyBjb20gZWR1IGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmYnOicgYXJ0cyBjb20gZmlybSBpbmZvIG5ldCBvdGhlciBwZXIgcmVjIHN0b3JlIHdlYiAnLAogICAgICAnbmcnOicgYml6IGNvbSBlZHUgZ292IG1pbCBtb2JpIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ25pJzonIGFjIGNvIGNvbSBlZHUgZ29iIG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnbnAnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ25yJzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5ldCBvcmcgJywKICAgICAgJ29tJzonIGFjIGJpeiBjbyBjb20gZWR1IGdvdiBtZWQgbWlsIG11c2V1bSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ3BlJzonIGNvbSBlZHUgZ29iIG1pbCBuZXQgbm9tIG9yZyBzbGQgJywKICAgICAgJ3BoJzonIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBuZ28gb3JnICcsCiAgICAgICdwayc6JyBiaXogY29tIGVkdSBmYW0gZ29iIGdvayBnb24gZ29wIGdvcyBnb3YgbmV0IG9yZyB3ZWIgJywKICAgICAgJ3BsJzonIGFydCBiaWFseXN0b2sgYml6IGNvbSBlZHUgZ2RhIGdkYW5zayBnb3J6b3cgZ292IGluZm8ga2F0b3dpY2Uga3Jha293IGxvZHogbHVibGluIG1pbCBuZXQgbmdvIG9sc3p0eW4gb3JnIHBvem5hbiBwd3IgcmFkb20gc2x1cHNrIHN6Y3plY2luIHRvcnVuIHdhcnN6YXdhIHdhdyB3cm9jIHdyb2NsYXcgemdvcmEgJywKICAgICAgJ3ByJzonIGFjIGJpeiBjb20gZWR1IGVzdCBnb3YgaW5mbyBpc2xhIG5hbWUgbmV0IG9yZyBwcm8gcHJvZiAnLAogICAgICAncHMnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwbG8gc2VjICcsCiAgICAgICdwdyc6JyBiZWxhdSBjbyBlZCBnbyBuZSBvciAnLAogICAgICAncm8nOicgYXJ0cyBjb20gZmlybSBpbmZvIG5vbSBudCBvcmcgcmVjIHN0b3JlIHRtIHd3dyAnLAogICAgICAncnMnOicgYWMgY28gZWR1IGdvdiBpbiBvcmcgJywKICAgICAgJ3NiJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3NjJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3NoJzonIGNvIGNvbSBlZHUgZ292IG5ldCBub20gb3JnICcsCiAgICAgICdzbCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzdCc6JyBjbyBjb20gY29uc3VsYWRvIGVkdSBlbWJhaXhhZGEgZ292IG1pbCBuZXQgb3JnIHByaW5jaXBlIHNhb3RvbWUgc3RvcmUgJywKICAgICAgJ3N2JzonIGNvbSBlZHUgZ29iIG9yZyByZWQgJywKICAgICAgJ3N6JzonIGFjIGNvIG9yZyAnLAogICAgICAndHInOicgYXYgYmJzIGJlbCBiaXogY29tIGRyIGVkdSBnZW4gZ292IGluZm8gazEyIG5hbWUgbmV0IG9yZyBwb2wgdGVsIHRzayB0diB3ZWIgJywKICAgICAgJ3R0JzonIGFlcm8gYml6IGNhdCBjbyBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IGpvYnMgbWlsIG1vYmkgbXVzZXVtIG5hbWUgbmV0IG9yZyBwcm8gdGVsIHRyYXZlbCAnLAogICAgICAndHcnOicgY2x1YiBjb20gZWJpeiBlZHUgZ2FtZSBnb3YgaWR2IG1pbCBuZXQgb3JnICcsCiAgICAgICdtdSc6JyBhYyBjbyBjb20gZ292IG5ldCBvciBvcmcgJywKICAgICAgJ216JzonIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICduYSc6JyBjbyBjb20gJywKICAgICAgJ256JzonIGFjIGNvIGNyaSBnZWVrIGdlbiBnb3Z0IGhlYWx0aCBpd2kgbWFvcmkgbWlsIG5ldCBvcmcgcGFybGlhbWVudCBzY2hvb2wgJywKICAgICAgJ3BhJzonIGFibyBhYyBjb20gZWR1IGdvYiBpbmcgbWVkIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncHQnOicgY29tIGVkdSBnb3YgaW50IG5ldCBub21lIG9yZyBwdWJsICcsCiAgICAgICdweSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncWEnOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3JlJzonIGFzc28gY29tIG5vbSAnLAogICAgICAncnUnOicgYWMgYWR5Z2V5YSBhbHRhaSBhbXVyIGFya2hhbmdlbHNrIGFzdHJha2hhbiBiYXNoa2lyaWEgYmVsZ29yb2QgYmlyIGJyeWFuc2sgYnVyeWF0aWEgY2JnIGNoZWwgY2hlbHlhYmluc2sgY2hpdGEgY2h1a290a2EgY2h1dmFzaGlhIGNvbSBkYWdlc3RhbiBlLWJ1cmcgZWR1IGdvdiBncm96bnkgaW50IGlya3V0c2sgaXZhbm92byBpemhldnNrIGphciBqb3Noa2FyLW9sYSBrYWxteWtpYSBrYWx1Z2Ega2FtY2hhdGthIGthcmVsaWEga2F6YW4ga2NociBrZW1lcm92byBraGFiYXJvdnNrIGtoYWthc3NpYSBraHYga2lyb3Yga29lbmlnIGtvbWkga29zdHJvbWEga3Jhbm95YXJzayBrdWJhbiBrdXJnYW4ga3Vyc2sgbGlwZXRzayBtYWdhZGFuIG1hcmkgbWFyaS1lbCBtYXJpbmUgbWlsIG1vcmRvdmlhIG1vc3JlZyBtc2sgbXVybWFuc2sgbmFsY2hpayBuZXQgbm5vdiBub3Ygbm92b3NpYmlyc2sgbnNrIG9tc2sgb3JlbmJ1cmcgb3JnIG9yeW9sIHBlbnphIHBlcm0gcHAgcHNrb3YgcHR6IHJuZCByeWF6YW4gc2FraGFsaW4gc2FtYXJhIHNhcmF0b3Ygc2ltYmlyc2sgc21vbGVuc2sgc3BiIHN0YXZyb3BvbCBzdHYgc3VyZ3V0IHRhbWJvdiB0YXRhcnN0YW4gdG9tIHRvbXNrIHRzYXJpdHN5biB0c2sgdHVsYSB0dXZhIHR2ZXIgdHl1bWVuIHVkbSB1ZG11cnRpYSB1bGFuLXVkZSB2bGFkaWthdmtheiB2bGFkaW1pciB2bGFkaXZvc3RvayB2b2xnb2dyYWQgdm9sb2dkYSB2b3JvbmV6aCB2cm4gdnlhdGthIHlha3V0aWEgeWFtYWwgeWVrYXRlcmluYnVyZyB5dXpobm8tc2FraGFsaW5zayAnLAogICAgICAncncnOicgYWMgY28gY29tIGVkdSBnb3V2IGdvdiBpbnQgbWlsIG5ldCAnLAogICAgICAnc2EnOicgY29tIGVkdSBnb3YgbWVkIG5ldCBvcmcgcHViIHNjaCAnLAogICAgICAnc2QnOicgY29tIGVkdSBnb3YgaW5mbyBtZWQgbmV0IG9yZyB0diAnLAogICAgICAnc2UnOicgYSBhYyBiIGJkIGMgZCBlIGYgZyBoIGkgayBsIG0gbiBvIG9yZyBwIHBhcnRpIHBwIHByZXNzIHIgcyB0IHRtIHUgdyB4IHkgeiAnLAogICAgICAnc2cnOicgY29tIGVkdSBnb3YgaWRuIG5ldCBvcmcgcGVyICcsCiAgICAgICdzbic6JyBhcnQgY29tIGVkdSBnb3V2IG9yZyBwZXJzbyB1bml2ICcsCiAgICAgICdzeSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG5ld3Mgb3JnICcsCiAgICAgICd0aCc6JyBhYyBjbyBnbyBpbiBtaSBuZXQgb3IgJywKICAgICAgJ3RqJzonIGFjIGJpeiBjbyBjb20gZWR1IGdvIGdvdiBpbmZvIGludCBtaWwgbmFtZSBuZXQgbmljIG9yZyB0ZXN0IHdlYiAnLAogICAgICAndG4nOicgYWdyaW5ldCBjb20gZGVmZW5zZSBlZHVuZXQgZW5zIGZpbiBnb3YgaW5kIGluZm8gaW50bCBtaW5jb20gbmF0IG5ldCBvcmcgcGVyc28gcm5ydCBybnMgcm51IHRvdXJpc20gJywKICAgICAgJ3R6JzonIGFjIGNvIGdvIG5lIG9yICcsCiAgICAgICd1YSc6JyBiaXogY2hlcmthc3N5IGNoZXJuaWdvdiBjaGVybm92dHN5IGNrIGNuIGNvIGNvbSBjcmltZWEgY3YgZG4gZG5lcHJvcGV0cm92c2sgZG9uZXRzayBkcCBlZHUgZ292IGlmIGluIGl2YW5vLWZyYW5raXZzayBraCBraGFya292IGtoZXJzb24ga2htZWxuaXRza2l5IGtpZXYga2lyb3ZvZ3JhZCBrbSBrciBrcyBrdiBsZyBsdWdhbnNrIGx1dHNrIGx2aXYgbWUgbWsgbmV0IG5pa29sYWV2IG9kIG9kZXNzYSBvcmcgcGwgcG9sdGF2YSBwcCByb3ZubyBydiBzZWJhc3RvcG9sIHN1bXkgdGUgdGVybm9waWwgdXpoZ29yb2QgdmlubmljYSB2biB6YXBvcml6aHpoZSB6aGl0b21pciB6cCB6dCAnLAogICAgICAndWcnOicgYWMgY28gZ28gbmUgb3Igb3JnIHNjICcsCiAgICAgICd1ayc6JyBhYyBibCBicml0aXNoLWxpYnJhcnkgY28gY3ltIGdvdiBnb3Z0IGljbmV0IGpldCBsZWEgbHRkIG1lIG1pbCBtb2QgbmF0aW9uYWwtbGlicmFyeS1zY290bGFuZCBuZWwgbmV0IG5ocyBuaWMgbmxzIG9yZyBvcmduIHBhcmxpYW1lbnQgcGxjIHBvbGljZSBzY2ggc2NvdCBzb2MgJywKICAgICAgJ3VzJzonIGRuaSBmZWQgaXNhIGtpZHMgbnNuICcsCiAgICAgICd1eSc6JyBjb20gZWR1IGd1YiBtaWwgbmV0IG9yZyAnLAogICAgICAndmUnOicgY28gY29tIGVkdSBnb2IgaW5mbyBtaWwgbmV0IG9yZyB3ZWIgJywKICAgICAgJ3ZpJzonIGNvIGNvbSBrMTIgbmV0IG9yZyAnLAogICAgICAndm4nOicgYWMgYml6IGNvbSBlZHUgZ292IGhlYWx0aCBpbmZvIGludCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICd5ZSc6JyBjbyBjb20gZ292IGx0ZCBtZSBuZXQgb3JnIHBsYyAnLAogICAgICAneXUnOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ3phJzonIGFjIGFncmljIGFsdCBib3Vyc2UgY2l0eSBjbyBjeWJlcm5ldCBkYiBlZHUgZ292IGdyb25kYXIgaWFjY2VzcyBpbXQgaW5jYSBsYW5kZXNpZ24gbGF3IG1pbCBuZXQgbmdvIG5pcyBub20gb2xpdmV0dGkgb3JnIHBpeCBzY2hvb2wgdG0gd2ViICcsCiAgICAgICd6bSc6JyBhYyBjbyBjb20gZWR1IGdvdiBuZXQgb3JnIHNjaCAnCiAgICB9LAogICAgLy8gZ29yaGlsbCAyMDEzLTEwLTI1OiBVc2luZyBpbmRleE9mKCkgaW5zdGVhZCBSZWdleHAoKS4gU2lnbmlmaWNhbnQgYm9vc3QKICAgIC8vIGluIGJvdGggcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBmb290cHJpbnQuIE5vIGluaXRpYWxpemF0aW9uIHJlcXVpcmVkLgogICAgLy8gaHR0cDovL2pzcGVyZi5jb20vdXJpLWpzLXNsZC1yZWdleC12cy1iaW5hcnktc2VhcmNoLzQKICAgIC8vIEZvbGxvd2luZyBtZXRob2RzIHVzZSBsYXN0SW5kZXhPZigpIHJhdGhlciB0aGFuIGFycmF5LnNwbGl0KCkgaW4gb3JkZXIKICAgIC8vIHRvIGF2b2lkIGFueSBtZW1vcnkgYWxsb2NhdGlvbnMuCiAgICBoYXM6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA8PSAwIHx8IHNsZE9mZnNldCA+PSAodGxkT2Zmc2V0LTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBpczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0ID49IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKDAsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA8PSAwIHx8IHNsZE9mZnNldCA+PSAodGxkT2Zmc2V0LTEpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEsIHRsZE9mZnNldCkgKyAnICcpIDwgMCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEpOwogICAgfSwKICAgIG5vQ29uZmxpY3Q6IGZ1bmN0aW9uKCl7CiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyA9PT0gdGhpcykgewogICAgICAgIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID0gX1NlY29uZExldmVsRG9tYWluczsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwoKICByZXR1cm4gU0xEOwp9KSk7Cgp9LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL3B1bnljb2RlJyksIHJlcXVpcmUoJy4vSVB2NicpLCByZXF1aXJlKCcuL1NlY29uZExldmVsRG9tYWlucycpKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKFsnLi9wdW55Y29kZScsICcuL0lQdjYnLCAnLi9TZWNvbmRMZXZlbERvbWFpbnMnXSwgZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlVSSSA9IGZhY3Rvcnkocm9vdC5wdW55Y29kZSwgcm9vdC5JUHY2LCByb290LlNlY29uZExldmVsRG9tYWlucywgcm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChwdW55Y29kZSwgSVB2NiwgU0xELCByb290KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovCiAgLy8gRklYTUU6IHYyLjAuMCByZW5hbWNlIG5vbi1jYW1lbENhc2UgcHJvcGVydGllcyB0byB1cHBlcmNhc2UKICAvKmpzaGludCBjYW1lbGNhc2U6IGZhbHNlICovCgogIC8vIHNhdmUgY3VycmVudCBVUkkgdmFyaWFibGUsIGlmIGFueQogIHZhciBfVVJJID0gcm9vdCAmJiByb290LlVSSTsKCiAgZnVuY3Rpb24gVVJJKHVybCwgYmFzZSkgewogICAgdmFyIF91cmxTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMTsKICAgIHZhciBfYmFzZVN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyOwoKICAgIC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZAogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgaWYgKF91cmxTdXBwbGllZCkgewogICAgICAgIGlmIChfYmFzZVN1cHBsaWVkKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwsIGJhc2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBVUkkoKTsKICAgIH0KCiAgICBpZiAodXJsID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKF91cmxTdXBwbGllZCkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJJyk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdXJsID0gbG9jYXRpb24uaHJlZiArICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHVybCA9ICcnOwogICAgICB9CiAgICB9CgogICAgdGhpcy5ocmVmKHVybCk7CgogICAgLy8gcmVzb2x2ZSB0byBiYXNlIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbnN0cnVjdG9yCiAgICBpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLmFic29sdXRlVG8oYmFzZSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBVUkkudmVyc2lvbiA9ICcxLjE4LjEnOwoKICB2YXIgcCA9IFVSSS5wcm90b3R5cGU7CiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CgogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4KHN0cmluZykgewogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvY29tbWl0Lzg1YWMyMTc4M2MxMWY4Y2NhYjA2MTA2ZGJhOTczNWEzMWE4NjkyNGQjY29tbWl0Y29tbWVudC04MjE5NjMKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwogIH0KCiAgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkgewogICAgLy8gSUU4IGRvZXNuJ3QgcmV0dXJuIFtPYmplY3QgVW5kZWZpbmVkXSBidXQgW09iamVjdCBPYmplY3RdIGZvciB1bmRlZmluZWQgdmFsdWUKICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiAnVW5kZWZpbmVkJzsKICAgIH0KCiAgICByZXR1cm4gU3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkpLnNsaWNlKDgsIC0xKTsKICB9CgogIGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7CiAgICByZXR1cm4gZ2V0VHlwZShvYmopID09PSAnQXJyYXknOwogIH0KCiAgZnVuY3Rpb24gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YSwgdmFsdWUpIHsKICAgIHZhciBsb29rdXAgPSB7fTsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgaWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykgewogICAgICBsb29rdXAgPSBudWxsOwogICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFt2YWx1ZVtpXV0gPSB0cnVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBsb29rdXBbdmFsdWVdID0gdHJ1ZTsKICAgIH0KCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovCiAgICAgIHZhciBfbWF0Y2ggPSBsb29rdXAgJiYgbG9va3VwW2RhdGFbaV1dICE9PSB1bmRlZmluZWQKICAgICAgICB8fCAhbG9va3VwICYmIHZhbHVlLnRlc3QoZGF0YVtpXSk7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgICBpZiAoX21hdGNoKSB7CiAgICAgICAgZGF0YS5zcGxpY2UoaSwgMSk7CiAgICAgICAgbGVuZ3RoLS07CiAgICAgICAgaS0tOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGRhdGE7CiAgfQoKICBmdW5jdGlvbiBhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlKSB7CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIC8vIHZhbHVlIG1heSBiZSBzdHJpbmcsIG51bWJlciwgYXJyYXksIHJlZ2V4cAogICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIC8vIE5vdGU6IHRoaXMgY2FuIGJlIG9wdGltaXplZCB0byBPKG4pIChpbnN0ZWFkIG9mIGN1cnJlbnQgTyhtICogbikpCiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKCFhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlW2ldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgdmFyIF90eXBlID0gZ2V0VHlwZSh2YWx1ZSk7CiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChfdHlwZSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICBpZiAodHlwZW9mIGxpc3RbaV0gPT09ICdzdHJpbmcnICYmIGxpc3RbaV0ubWF0Y2godmFsdWUpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobGlzdFtpXSA9PT0gdmFsdWUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGFycmF5c0VxdWFsKG9uZSwgdHdvKSB7CiAgICBpZiAoIWlzQXJyYXkob25lKSB8fCAhaXNBcnJheSh0d28pKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBhcnJheXMgY2FuJ3QgYmUgZXF1YWwgaWYgdGhleSBoYXZlIGRpZmZlcmVudCBhbW91bnQgb2YgY29udGVudAogICAgaWYgKG9uZS5sZW5ndGggIT09IHR3by5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZS5zb3J0KCk7CiAgICB0d28uc29ydCgpOwoKICAgIGZvciAodmFyIGkgPSAwLCBsID0gb25lLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAob25lW2ldICE9PSB0d29baV0pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyaW1TbGFzaGVzKHRleHQpIHsKICAgIHZhciB0cmltX2V4cHJlc3Npb24gPSAvXlwvK3xcLyskL2c7CiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHRyaW1fZXhwcmVzc2lvbiwgJycpOwogIH0KCiAgVVJJLl9wYXJ0cyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvdG9jb2w6IG51bGwsCiAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgaG9zdG5hbWU6IG51bGwsCiAgICAgIHVybjogbnVsbCwKICAgICAgcG9ydDogbnVsbCwKICAgICAgcGF0aDogbnVsbCwKICAgICAgcXVlcnk6IG51bGwsCiAgICAgIGZyYWdtZW50OiBudWxsLAogICAgICAvLyBzdGF0ZQogICAgICBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6IFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsCiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2U6IFVSSS5lc2NhcGVRdWVyeVNwYWNlCiAgICB9OwogIH07CiAgLy8gc3RhdGU6IGFsbG93IGR1cGxpY2F0ZSBxdWVyeSBwYXJhbWV0ZXJzIChhPTEmYT0xKQogIFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmYWxzZTsKICAvLyBzdGF0ZTogcmVwbGFjZXMgKyB3aXRoICUyMCAoc3BhY2UgaW4gcXVlcnkgc3RyaW5ncykKICBVUkkuZXNjYXBlUXVlcnlTcGFjZSA9IHRydWU7CiAgLy8gc3RhdGljIHByb3BlcnRpZXMKICBVUkkucHJvdG9jb2xfZXhwcmVzc2lvbiA9IC9eW2Etel1bYS16MC05ListXSokL2k7CiAgVVJJLmlkbl9leHByZXNzaW9uID0gL1teYS16MC05XC4tXS9pOwogIFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pOwogIC8vIHdlbGwsIDMzMy40NDQuNTU1LjY2NiBtYXRjaGVzLCBidXQgaXQgc3VyZSBhaW4ndCBubyBJUHY0IC0gZG8gd2UgY2FyZT8KICBVUkkuaXA0X2V4cHJlc3Npb24gPSAvXlxkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30kLzsKICAvLyBjcmVkaXRzIHRvIFJpY2ggQnJvd24KICAvLyBzb3VyY2U6IGh0dHA6Ly9mb3J1bXMuaW50ZXJtYXBwZXIuY29tL3ZpZXd0b3BpYy5waHA/cD0xMDk2IzEwOTYKICAvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dAogIFVSSS5pcDZfZXhwcmVzc2lvbiA9IC9eXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSkpKCUuKyk/XHMqJC87CiAgLy8gZXhwcmVzc2lvbiB1c2VkIGlzICJncnViZXIgcmV2aXNlZCIgKEBncnViZXIgdjIpIGRldGVybWluZWQgdG8gYmUgdGhlCiAgLy8gYmVzdCBzb2x1dGlvbiBpbiBhIHJlZ2V4LWdvbGYgd2UgZGlkIGEgY291cGxlIG9mIGFnZXMgYWdvIGF0CiAgLy8gKiBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleAogIC8vICogaHR0cDovL3JvZG5leXJlaG0uZGUvdC91cmwtcmVnZXguaHRtbAogIFVSSS5maW5kX3VyaV9leHByZXNzaW9uID0gL1xiKCg/OlthLXpdW1x3LV0rOig/OlwvezEsM318W2EtejAtOSVdKXx3d3dcZHswLDN9Wy5dfFthLXowLTkuXC1dK1suXVthLXpdezIsNH1cLykoPzpbXlxzKCk8Pl0rfFwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCkpKyg/OlwoKFteXHMoKTw+XSt8KFwoW15ccygpPD5dK1wpKSkqXCl8W15cc2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnOwogIFVSSS5maW5kVXJpID0gewogICAgLy8gdmFsaWQgInNjaGVtZTovLyIgb3IgInd3dy4iCiAgICBzdGFydDogL1xiKD86KFthLXpdW2EtejAtOS4rLV0qOlwvXC8pfHd3d1wuKS9naSwKICAgIC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZQogICAgZW5kOiAvW1xzXHJcbl18JC8sCiAgICAvLyB0cmltIHRyYWlsaW5nIHB1bmN0dWF0aW9uIGNhcHR1cmVkIGJ5IGVuZCBSZWdFeHAKICAgIHRyaW06IC9bYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvCiAgfTsKICAvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3VyaS1zY2hlbWVzLmh0bWwKICAvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHMKICBVUkkuZGVmYXVsdFBvcnRzID0gewogICAgaHR0cDogJzgwJywKICAgIGh0dHBzOiAnNDQzJywKICAgIGZ0cDogJzIxJywKICAgIGdvcGhlcjogJzcwJywKICAgIHdzOiAnODAnLAogICAgd3NzOiAnNDQzJwogIH07CiAgLy8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NgogIC8vIEFMUEhBIERJR0lUICItIiAiLiIgIl8iICJ+IiAiISIgIiQiICImIiAiJyIgIigiICIpIiAiKiIgIisiICIsIiAiOyIgIj0iICVlbmNvZGVkCiAgLy8gSSd2ZSBuZXZlciBzZWVuIGEgKG5vbi1JRE4pIGhvc3RuYW1lIG90aGVyIHRoYW46IEFMUEhBIERJR0lUIC4gLQogIFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcLi1dLzsKICAvLyBtYXAgRE9NIEVsZW1lbnRzIHRvIHRoZWlyIFVSSSBhdHRyaWJ1dGUKICBVUkkuZG9tQXR0cmlidXRlcyA9IHsKICAgICdhJzogJ2hyZWYnLAogICAgJ2Jsb2NrcXVvdGUnOiAnY2l0ZScsCiAgICAnbGluayc6ICdocmVmJywKICAgICdiYXNlJzogJ2hyZWYnLAogICAgJ3NjcmlwdCc6ICdzcmMnLAogICAgJ2Zvcm0nOiAnYWN0aW9uJywKICAgICdpbWcnOiAnc3JjJywKICAgICdhcmVhJzogJ2hyZWYnLAogICAgJ2lmcmFtZSc6ICdzcmMnLAogICAgJ2VtYmVkJzogJ3NyYycsCiAgICAnc291cmNlJzogJ3NyYycsCiAgICAndHJhY2snOiAnc3JjJywKICAgICdpbnB1dCc6ICdzcmMnLCAvLyBidXQgb25seSBpZiB0eXBlPSJpbWFnZSIKICAgICdhdWRpbyc6ICdzcmMnLAogICAgJ3ZpZGVvJzogJ3NyYycKICB9OwogIFVSSS5nZXREb21BdHRyaWJ1dGUgPSBmdW5jdGlvbihub2RlKSB7CiAgICBpZiAoIW5vZGUgfHwgIW5vZGUubm9kZU5hbWUpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICB2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAvLyA8aW5wdXQ+IHNob3VsZCBvbmx5IGV4cG9zZSBzcmMgZm9yIHR5cGU9ImltYWdlIgogICAgaWYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIG5vZGUudHlwZSAhPT0gJ2ltYWdlJykgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBVUkkuZG9tQXR0cmlidXRlc1tub2RlTmFtZV07CiAgfTsKCiAgZnVuY3Rpb24gZXNjYXBlRm9yRHVtYkZpcmVmb3gzNih2YWx1ZSkgewogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkxCiAgICByZXR1cm4gZXNjYXBlKHZhbHVlKTsKICB9CgogIC8vIGVuY29kaW5nIC8gZGVjb2RpbmcgYWNjb3JkaW5nIHRvIFJGQzM5ODYKICBmdW5jdGlvbiBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSB7CiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnQKICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKQogICAgICAucmVwbGFjZSgvWyEnKCkqXS9nLCBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KQogICAgICAucmVwbGFjZSgvXCovZywgJyUyQScpOwogIH0KICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmlzbzg4NTkgPSBmdW5jdGlvbigpIHsKICAgIFVSSS5lbmNvZGUgPSBlc2NhcGU7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgfTsKICBVUkkudW5pY29kZSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgfTsKICBVUkkuY2hhcmFjdGVycyA9IHsKICAgIHBhdGhuYW1lOiB7CiAgICAgIGVuY29kZTogewogICAgICAgIC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZAogICAgICAgIC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuCiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgLy8gLS5ffiEnKCkqCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNic6ICcmJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyU0MCc6ICdAJwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/I10vZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICcvJzogJyUyRicsCiAgICAgICAgICAnPyc6ICclM0YnLAogICAgICAgICAgJyMnOiAnJTIzJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlc2VydmVkOiB7CiAgICAgIGVuY29kZTogewogICAgICAgIC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZAogICAgICAgIC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuCiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjN8MjR8MjZ8Mjd8Mjh8Mjl8MkF8MkJ8MkN8MkZ8M0F8M0J8M0R8M0Z8NDB8NUJ8NUQpL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgLy8gZ2VuLWRlbGltcwogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclMkYnOiAnLycsCiAgICAgICAgICAnJTNGJzogJz8nLAogICAgICAgICAgJyUyMyc6ICcjJywKICAgICAgICAgICclNUInOiAnWycsCiAgICAgICAgICAnJTVEJzogJ10nLAogICAgICAgICAgJyU0MCc6ICdAJywKICAgICAgICAgIC8vIHN1Yi1kZWxpbXMKICAgICAgICAgICclMjEnOiAnIScsCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNic6ICcmJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHVybnBhdGg6IHsKICAgICAgLy8gVGhlIGNoYXJhY3RlcnMgdW5kZXIgYGVuY29kZWAgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDIDIxNDEgYXMgYmVpbmcgYWNjZXB0YWJsZQogICAgICAvLyBmb3IgdXNhZ2UgaW4gYSBVUk4uIFJGQzIxNDEgYWxzbyBjYWxscyBvdXQgIi0iLCAiLiIsIGFuZCAiXyIgYXMgYWNjZXB0YWJsZSBjaGFyYWN0ZXJzLCBidXQKICAgICAgLy8gdGhlc2UgYXJlbid0IGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50LCBzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgdGhlbSBvdXQgaGVyZS4gQWxzbwogICAgICAvLyBub3RlIHRoYXQgdGhlIGNvbG9uIGNoYXJhY3RlciBpcyBub3QgZmVhdHVyZWQgaW4gdGhlIGVuY29kaW5nIG1hcDsgdGhpcyBpcyBiZWNhdXNlIFVSSS5qcwogICAgICAvLyBnaXZlcyB0aGUgY29sb25zIGluIFVSTnMgc2VtYW50aWMgbWVhbmluZyBhcyB0aGUgZGVsaW1pdGVycyBvZiBwYXRoIHNlZ2VtZW50cywgYW5kIHNvIGl0CiAgICAgIC8vIHNob3VsZCBub3QgYXBwZWFyIHVuZW5jb2RlZCBpbiBhIHNlZ21lbnQgaXRzZWxmLgogICAgICAvLyBTZWUgYWxzbyB0aGUgbm90ZSBhYm92ZSBhYm91dCBSRkMzOTg2IGFuZCBjYXBpdGFsYWxpemVkIGhleCBkaWdpdHMuCiAgICAgIGVuY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICclMjEnOiAnIScsCiAgICAgICAgICAnJTI0JzogJyQnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyU0MCc6ICdAJwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gVGhlc2UgY2hhcmFjdGVycyBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMyMTQxIGFzICJyZXNlcnZlZCIgY2hhcmFjdGVycyB0aGF0CiAgICAgIC8vIHNob3VsZCBuZXZlciBhcHBlYXIgaW4gYSBVUk4sIHBsdXMgdGhlIGNvbG9uIGNoYXJhY3RlciAoc2VlIG5vdGUgYWJvdmUpLgogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jOl0vZywKICAgICAgICBtYXA6IHsKICAgICAgICAgICcvJzogJyUyRicsCiAgICAgICAgICAnPyc6ICclM0YnLAogICAgICAgICAgJyMnOiAnJTIzJywKICAgICAgICAgICc6JzogJyUzQScKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwogIFVSSS5lbmNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgdmFyIGVzY2FwZWQgPSBVUkkuZW5jb2RlKHN0cmluZyArICcnKTsKICAgIGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHsKICAgICAgZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlOwogICAgfQoKICAgIHJldHVybiBlc2NhcGVRdWVyeVNwYWNlID8gZXNjYXBlZC5yZXBsYWNlKC8lMjAvZywgJysnKSA6IGVzY2FwZWQ7CiAgfTsKICBVUkkuZGVjb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHN0cmluZyArPSAnJzsKICAgIGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHsKICAgICAgZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlOwogICAgfQoKICAgIHRyeSB7CiAgICAgIHJldHVybiBVUkkuZGVjb2RlKGVzY2FwZVF1ZXJ5U3BhY2UgPyBzdHJpbmcucmVwbGFjZSgvXCsvZywgJyUyMCcpIDogc3RyaW5nKTsKICAgIH0gY2F0Y2goZSkgewogICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncywKICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MgogICAgICByZXR1cm4gc3RyaW5nOwogICAgfQogIH07CiAgLy8gZ2VuZXJhdGUgZW5jb2RlL2RlY29kZSBwYXRoIGZ1bmN0aW9ucwogIHZhciBfcGFydHMgPSB7J2VuY29kZSc6J2VuY29kZScsICdkZWNvZGUnOidkZWNvZGUnfTsKICB2YXIgX3BhcnQ7CiAgdmFyIGdlbmVyYXRlQWNjZXNzb3IgPSBmdW5jdGlvbihfZ3JvdXAsIF9wYXJ0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIFVSSVtfcGFydF0oc3RyaW5nICsgJycpLnJlcGxhY2UoVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0uZXhwcmVzc2lvbiwgZnVuY3Rpb24oYykgewogICAgICAgICAgcmV0dXJuIFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLm1hcFtjXTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgfQogICAgfTsKICB9OwoKICBmb3IgKF9wYXJ0IGluIF9wYXJ0cykgewogICAgVVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pOwogICAgVVJJW19wYXJ0ICsgJ1VyblBhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCd1cm5wYXRoJywgX3BhcnRzW19wYXJ0XSk7CiAgfQoKICB2YXIgZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24gPSBmdW5jdGlvbihfc2VwLCBfY29kaW5nRnVuY05hbWUsIF9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIC8vIFdoeSBwYXNzIGluIG5hbWVzIG9mIGZ1bmN0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGZ1bmN0aW9uIG9iamVjdHMgdGhlbXNlbHZlcz8gVGhlCiAgICAgIC8vIGRlZmluaXRpb25zIG9mIHNvbWUgZnVuY3Rpb25zIChidXQgaW4gcGFydGljdWxhciwgVVJJLmRlY29kZSkgd2lsbCBvY2Nhc2lvbmFsbHkgY2hhbmdlIGR1ZQogICAgICAvLyB0byBVUkkuanMgaGF2aW5nIElTTzg4NTkgYW5kIFVuaWNvZGUgbW9kZXMuIFBhc3NpbmcgaW4gdGhlIG5hbWUgYW5kIGdldHRpbmcgaXQgd2lsbCBlbnN1cmUKICAgICAgLy8gdGhhdCB0aGUgZnVuY3Rpb25zIHdlIHVzZSBoZXJlIGFyZSAiZnJlc2giLgogICAgICB2YXIgYWN0dWFsQ29kaW5nRnVuYzsKICAgICAgaWYgKCFfaW5uZXJDb2RpbmdGdW5jTmFtZSkgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBVUklbX2NvZGluZ0Z1bmNOYW1lXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgICAgICByZXR1cm4gVVJJW19jb2RpbmdGdW5jTmFtZV0oVVJJW19pbm5lckNvZGluZ0Z1bmNOYW1lXShzdHJpbmcpKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgc2VnbWVudHMgPSAoc3RyaW5nICsgJycpLnNwbGl0KF9zZXApOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgc2VnbWVudHNbaV0gPSBhY3R1YWxDb2RpbmdGdW5jKHNlZ21lbnRzW2ldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oX3NlcCk7CiAgICB9OwogIH07CgogIC8vIFRoaXMgdGFrZXMgcGxhY2Ugb3V0c2lkZSB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGRvbid0IHdhbnQsIGUuZy4sIGVuY29kZVVyblBhdGggZnVuY3Rpb25zLgogIFVSSS5kZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZGVjb2RlUGF0aFNlZ21lbnQnKTsKICBVUkkuZGVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2RlY29kZVVyblBhdGhTZWdtZW50Jyk7CiAgVVJJLnJlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdlbmNvZGVQYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKICBVUkkucmVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2VuY29kZVVyblBhdGhTZWdtZW50JywgJ2RlY29kZScpOwoKICBVUkkuZW5jb2RlUmVzZXJ2ZWQgPSBnZW5lcmF0ZUFjY2Vzc29yKCdyZXNlcnZlZCcsICdlbmNvZGUnKTsKCiAgVVJJLnBhcnNlID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgdmFyIHBvczsKICAgIGlmICghcGFydHMpIHsKICAgICAgcGFydHMgPSB7fTsKICAgIH0KICAgIC8vIFtwcm90b2NvbCI6Ly8iW3VzZXJuYW1lWyI6InBhc3N3b3JkXSJAIl1ob3N0bmFtZVsiOiJwb3J0XSIvIj9dW3BhdGhdWyI/InF1ZXJ5c3RyaW5nXVsiIyJmcmFnbWVudF0KCiAgICAvLyBleHRyYWN0IGZyYWdtZW50CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignIycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5mcmFnbWVudCA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcXVlcnkKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc/Jyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLnF1ZXJ5ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBwcm90b2NvbAogICAgaWYgKHN0cmluZy5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHsKICAgICAgLy8gcmVsYXRpdmUtc2NoZW1lCiAgICAgIHBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygyKTsKICAgICAgLy8gZXh0cmFjdCAidXNlcjpwYXNzQGhvc3Q6cG9ydCIKICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgfSBlbHNlIHsKICAgICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJzonKTsKICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgcGFydHMucHJvdG9jb2wgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDsKICAgICAgICBpZiAocGFydHMucHJvdG9jb2wgJiYgIXBhcnRzLnByb3RvY29sLm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgLy8gOiBtYXkgYmUgd2l0aGluIHRoZSBwYXRoCiAgICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgMykgPT09ICcvLycpIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMyk7CgogICAgICAgICAgLy8gZXh0cmFjdCAidXNlcjpwYXNzQGhvc3Q6cG9ydCIKICAgICAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgICAgICAgIHBhcnRzLnVybiA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8gd2hhdCdzIGxlZnQgbXVzdCBiZSB0aGUgcGF0aAogICAgcGFydHMucGF0aCA9IHN0cmluZzsKCiAgICAvLyBhbmQgd2UncmUgZG9uZQogICAgcmV0dXJuIHBhcnRzOwogIH07CiAgVVJJLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLgogICAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzCiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9ibG9iLzM4NmZkMjRmNDliMGU5ZDFhOGEwNzY1OTJhNDA0MTY4ZmFlZWNjMzQvbGliL3VybC5qcyNMMTE1LUwxMjQKICAgIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9wdWxsLzIzMwogICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xcL2csICcvJyk7CgogICAgLy8gZXh0cmFjdCBob3N0OnBvcnQKICAgIHZhciBwb3MgPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgdmFyIGJyYWNrZXRQb3M7CiAgICB2YXIgdDsKCiAgICBpZiAocG9zID09PSAtMSkgewogICAgICBwb3MgPSBzdHJpbmcubGVuZ3RoOwogICAgfQoKICAgIGlmIChzdHJpbmcuY2hhckF0KDApID09PSAnWycpIHsKICAgICAgLy8gSVB2NiBob3N0IC0gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNCNzZWN0aW9uLTYKICAgICAgLy8gSSBjbGFpbSBtb3N0IGNsaWVudCBzb2Z0d2FyZSBicmVha3Mgb24gSVB2NiBhbnl3YXlzLiBUbyBzaW1wbGlmeSB0aGluZ3MsIFVSSSBvbmx5IGFjY2VwdHMKICAgICAgLy8gSVB2Nitwb3J0IGluIHRoZSBmb3JtYXQgWzIwMDE6ZGI4OjoxXTo4MCAoZm9yIHRoZSB0aW1lIGJlaW5nKQogICAgICBicmFja2V0UG9zID0gc3RyaW5nLmluZGV4T2YoJ10nKTsKICAgICAgcGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDEsIGJyYWNrZXRQb3MpIHx8IG51bGw7CiAgICAgIHBhcnRzLnBvcnQgPSBzdHJpbmcuc3Vic3RyaW5nKGJyYWNrZXRQb3MgKyAyLCBwb3MpIHx8IG51bGw7CiAgICAgIGlmIChwYXJ0cy5wb3J0ID09PSAnLycpIHsKICAgICAgICBwYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGZpcnN0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICAgIHZhciBuZXh0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicsIGZpcnN0Q29sb24gKyAxKTsKICAgICAgaWYgKG5leHRDb2xvbiAhPT0gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IG5leHRDb2xvbiA8IGZpcnN0U2xhc2gpKSB7CiAgICAgICAgLy8gSVB2NiBob3N0IGNvbnRhaW5zIG11bHRpcGxlIGNvbG9ucyAtIGJ1dCBubyBwb3J0CiAgICAgICAgLy8gdGhpcyBub3RhdGlvbiBpcyBhY3R1YWxseSBub3QgYWxsb3dlZCBieSBSRkMgMzk4NiwgYnV0IHdlJ3JlIGEgbGliZXJhbCBwYXJzZXIKICAgICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgICBwYXJ0cy5ob3N0bmFtZSA9IHRbMF0gfHwgbnVsbDsKICAgICAgICBwYXJ0cy5wb3J0ID0gdFsxXSB8fCBudWxsOwogICAgICB9CiAgICB9CgogICAgaWYgKHBhcnRzLmhvc3RuYW1lICYmIHN0cmluZy5zdWJzdHJpbmcocG9zKS5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBwb3MrKzsKICAgICAgc3RyaW5nID0gJy8nICsgc3RyaW5nOwogICAgfQoKICAgIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcykgfHwgJy8nOwogIH07CiAgVVJJLnBhcnNlQXV0aG9yaXR5ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgc3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7CiAgICByZXR1cm4gVVJJLnBhcnNlSG9zdChzdHJpbmcsIHBhcnRzKTsKICB9OwogIFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gZXh0cmFjdCB1c2VybmFtZTpwYXNzd29yZAogICAgdmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgdmFyIHBvcyA9IHN0cmluZy5sYXN0SW5kZXhPZignQCcsIGZpcnN0U2xhc2ggPiAtMSA/IGZpcnN0U2xhc2ggOiBzdHJpbmcubGVuZ3RoIC0gMSk7CiAgICB2YXIgdDsKCiAgICAvLyBhdXRob3JpdHlAIG11c3QgY29tZSBiZWZvcmUgL3BhdGgKICAgIGlmIChwb3MgPiAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgcG9zIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICBwYXJ0cy51c2VybmFtZSA9IHRbMF0gPyBVUkkuZGVjb2RlKHRbMF0pIDogbnVsbDsKICAgICAgdC5zaGlmdCgpOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IHRbMF0gPyBVUkkuZGVjb2RlKHQuam9pbignOicpKSA6IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICB9IGVsc2UgewogICAgICBwYXJ0cy51c2VybmFtZSA9IG51bGw7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gc3RyaW5nOwogIH07CiAgVVJJLnBhcnNlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICAvLyB0aHJvdyBvdXQgdGhlIGZ1bmt5IGJ1c2luZXNzIC0gIj8iW25hbWUiPSJ2YWx1ZSImIl0rCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvJisvZywgJyYnKS5yZXBsYWNlKC9eXD8qJip8JiskL2csICcnKTsKCiAgICBpZiAoIXN0cmluZykgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgdmFyIGl0ZW1zID0ge307CiAgICB2YXIgc3BsaXRzID0gc3RyaW5nLnNwbGl0KCcmJyk7CiAgICB2YXIgbGVuZ3RoID0gc3BsaXRzLmxlbmd0aDsKICAgIHZhciB2LCBuYW1lLCB2YWx1ZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHYgPSBzcGxpdHNbaV0uc3BsaXQoJz0nKTsKICAgICAgbmFtZSA9IFVSSS5kZWNvZGVRdWVyeSh2LnNoaWZ0KCksIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAvLyBubyAiPSIgaXMgbnVsbCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzCiAgICAgIHZhbHVlID0gdi5sZW5ndGggPyBVUkkuZGVjb2RlUXVlcnkodi5qb2luKCc9JyksIGVzY2FwZVF1ZXJ5U3BhY2UpIDogbnVsbDsKCiAgICAgIGlmIChoYXNPd24uY2FsbChpdGVtcywgbmFtZSkpIHsKICAgICAgICBpZiAodHlwZW9mIGl0ZW1zW25hbWVdID09PSAnc3RyaW5nJyB8fCBpdGVtc1tuYW1lXSA9PT0gbnVsbCkgewogICAgICAgICAgaXRlbXNbbmFtZV0gPSBbaXRlbXNbbmFtZV1dOwogICAgICAgIH0KCiAgICAgICAgaXRlbXNbbmFtZV0ucHVzaCh2YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpdGVtczsKICB9OwoKICBVUkkuYnVpbGQgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAocGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSBwYXJ0cy5wcm90b2NvbCArICc6JzsKICAgIH0KCiAgICBpZiAoIXBhcnRzLnVybiAmJiAodCB8fCBwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnLy8nOwogICAgfQoKICAgIHQgKz0gKFVSSS5idWlsZEF1dGhvcml0eShwYXJ0cykgfHwgJycpOwoKICAgIGlmICh0eXBlb2YgcGFydHMucGF0aCA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKHBhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycgJiYgdHlwZW9mIHBhcnRzLmhvc3RuYW1lID09PSAnc3RyaW5nJykgewogICAgICAgIHQgKz0gJy8nOwogICAgICB9CgogICAgICB0ICs9IHBhcnRzLnBhdGg7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycgJiYgcGFydHMucXVlcnkpIHsKICAgICAgdCArPSAnPycgKyBwYXJ0cy5xdWVyeTsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLmZyYWdtZW50ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5mcmFnbWVudCkgewogICAgICB0ICs9ICcjJyArIHBhcnRzLmZyYWdtZW50OwogICAgfQogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRIb3N0ID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKCFwYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gJyc7CiAgICB9IGVsc2UgaWYgKFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICdbJyArIHBhcnRzLmhvc3RuYW1lICsgJ10nOwogICAgfSBlbHNlIHsKICAgICAgdCArPSBwYXJ0cy5ob3N0bmFtZTsKICAgIH0KCiAgICBpZiAocGFydHMucG9ydCkgewogICAgICB0ICs9ICc6JyArIHBhcnRzLnBvcnQ7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRBdXRob3JpdHkgPSBmdW5jdGlvbihwYXJ0cykgewogICAgcmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpOwogIH07CiAgVVJJLmJ1aWxkVXNlcmluZm8gPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAocGFydHMudXNlcm5hbWUpIHsKICAgICAgdCArPSBVUkkuZW5jb2RlKHBhcnRzLnVzZXJuYW1lKTsKICAgIH0KCiAgICBpZiAocGFydHMucGFzc3dvcmQpIHsKICAgICAgdCArPSAnOicgKyBVUkkuZW5jb2RlKHBhcnRzLnBhc3N3b3JkKTsKICAgIH0KCiAgICBpZiAodCkgewogICAgICB0ICs9ICdAJzsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiBvciBodHRwOi8vbGFicy5hcGFjaGUub3JnL3dlYmFyY2gvdXJpL3JmYy9yZmMzOTg2Lmh0bWwKICAgIC8vIGJlaW5nIMK7LS5ffiEkJicoKSorLDs9OkAvP8KrICVIRVggYW5kIGFsbnVtIGFyZSBhbGxvd2VkCiAgICAvLyB0aGUgUkZDIGV4cGxpY2l0bHkgc3RhdGVzID8vZm9vIGJlaW5nIGEgdmFsaWQgdXNlIGNhc2UsIG5vIG1lbnRpb24gb2YgcGFyYW1ldGVyIHN5bnRheCEKICAgIC8vIFVSSS5qcyB0cmVhdHMgdGhlIHF1ZXJ5IHN0cmluZyBhcyBiZWluZyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUKCiAgICB2YXIgdCA9ICcnOwogICAgdmFyIHVuaXF1ZSwga2V5LCBpLCBsZW5ndGg7CiAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpICYmIGtleSkgewogICAgICAgIGlmIChpc0FycmF5KGRhdGFba2V5XSkpIHsKICAgICAgICAgIHVuaXF1ZSA9IHt9OwogICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YVtrZXldLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChkYXRhW2tleV1baV0gIT09IHVuZGVmaW5lZCAmJiB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldW2ldLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgICAgICAgICBpZiAoZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdC5zdWJzdHJpbmcoMSk7CiAgfTsKICBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUgLS0gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBkb24ndCBhcHBlbmQgIj0iIGZvciBudWxsIHZhbHVlcywgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjdXJsLXBhcmFtZXRlci1zZXJpYWxpemF0aW9uCiAgICByZXR1cm4gVVJJLmVuY29kZVF1ZXJ5KG5hbWUsIGVzY2FwZVF1ZXJ5U3BhY2UpICsgKHZhbHVlICE9PSBudWxsID8gJz0nICsgVVJJLmVuY29kZVF1ZXJ5KHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSA6ICcnKTsKICB9OwoKICBVUkkuYWRkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBVUkkuYWRkUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKGRhdGFbbmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGFbbmFtZV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IFtkYXRhW25hbWVdXTsKICAgICAgfQoKICAgICAgaWYgKCFpc0FycmF5KHZhbHVlKSkgewogICAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgICAgfQoKICAgICAgZGF0YVtuYW1lXSA9IChkYXRhW25hbWVdIHx8IFtdKS5jb25jYXQodmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwogIFVSSS5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaSwgbGVuZ3RoLCBrZXk7CgogICAgaWYgKGlzQXJyYXkobmFtZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGRhdGFbbmFtZVtpXV0gPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZ2V0VHlwZShuYW1lKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgZm9yIChrZXkgaW4gZGF0YSkgewogICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yIChrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkgJiYgdmFsdWUudGVzdChkYXRhW25hbWVdKSkgewogICAgICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGFbbmFtZV0gPT09IFN0cmluZyh2YWx1ZSkgJiYgKCFpc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLnJlbW92ZVF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZywgUmVnRXhwIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwogIFVSSS5oYXNRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgc3dpdGNoIChnZXRUeXBlKG5hbWUpKSB7CiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSkgewogICAgICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkgJiYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgVVJJLmhhc1F1ZXJ5KGRhdGEsIGtleSwgdmFsdWUpKSkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICBjYXNlICdPYmplY3QnOgogICAgICAgIGZvciAodmFyIF9rZXkgaW4gbmFtZSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIF9rZXkpKSB7CiAgICAgICAgICAgIGlmICghVVJJLmhhc1F1ZXJ5KGRhdGEsIF9rZXksIG5hbWVbX2tleV0pKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhIHN0cmluZywgcmVndWxhciBleHByZXNzaW9uIG9yIG9iamVjdCBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICBzd2l0Y2ggKGdldFR5cGUodmFsdWUpKSB7CiAgICAgIGNhc2UgJ1VuZGVmaW5lZCc6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpCiAgICAgICAgcmV0dXJuIG5hbWUgaW4gZGF0YTsgLy8gZGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkOwoKICAgICAgY2FzZSAnQm9vbGVhbic6CiAgICAgICAgLy8gdHJ1ZSBpZiBleGlzdHMgYW5kIG5vbi1lbXB0eQogICAgICAgIHZhciBfYm9vbHkgPSBCb29sZWFuKGlzQXJyYXkoZGF0YVtuYW1lXSkgPyBkYXRhW25hbWVdLmxlbmd0aCA6IGRhdGFbbmFtZV0pOwogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5OwoKICAgICAgY2FzZSAnRnVuY3Rpb24nOgogICAgICAgIC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvbgogICAgICAgIHJldHVybiAhIXZhbHVlKGRhdGFbbmFtZV0sIG5hbWUsIGRhdGEpOwoKICAgICAgY2FzZSAnQXJyYXknOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIG9wID0gd2l0aGluQXJyYXkgPyBhcnJheUNvbnRhaW5zIDogYXJyYXlzRXF1YWw7CiAgICAgICAgcmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gQm9vbGVhbihkYXRhW25hbWVdICYmIGRhdGFbbmFtZV0ubWF0Y2godmFsdWUpKTsKICAgICAgICB9CgogICAgICAgIGlmICghd2l0aGluQXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGNhc2UgJ051bWJlcic6CiAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpOwogICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBkYXRhW25hbWVdID09PSB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIGlmICghd2l0aGluQXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBSZWdFeHAsIEZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBwYXJhbWV0ZXInKTsKICAgIH0KICB9OwoKCiAgVVJJLmpvaW5QYXRocyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGlucHV0ID0gW107CiAgICB2YXIgc2VnbWVudHMgPSBbXTsKICAgIHZhciBub25FbXB0eVNlZ21lbnRzID0gMDsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdXJsID0gbmV3IFVSSShhcmd1bWVudHNbaV0pOwogICAgICBpbnB1dC5wdXNoKHVybCk7CiAgICAgIHZhciBfc2VnbWVudHMgPSB1cmwuc2VnbWVudCgpOwogICAgICBmb3IgKHZhciBzID0gMDsgcyA8IF9zZWdtZW50cy5sZW5ndGg7IHMrKykgewogICAgICAgIGlmICh0eXBlb2YgX3NlZ21lbnRzW3NdID09PSAnc3RyaW5nJykgewogICAgICAgICAgc2VnbWVudHMucHVzaChfc2VnbWVudHNbc10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9zZWdtZW50c1tzXSkgewogICAgICAgICAgbm9uRW1wdHlTZWdtZW50cysrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghc2VnbWVudHMubGVuZ3RoIHx8ICFub25FbXB0eVNlZ21lbnRzKSB7CiAgICAgIHJldHVybiBuZXcgVVJJKCcnKTsKICAgIH0KCiAgICB2YXIgdXJpID0gbmV3IFVSSSgnJykuc2VnbWVudChzZWdtZW50cyk7CgogICAgaWYgKGlucHV0WzBdLnBhdGgoKSA9PT0gJycgfHwgaW5wdXRbMF0ucGF0aCgpLnNsaWNlKDAsIDEpID09PSAnLycpIHsKICAgICAgdXJpLnBhdGgoJy8nICsgdXJpLnBhdGgoKSk7CiAgICB9CgogICAgcmV0dXJuIHVyaS5ub3JtYWxpemUoKTsKICB9OwoKICBVUkkuY29tbW9uUGF0aCA9IGZ1bmN0aW9uKG9uZSwgdHdvKSB7CiAgICB2YXIgbGVuZ3RoID0gTWF0aC5taW4ob25lLmxlbmd0aCwgdHdvLmxlbmd0aCk7CiAgICB2YXIgcG9zOwoKICAgIC8vIGZpbmQgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlcgogICAgZm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmIChvbmUuY2hhckF0KHBvcykgIT09IHR3by5jaGFyQXQocG9zKSkgewogICAgICAgIHBvcy0tOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKHBvcyA8IDEpIHsKICAgICAgcmV0dXJuIG9uZS5jaGFyQXQoMCkgPT09IHR3by5jaGFyQXQoMCkgJiYgb25lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIGxhc3QgLwogICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gJy8nIHx8IHR3by5jaGFyQXQocG9zKSAhPT0gJy8nKSB7CiAgICAgIHBvcyA9IG9uZS5zdWJzdHJpbmcoMCwgcG9zKS5sYXN0SW5kZXhPZignLycpOwogICAgfQoKICAgIHJldHVybiBvbmUuc3Vic3RyaW5nKDAsIHBvcyArIDEpOwogIH07CgogIFVSSS53aXRoaW5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcsIGNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pOwogICAgdmFyIF9zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgVVJJLmZpbmRVcmkuc3RhcnQ7CiAgICB2YXIgX2VuZCA9IG9wdGlvbnMuZW5kIHx8IFVSSS5maW5kVXJpLmVuZDsKICAgIHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltOwogICAgdmFyIF9hdHRyaWJ1dGVPcGVuID0gL1thLXowLTktXT1bIiddPyQvaTsKCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7CiAgICAgIGlmICghbWF0Y2gpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHsKICAgICAgICAvLyBhdHRyaWJ1dChlPVsiJ10/JCkKICAgICAgICB2YXIgYXR0cmlidXRlT3BlbiA9IHN0cmluZy5zbGljZShNYXRoLm1heChzdGFydCAtIDMsIDApLCBzdGFydCk7CiAgICAgICAgaWYgKGF0dHJpYnV0ZU9wZW4gJiYgX2F0dHJpYnV0ZU9wZW4udGVzdChhdHRyaWJ1dGVPcGVuKSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZW5kID0gc3RhcnQgKyBzdHJpbmcuc2xpY2Uoc3RhcnQpLnNlYXJjaChfZW5kKTsKICAgICAgdmFyIHNsaWNlID0gc3RyaW5nLnNsaWNlKHN0YXJ0LCBlbmQpLnJlcGxhY2UoX3RyaW0sICcnKTsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlICYmIG9wdGlvbnMuaWdub3JlLnRlc3Qoc2xpY2UpKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGVuZCA9IHN0YXJ0ICsgc2xpY2UubGVuZ3RoOwogICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soc2xpY2UsIHN0YXJ0LCBlbmQsIHN0cmluZyk7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBzdGFydCkgKyByZXN1bHQgKyBzdHJpbmcuc2xpY2UoZW5kKTsKICAgICAgX3N0YXJ0Lmxhc3RJbmRleCA9IHN0YXJ0ICsgcmVzdWx0Lmxlbmd0aDsKICAgIH0KCiAgICBfc3RhcnQubGFzdEluZGV4ID0gMDsKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKCiAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUgPSBmdW5jdGlvbih2KSB7CiAgICAvLyBUaGVvcmV0aWNhbGx5IFVSSXMgYWxsb3cgcGVyY2VudC1lbmNvZGluZyBpbiBIb3N0bmFtZXMgKGFjY29yZGluZyB0byBSRkMgMzk4NikKICAgIC8vIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIEROUyBhbmQgdGhlcmVmb3JlIGlnbm9yZWQgYnkgVVJJLmpzCgogICAgaWYgKHYubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHsKICAgICAgLy8gdGVzdCBwdW55Y29kZQogICAgICBpZiAoIXB1bnljb2RlKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTsKICAgICAgfQoKICAgICAgaWYgKHB1bnljb2RlLnRvQVNDSUkodikubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbm9Db25mbGljdAogIFVSSS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24ocmVtb3ZlQWxsKSB7CiAgICBpZiAocmVtb3ZlQWxsKSB7CiAgICAgIHZhciB1bmNvbmZsaWN0ZWQgPSB7CiAgICAgICAgVVJJOiB0aGlzLm5vQ29uZmxpY3QoKQogICAgICB9OwoKICAgICAgaWYgKHJvb3QuVVJJVGVtcGxhdGUgJiYgdHlwZW9mIHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5VUklUZW1wbGF0ZSA9IHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5JUHY2ICYmIHR5cGVvZiByb290LklQdjYubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5JUHY2ID0gcm9vdC5JUHY2Lm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zICYmIHR5cGVvZiByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlNlY29uZExldmVsRG9tYWlucyA9IHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuY29uZmxpY3RlZDsKICAgIH0gZWxzZSBpZiAocm9vdC5VUkkgPT09IHRoaXMpIHsKICAgICAgcm9vdC5VUkkgPSBfVVJJOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuYnVpbGQgPSBmdW5jdGlvbihkZWZlckJ1aWxkKSB7CiAgICBpZiAoZGVmZXJCdWlsZCA9PT0gdHJ1ZSkgewogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkgewogICAgICB0aGlzLl9zdHJpbmcgPSBVUkkuYnVpbGQodGhpcy5fcGFydHMpOwogICAgICB0aGlzLl9kZWZlcnJlZF9idWlsZCA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuY2xvbmUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBuZXcgVVJJKHRoaXMpOwogIH07CgogIHAudmFsdWVPZiA9IHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmJ1aWxkKGZhbHNlKS5fc3RyaW5nOwogIH07CgoKICBmdW5jdGlvbiBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKF9wYXJ0KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2IHx8IG51bGw7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcihfcGFydCwgX2tleSl7CiAgICByZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHYgIT09IG51bGwpIHsKICAgICAgICAgIHYgPSB2ICsgJyc7CiAgICAgICAgICBpZiAodi5jaGFyQXQoMCkgPT09IF9rZXkpIHsKICAgICAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHNbX3BhcnRdID0gdjsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBwLnByb3RvY29sID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncHJvdG9jb2wnKTsKICBwLnVzZXJuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigndXNlcm5hbWUnKTsKICBwLnBhc3N3b3JkID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncGFzc3dvcmQnKTsKICBwLmhvc3RuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcignaG9zdG5hbWUnKTsKICBwLnBvcnQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwb3J0Jyk7CiAgcC5xdWVyeSA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ3F1ZXJ5JywgJz8nKTsKICBwLmZyYWdtZW50ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcignZnJhZ21lbnQnLCAnIycpOwoKICBwLnNlYXJjaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnPycgKyB0KSA6IHQ7CiAgfTsKICBwLmhhc2ggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHQgPSB0aGlzLmZyYWdtZW50KHYsIGJ1aWxkKTsKICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJyMnICsgdCkgOiB0OwogIH07CgogIHAucGF0aG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTsKICAgICAgcmV0dXJuIHYgPyAodGhpcy5fcGFydHMudXJuID8gVVJJLmRlY29kZVVyblBhdGggOiBVUkkuZGVjb2RlUGF0aCkocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVVcm5QYXRoKHYpIDogJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlUGF0aCh2KSA6ICcvJzsKICAgICAgfQogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5wYXRoID0gcC5wYXRobmFtZTsKICBwLmhyZWYgPSBmdW5jdGlvbihocmVmLCBidWlsZCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoaHJlZiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7CiAgICB9CgogICAgdGhpcy5fc3RyaW5nID0gJyc7CiAgICB0aGlzLl9wYXJ0cyA9IFVSSS5fcGFydHMoKTsKCiAgICB2YXIgX1VSSSA9IGhyZWYgaW5zdGFuY2VvZiBVUkk7CiAgICB2YXIgX29iamVjdCA9IHR5cGVvZiBocmVmID09PSAnb2JqZWN0JyAmJiAoaHJlZi5ob3N0bmFtZSB8fCBocmVmLnBhdGggfHwgaHJlZi5wYXRobmFtZSk7CiAgICBpZiAoaHJlZi5ub2RlTmFtZSkgewogICAgICB2YXIgYXR0cmlidXRlID0gVVJJLmdldERvbUF0dHJpYnV0ZShocmVmKTsKICAgICAgaHJlZiA9IGhyZWZbYXR0cmlidXRlXSB8fCAnJzsKICAgICAgX29iamVjdCA9IGZhbHNlOwogICAgfQoKICAgIC8vIHdpbmRvdy5sb2NhdGlvbiBpcyByZXBvcnRlZCB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCdzIG5vdCB0aGUgc29ydAogICAgLy8gb2Ygb2JqZWN0IHdlJ3JlIGxvb2tpbmcgZm9yOgogICAgLy8gKiBsb2NhdGlvbi5wcm90b2NvbCBlbmRzIHdpdGggYSBjb2xvbgogICAgLy8gKiBsb2NhdGlvbi5xdWVyeSAhPSBvYmplY3Quc2VhcmNoCiAgICAvLyAqIGxvY2F0aW9uLmhhc2ggIT0gb2JqZWN0LmZyYWdtZW50CiAgICAvLyBzaW1wbHkgc2VyaWFsaXppbmcgdGhlIHVua25vd24gb2JqZWN0IHNob3VsZCBkbyB0aGUgdHJpY2sKICAgIC8vIChmb3IgbG9jYXRpb24sIG5vdCBmb3IgZXZlcnl0aGluZy4uLikKICAgIGlmICghX1VSSSAmJiBfb2JqZWN0ICYmIGhyZWYucGF0aG5hbWUgIT09IHVuZGVmaW5lZCkgewogICAgICBocmVmID0gaHJlZi50b1N0cmluZygpOwogICAgfQoKICAgIGlmICh0eXBlb2YgaHJlZiA9PT0gJ3N0cmluZycgfHwgaHJlZiBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICB0aGlzLl9wYXJ0cyA9IFVSSS5wYXJzZShTdHJpbmcoaHJlZiksIHRoaXMuX3BhcnRzKTsKICAgIH0gZWxzZSBpZiAoX1VSSSB8fCBfb2JqZWN0KSB7CiAgICAgIHZhciBzcmMgPSBfVVJJID8gaHJlZi5fcGFydHMgOiBocmVmOwogICAgICBmb3IgKGtleSBpbiBzcmMpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwodGhpcy5fcGFydHMsIGtleSkpIHsKICAgICAgICAgIHRoaXMuX3BhcnRzW2tleV0gPSBzcmNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaW5wdXQnKTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBpZGVudGlmaWNhdGlvbiBhY2Nlc3NvcnMKICBwLmlzID0gZnVuY3Rpb24od2hhdCkgewogICAgdmFyIGlwID0gZmFsc2U7CiAgICB2YXIgaXA0ID0gZmFsc2U7CiAgICB2YXIgaXA2ID0gZmFsc2U7CiAgICB2YXIgbmFtZSA9IGZhbHNlOwogICAgdmFyIHNsZCA9IGZhbHNlOwogICAgdmFyIGlkbiA9IGZhbHNlOwogICAgdmFyIHB1bnljb2RlID0gZmFsc2U7CiAgICB2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuOwoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZWxhdGl2ZSA9IGZhbHNlOwogICAgICBpcDQgPSBVUkkuaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwNiA9IFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXAgPSBpcDQgfHwgaXA2OwogICAgICBuYW1lID0gIWlwOwogICAgICBzbGQgPSBuYW1lICYmIFNMRCAmJiBTTEQuaGFzKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIHB1bnljb2RlID0gbmFtZSAmJiBVUkkucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgIH0KCiAgICBzd2l0Y2ggKHdoYXQudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdyZWxhdGl2ZSc6CiAgICAgICAgcmV0dXJuIHJlbGF0aXZlOwoKICAgICAgY2FzZSAnYWJzb2x1dGUnOgogICAgICAgIHJldHVybiAhcmVsYXRpdmU7CgogICAgICAvLyBob3N0bmFtZSBpZGVudGlmaWNhdGlvbgogICAgICBjYXNlICdkb21haW4nOgogICAgICBjYXNlICduYW1lJzoKICAgICAgICByZXR1cm4gbmFtZTsKCiAgICAgIGNhc2UgJ3NsZCc6CiAgICAgICAgcmV0dXJuIHNsZDsKCiAgICAgIGNhc2UgJ2lwJzoKICAgICAgICByZXR1cm4gaXA7CgogICAgICBjYXNlICdpcDQnOgogICAgICBjYXNlICdpcHY0JzoKICAgICAgY2FzZSAnaW5ldDQnOgogICAgICAgIHJldHVybiBpcDQ7CgogICAgICBjYXNlICdpcDYnOgogICAgICBjYXNlICdpcHY2JzoKICAgICAgY2FzZSAnaW5ldDYnOgogICAgICAgIHJldHVybiBpcDY7CgogICAgICBjYXNlICdpZG4nOgogICAgICAgIHJldHVybiBpZG47CgogICAgICBjYXNlICd1cmwnOgogICAgICAgIHJldHVybiAhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAndXJuJzoKICAgICAgICByZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICdwdW55Y29kZSc6CiAgICAgICAgcmV0dXJuIHB1bnljb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH07CgogIC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uCiAgdmFyIF9wcm90b2NvbCA9IHAucHJvdG9jb2w7CiAgdmFyIF9wb3J0ID0gcC5wb3J0OwogIHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lOwoKICBwLnByb3RvY29sID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKHYpIHsKICAgICAgICAvLyBhY2NlcHQgdHJhaWxpbmcgOi8vCiAgICAgICAgdiA9IHYucmVwbGFjZSgvOihcL1wvKT8kLywgJycpOwoKICAgICAgICBpZiAoIXYubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm90b2NvbCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc25cJ3Qgc3RhcnQgd2l0aCBbQS1aXScpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIF9wcm90b2NvbC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuc2NoZW1lID0gcC5wcm90b2NvbDsKICBwLnBvcnQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKHYgPT09IDApIHsKICAgICAgICB2ID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHYpIHsKICAgICAgICB2ICs9ICcnOwogICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJzonKSB7CiAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5tYXRjaCgvW14wLTldLykpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BvcnQgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3BvcnQuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLmhvc3RuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB4ID0ge307CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHgpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB2ID0geC5ob3N0bmFtZTsKICAgIH0KICAgIHJldHVybiBfaG9zdG5hbWUuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gY29tcG91bmQgYWNjZXNzb3JzCiAgcC5vcmlnaW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCgpOwogICAgICB2YXIgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHkoKTsKICAgICAgaWYgKCFhdXRob3JpdHkpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHJldHVybiAocHJvdG9jb2wgPyBwcm90b2NvbCArICc6Ly8nIDogJycpICsgdGhpcy5hdXRob3JpdHkoKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvcmlnaW4gPSBVUkkodik7CiAgICAgIHRoaXMKICAgICAgICAucHJvdG9jb2wob3JpZ2luLnByb3RvY29sKCkpCiAgICAgICAgLmF1dGhvcml0eShvcmlnaW4uYXV0aG9yaXR5KCkpCiAgICAgICAgLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5ob3N0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEhvc3QodGhpcy5fcGFydHMpIDogJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmF1dGhvcml0eSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRBdXRob3JpdHkodGhpcy5fcGFydHMpIDogJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlQXV0aG9yaXR5KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAudXNlcmluZm8gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHQgPSBVUkkuYnVpbGRVc2VyaW5mbyh0aGlzLl9wYXJ0cyk7CiAgICAgIHJldHVybiB0ID8gdC5zdWJzdHJpbmcoMCwgdC5sZW5ndGggLTEpIDogdDsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2W3YubGVuZ3RoLTFdICE9PSAnQCcpIHsKICAgICAgICB2ICs9ICdAJzsKICAgICAgfQoKICAgICAgVVJJLnBhcnNlVXNlcmluZm8odiwgdGhpcy5fcGFydHMpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5yZXNvdXJjZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgcGFydHM7CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5wYXRoKCkgKyB0aGlzLnNlYXJjaCgpICsgdGhpcy5oYXNoKCk7CiAgICB9CgogICAgcGFydHMgPSBVUkkucGFyc2Uodik7CiAgICB0aGlzLl9wYXJ0cy5wYXRoID0gcGFydHMucGF0aDsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gcGFydHMucXVlcnk7CiAgICB0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IHBhcnRzLmZyYWdtZW50OwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gZnJhY3Rpb24gYWNjZXNzb3JzCiAgcC5zdWJkb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIC8vIGNvbnZlbmllbmNlLCByZXR1cm4gInd3dyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgZG9tYWluIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7CiAgICAgIHZhciBzdWIgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChzdWIpKTsKCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcuJykgewogICAgICAgIHYgKz0gJy4nOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIC8vIGNvbnZlbmllbmNlLCByZXR1cm4gImV4YW1wbGUub3JnIiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gaWYgaG9zdG5hbWUgY29uc2lzdHMgb2YgMSBvciAyIHNlZ21lbnRzLCBpdCBtdXN0IGJlIHRoZSBkb21haW4KICAgICAgdmFyIHQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5tYXRjaCgvXC4vZyk7CiAgICAgIGlmICh0ICYmIHQubGVuZ3RoIDwgMikgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZTsKICAgICAgfQoKICAgICAgLy8gZ3JhYiB0bGQgYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMudGxkKGJ1aWxkKS5sZW5ndGggLSAxOwogICAgICBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicsIGVuZCAtMSkgKyAxOwogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKGVuZCkgfHwgJyc7CiAgICB9IGVsc2UgewogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eScpOwogICAgICB9CgogICAgICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTsKCiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5kb21haW4oKSkgKyAnJCcpOwogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAudGxkID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gcmV0dXJuICJvcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTsKCiAgICAgIGlmIChidWlsZCAhPT0gdHJ1ZSAmJiBTTEQgJiYgU0xELmxpc3RbdGxkLnRvTG93ZXJDYXNlKCldKSB7CiAgICAgICAgcmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRsZDsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBUTEQgZW1wdHknKTsKICAgICAgfSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHsKICAgICAgICBpZiAoU0xEICYmIFNMRC5pcyh2KSkgewogICAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBvbiBub24tZG9tYWluIGhvc3QnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kaXJlY3RvcnkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggJiYgIXRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcvJzsKICAgICAgfQoKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aCAtIDE7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlbmQpIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTsKCiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGgocmVzKSA6IHJlczsKCiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aDsKICAgICAgdmFyIGRpcmVjdG9yeSA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoZGlyZWN0b3J5KSk7CgogICAgICAvLyBmdWxseSBxdWFsaWZpZXIgZGlyZWN0b3JpZXMgYmVnaW4gd2l0aCBhIHNsYXNoCiAgICAgIGlmICghdGhpcy5pcygncmVsYXRpdmUnKSkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgdiA9ICcvJzsKICAgICAgICB9CgogICAgICAgIGlmICh2LmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgICAgICB2ID0gJy8nICsgdjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGRpcmVjdG9yaWVzIGFsd2F5cyBlbmQgd2l0aCBhIHNsYXNoCiAgICAgIGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcvJykgewogICAgICAgIHYgKz0gJy8nOwogICAgICB9CgogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmZpbGVuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHRoaXMuX3BhcnRzLnBhdGgubGFzdEluZGV4T2YoJy8nKTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKHBvcysxKTsKCiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICB2YXIgbXV0YXRlZERpcmVjdG9yeSA9IGZhbHNlOwoKICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnLycpIHsKICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIGlmICh2Lm1hdGNoKC9cLj9cLy8pKSB7CiAgICAgICAgbXV0YXRlZERpcmVjdG9yeSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTsKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwoKICAgICAgaWYgKG11dGF0ZWREaXJlY3RvcnkpIHsKICAgICAgICB0aGlzLm5vcm1hbGl6ZVBhdGgoYnVpbGQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnN1ZmZpeCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWUoKTsKICAgICAgdmFyIHBvcyA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIHZhciBzLCByZXM7CgogICAgICBpZiAocG9zID09PSAtMSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gc3VmZml4IG1heSBvbmx5IGNvbnRhaW4gYWxudW0gY2hhcmFjdGVycyAoeXVwLCBJIG1hZGUgdGhpcyB1cC4pCiAgICAgIHMgPSBmaWxlbmFtZS5zdWJzdHJpbmcocG9zKzEpOwogICAgICByZXMgPSAoL15bYS16MC05JV0rJC9pKS50ZXN0KHMpID8gcyA6ICcnOwogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnLicpIHsKICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIHZhciBzdWZmaXggPSB0aGlzLnN1ZmZpeCgpOwogICAgICB2YXIgcmVwbGFjZTsKCiAgICAgIGlmICghc3VmZml4KSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggKz0gJy4nICsgVVJJLnJlY29kZVBhdGgodik7CiAgICAgIH0gZWxzZSBpZiAoIXYpIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCgnLicgKyBzdWZmaXgpICsgJyQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeChzdWZmaXgpICsgJyQnKTsKICAgICAgfQoKICAgICAgaWYgKHJlcGxhY2UpIHsKICAgICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc2VnbWVudCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7CiAgICB2YXIgc2VwYXJhdG9yID0gdGhpcy5fcGFydHMudXJuID8gJzonIDogJy8nOwogICAgdmFyIHBhdGggPSB0aGlzLnBhdGgoKTsKICAgIHZhciBhYnNvbHV0ZSA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLyc7CiAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KHNlcGFyYXRvcik7CgogICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWdtZW50ICInICsgc2VnbWVudCArICciLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpOwogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfQoKICAgIGlmIChzZWdtZW50IDwgMCkgewogICAgICAvLyBhbGxvdyBuZWdhdGl2ZSBpbmRleGVzIHRvIGFkZHJlc3MgZnJvbSB0aGUgZW5kCiAgICAgIHNlZ21lbnQgPSBNYXRoLm1heChzZWdtZW50cy5sZW5ndGggKyBzZWdtZW50LCAwKTsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovCiAgICAgIHJldHVybiBzZWdtZW50ID09PSB1bmRlZmluZWQKICAgICAgICA/IHNlZ21lbnRzCiAgICAgICAgOiBzZWdtZW50c1tzZWdtZW50XTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICB9IGVsc2UgaWYgKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudHNbc2VnbWVudF0gPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoaXNBcnJheSh2KSkgewogICAgICAgIHNlZ21lbnRzID0gW107CiAgICAgICAgLy8gY29sbGFwc2UgZW1wdHkgZWxlbWVudHMgd2l0aGluIGFycmF5CiAgICAgICAgZm9yICh2YXIgaT0wLCBsPXYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCAmJiAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpIHsKICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7CiAgICAgICAgICB9CgogICAgICAgICAgc2VnbWVudHMucHVzaCh0cmltU2xhc2hlcyh2W2ldKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHYgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdiA9IHRyaW1TbGFzaGVzKHYpOwogICAgICAgIGlmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID09PSAnJykgewogICAgICAgICAgLy8gZW1wdHkgdHJhaWxpbmcgZWxlbWVudHMgaGF2ZSB0byBiZSBvdmVyd3JpdHRlbgogICAgICAgICAgLy8gdG8gcHJldmVudCByZXN1bHRzIHN1Y2ggYXMgL2Zvby8vYmFyCiAgICAgICAgICBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID0gdjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VnbWVudHMucHVzaCh2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgc2VnbWVudHNbc2VnbWVudF0gPSB0cmltU2xhc2hlcyh2KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoYWJzb2x1dGUpIHsKICAgICAgc2VnbWVudHMudW5zaGlmdCgnJyk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMucGF0aChzZWdtZW50cy5qb2luKHNlcGFyYXRvciksIGJ1aWxkKTsKICB9OwogIHAuc2VnbWVudENvZGVkID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZWdtZW50cywgaSwgbDsKCiAgICBpZiAodHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHNlZ21lbnQ7CiAgICAgIHNlZ21lbnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBzZWdtZW50cyA9IHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7CiAgICAgIGlmICghaXNBcnJheShzZWdtZW50cykpIHsKICAgICAgICBzZWdtZW50cyA9IHNlZ21lbnRzICE9PSB1bmRlZmluZWQgPyBVUkkuZGVjb2RlKHNlZ21lbnRzKSA6IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKGkgPSAwLCBsID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBzZWdtZW50c1tpXSA9IFVSSS5kZWNvZGUoc2VnbWVudHNbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHNlZ21lbnRzOwogICAgfQoKICAgIGlmICghaXNBcnJheSh2KSkgewogICAgICB2ID0gKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB2IGluc3RhbmNlb2YgU3RyaW5nKSA/IFVSSS5lbmNvZGUodikgOiB2OwogICAgfSBlbHNlIHsKICAgICAgZm9yIChpID0gMCwgbCA9IHYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdltpXSA9IFVSSS5lbmNvZGUodltpXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBtdXRhdGluZyBxdWVyeSBzdHJpbmcKICB2YXIgcSA9IHAucXVlcnk7CiAgcC5xdWVyeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdHJ1ZSkgewogICAgICByZXR1cm4gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdmFyIHJlc3VsdCA9IHYuY2FsbCh0aGlzLCBkYXRhKTsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShyZXN1bHQgfHwgZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2ICE9PSAnc3RyaW5nJykgewogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHYsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICAgIH0KICB9OwogIHAuc2V0UXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwoKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgbmFtZSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICBkYXRhW25hbWVdID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogbnVsbDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIGRhdGFba2V5XSA9IG5hbWVba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5hZGRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSk7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmhhc1F1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIHJldHVybiBVUkkuaGFzUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KTsKICB9OwogIHAuc2V0U2VhcmNoID0gcC5zZXRRdWVyeTsKICBwLmFkZFNlYXJjaCA9IHAuYWRkUXVlcnk7CiAgcC5yZW1vdmVTZWFyY2ggPSBwLnJlbW92ZVF1ZXJ5OwogIHAuaGFzU2VhcmNoID0gcC5oYXNRdWVyeTsKCiAgLy8gc2FuaXRpemluZyBVUkxzCiAgcC5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHRoaXMKICAgICAgICAubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkKICAgICAgICAuYnVpbGQoKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcwogICAgICAubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpCiAgICAgIC5ub3JtYWxpemVIb3N0bmFtZShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBvcnQoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVQYXRoKGZhbHNlKQogICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSkKICAgICAgLmJ1aWxkKCk7CiAgfTsKICBwLm5vcm1hbGl6ZVByb3RvY29sID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHRoaXMuaXMoJ0lETicpICYmIHB1bnljb2RlKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzKCdJUHY2JykgJiYgSVB2NikgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gSVB2Ni5iZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgfQoKICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBvcnQgPSBmdW5jdGlvbihidWlsZCkgewogICAgLy8gcmVtb3ZlIHBvcnQgb2YgaXQncyB0aGUgcHJvdG9jb2wncyBkZWZhdWx0CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJyAmJiB0aGlzLl9wYXJ0cy5wb3J0ID09PSBVUkkuZGVmYXVsdFBvcnRzW3RoaXMuX3BhcnRzLnByb3RvY29sXSkgewogICAgICB0aGlzLl9wYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7CiAgICBpZiAoIV9wYXRoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgX3BhdGggPSBVUkkucmVjb2RlUGF0aChfcGF0aCk7CgogICAgdmFyIF93YXNfcmVsYXRpdmU7CiAgICB2YXIgX2xlYWRpbmdQYXJlbnRzID0gJyc7CiAgICB2YXIgX3BhcmVudCwgX3BvczsKCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMKICAgIGlmIChfcGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBfd2FzX3JlbGF0aXZlID0gdHJ1ZTsKICAgICAgX3BhdGggPSAnLycgKyBfcGF0aDsKICAgIH0KCiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgZmlsZXMgKGFzIG9wcG9zZWQgdG8gZGlyZWN0b3JpZXMpCiAgICBpZiAoX3BhdGguc2xpY2UoLTMpID09PSAnLy4uJyB8fCBfcGF0aC5zbGljZSgtMikgPT09ICcvLicpIHsKICAgICAgX3BhdGggKz0gJy8nOwogICAgfQoKICAgIC8vIHJlc29sdmUgc2ltcGxlcwogICAgX3BhdGggPSBfcGF0aAogICAgICAucmVwbGFjZSgvKFwvKFwuXC8pKyl8KFwvXC4kKS9nLCAnLycpCiAgICAgIC5yZXBsYWNlKC9cL3syLH0vZywgJy8nKTsKCiAgICAvLyByZW1lbWJlciBsZWFkaW5nIHBhcmVudHMKICAgIGlmIChfd2FzX3JlbGF0aXZlKSB7CiAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9wYXRoLnN1YnN0cmluZygxKS5tYXRjaCgvXihcLlwuXC8pKy8pIHx8ICcnOwogICAgICBpZiAoX2xlYWRpbmdQYXJlbnRzKSB7CiAgICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX2xlYWRpbmdQYXJlbnRzWzBdOwogICAgICB9CiAgICB9CgogICAgLy8gcmVzb2x2ZSBwYXJlbnRzCiAgICB3aGlsZSAodHJ1ZSkgewogICAgICBfcGFyZW50ID0gX3BhdGguc2VhcmNoKC9cL1wuXC4oXC98JCkvKTsKICAgICAgaWYgKF9wYXJlbnQgPT09IC0xKSB7CiAgICAgICAgLy8gbm8gbW9yZSAuLi8gdG8gcmVzb2x2ZQogICAgICAgIGJyZWFrOwogICAgICB9IGVsc2UgaWYgKF9wYXJlbnQgPT09IDApIHsKICAgICAgICAvLyB0b3AgbGV2ZWwgY2Fubm90IGJlIHJlbGF0aXZlLCBza2lwIGl0CiAgICAgICAgX3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMyk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIF9wb3MgPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BhcmVudCkubGFzdEluZGV4T2YoJy8nKTsKICAgICAgaWYgKF9wb3MgPT09IC0xKSB7CiAgICAgICAgX3BvcyA9IF9wYXJlbnQ7CiAgICAgIH0KICAgICAgX3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BvcykgKyBfcGF0aC5zdWJzdHJpbmcoX3BhcmVudCArIDMpOwogICAgfQoKICAgIC8vIHJldmVydCB0byByZWxhdGl2ZQogICAgaWYgKF93YXNfcmVsYXRpdmUgJiYgdGhpcy5pcygncmVsYXRpdmUnKSkgewogICAgICBfcGF0aCA9IF9sZWFkaW5nUGFyZW50cyArIF9wYXRoLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5wYXRoID0gX3BhdGg7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUGF0aG5hbWUgPSBwLm5vcm1hbGl6ZVBhdGg7CiAgcC5ub3JtYWxpemVRdWVyeSA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJykgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnF1ZXJ5Lmxlbmd0aCkgewogICAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXJ5KFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplRnJhZ21lbnQgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkgewogICAgICB0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplU2VhcmNoID0gcC5ub3JtYWxpemVRdWVyeTsKICBwLm5vcm1hbGl6ZUhhc2ggPSBwLm5vcm1hbGl6ZUZyYWdtZW50OwoKICBwLmlzbzg4NTkgPSBmdW5jdGlvbigpIHsKICAgIC8vIGV4cGVjdCB1bmljb2RlIGlucHV0LCBpc284ODU5IG91dHB1dAogICAgdmFyIGUgPSBVUkkuZW5jb2RlOwogICAgdmFyIGQgPSBVUkkuZGVjb2RlOwoKICAgIFVSSS5lbmNvZGUgPSBlc2NhcGU7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAudW5pY29kZSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IGlzbzg4NTkgaW5wdXQsIHVuaWNvZGUgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnJlYWRhYmxlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdXJpID0gdGhpcy5jbG9uZSgpOwogICAgLy8gcmVtb3ZpbmcgdXNlcm5hbWUsIHBhc3N3b3JkLCBiZWNhdXNlIHRoZXkgc2hvdWxkbid0IGJlIGRpc3BsYXllZCBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAgIHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHQgPSAnJzsKICAgIGlmICh1cmkuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nOwogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh1cmkuaXMoJ3B1bnljb2RlJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0ICs9IHB1bnljb2RlLnRvVW5pY29kZSh1cmkuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgICBpZiAodXJpLl9wYXJ0cy5wb3J0KSB7CiAgICAgICAgICB0ICs9ICc6JyArIHVyaS5fcGFydHMucG9ydDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCArPSB1cmkuaG9zdCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUgJiYgdXJpLl9wYXJ0cy5wYXRoICYmIHVyaS5fcGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0ICs9ICcvJzsKICAgIH0KCiAgICB0ICs9IHVyaS5wYXRoKHRydWUpOwogICAgaWYgKHVyaS5fcGFydHMucXVlcnkpIHsKICAgICAgdmFyIHEgPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGt2ID0gKHFwW2ldIHx8ICcnKS5zcGxpdCgnPScpOwogICAgICAgIHEgKz0gJyYnICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzBdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKQogICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwoKICAgICAgICBpZiAoa3ZbMV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcSArPSAnPScgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMV0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICclMjYnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdCArPSAnPycgKyBxLnN1YnN0cmluZygxKTsKICAgIH0KCiAgICB0ICs9IFVSSS5kZWNvZGVRdWVyeSh1cmkuaGFzaCgpLCB0cnVlKTsKICAgIHJldHVybiB0OwogIH07CgogIC8vIHJlc29sdmluZyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgVVJMcwogIHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uKGJhc2UpIHsKICAgIHZhciByZXNvbHZlZCA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciBwcm9wZXJ0aWVzID0gWydwcm90b2NvbCcsICd1c2VybmFtZScsICdwYXNzd29yZCcsICdob3N0bmFtZScsICdwb3J0J107CiAgICB2YXIgYmFzZWRpciwgaSwgcDsKCiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBpZiAoIShiYXNlIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBiYXNlID0gbmV3IFVSSShiYXNlKTsKICAgIH0KCiAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCkgewogICAgICByZXNvbHZlZC5fcGFydHMucHJvdG9jb2wgPSBiYXNlLl9wYXJ0cy5wcm90b2NvbDsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmV0dXJuIHJlc29sdmVkOwogICAgfQoKICAgIGZvciAoaSA9IDA7IChwID0gcHJvcGVydGllc1tpXSk7IGkrKykgewogICAgICByZXNvbHZlZC5fcGFydHNbcF0gPSBiYXNlLl9wYXJ0c1twXTsKICAgIH0KCiAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5wYXRoKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gYmFzZS5fcGFydHMucGF0aDsKICAgICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucXVlcnkpIHsKICAgICAgICByZXNvbHZlZC5fcGFydHMucXVlcnkgPSBiYXNlLl9wYXJ0cy5xdWVyeTsKICAgICAgfQogICAgfSBlbHNlIGlmIChyZXNvbHZlZC5fcGFydHMucGF0aC5zdWJzdHJpbmcoLTIpID09PSAnLi4nKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoICs9ICcvJzsKICAgIH0KCiAgICBpZiAocmVzb2x2ZWQucGF0aCgpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIGJhc2VkaXIgPSBiYXNlLmRpcmVjdG9yeSgpOwogICAgICBiYXNlZGlyID0gYmFzZWRpciA/IGJhc2VkaXIgOiBiYXNlLnBhdGgoKS5pbmRleE9mKCcvJykgPT09IDAgPyAnLycgOiAnJzsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSAoYmFzZWRpciA/IChiYXNlZGlyICsgJy8nKSA6ICcnKSArIHJlc29sdmVkLl9wYXJ0cy5wYXRoOwogICAgICByZXNvbHZlZC5ub3JtYWxpemVQYXRoKCk7CiAgICB9CgogICAgcmVzb2x2ZWQuYnVpbGQoKTsKICAgIHJldHVybiByZXNvbHZlZDsKICB9OwogIHAucmVsYXRpdmVUbyA9IGZ1bmN0aW9uKGJhc2UpIHsKICAgIHZhciByZWxhdGl2ZSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTsKICAgIHZhciByZWxhdGl2ZVBhcnRzLCBiYXNlUGFydHMsIGNvbW1vbiwgcmVsYXRpdmVQYXRoLCBiYXNlUGF0aDsKCiAgICBpZiAocmVsYXRpdmUuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgYmFzZSA9IG5ldyBVUkkoYmFzZSkubm9ybWFsaXplKCk7CiAgICByZWxhdGl2ZVBhcnRzID0gcmVsYXRpdmUuX3BhcnRzOwogICAgYmFzZVBhcnRzID0gYmFzZS5fcGFydHM7CiAgICByZWxhdGl2ZVBhdGggPSByZWxhdGl2ZS5wYXRoKCk7CiAgICBiYXNlUGF0aCA9IGJhc2UucGF0aCgpOwoKICAgIGlmIChyZWxhdGl2ZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZScpOwogICAgfQoKICAgIGlmIChiYXNlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUkknKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9PT0gYmFzZVBhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBiYXNlUGFydHMudXNlcm5hbWUgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gYmFzZVBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gbnVsbCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9PT0gYmFzZVBhcnRzLmhvc3RuYW1lICYmIHJlbGF0aXZlUGFydHMucG9ydCA9PT0gYmFzZVBhcnRzLnBvcnQpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9IG51bGw7CiAgICAgIHJlbGF0aXZlUGFydHMucG9ydCA9IG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXRoID09PSBiYXNlUGF0aCkgewogICAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAnJzsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgLy8gZGV0ZXJtaW5lIGNvbW1vbiBzdWIgcGF0aAogICAgY29tbW9uID0gVVJJLmNvbW1vblBhdGgocmVsYXRpdmVQYXRoLCBiYXNlUGF0aCk7CgogICAgLy8gSWYgdGhlIHBhdGhzIGhhdmUgbm90aGluZyBpbiBjb21tb24sIHJldHVybiBhIHJlbGF0aXZlIFVSTCB3aXRoIHRoZSBhYnNvbHV0ZSBwYXRoLgogICAgaWYgKCFjb21tb24pIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgdmFyIHBhcmVudHMgPSBiYXNlUGFydHMucGF0aAogICAgICAuc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpCiAgICAgIC5yZXBsYWNlKC9bXlwvXSokLywgJycpCiAgICAgIC5yZXBsYWNlKC8uKj9cLy9nLCAnLi4vJyk7CgogICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gKHBhcmVudHMgKyByZWxhdGl2ZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpKSB8fCAnLi8nOwoKICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogIH07CgogIC8vIGNvbXBhcmluZyBVUklzCiAgcC5lcXVhbHMgPSBmdW5jdGlvbih1cmkpIHsKICAgIHZhciBvbmUgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgdHdvID0gbmV3IFVSSSh1cmkpOwogICAgdmFyIG9uZV9tYXAgPSB7fTsKICAgIHZhciB0d29fbWFwID0ge307CiAgICB2YXIgY2hlY2tlZCA9IHt9OwogICAgdmFyIG9uZV9xdWVyeSwgdHdvX3F1ZXJ5LCBrZXk7CgogICAgb25lLm5vcm1hbGl6ZSgpOwogICAgdHdvLm5vcm1hbGl6ZSgpOwoKICAgIC8vIGV4YWN0IG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgPT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcXVlcnkgc3RyaW5nCiAgICBvbmVfcXVlcnkgPSBvbmUucXVlcnkoKTsKICAgIHR3b19xdWVyeSA9IHR3by5xdWVyeSgpOwogICAgb25lLnF1ZXJ5KCcnKTsKICAgIHR3by5xdWVyeSgnJyk7CgogICAgLy8gZGVmaW5pdGVseSBub3QgZXF1YWwgaWYgbm90IGV2ZW4gbm9uLXF1ZXJ5IHBhcnRzIG1hdGNoCiAgICBpZiAob25lLnRvU3RyaW5nKCkgIT09IHR3by50b1N0cmluZygpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBxdWVyeSBwYXJhbWV0ZXJzIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLCBldmVuIGlmIHRoZXkncmUgcGVybXV0ZWQKICAgIGlmIChvbmVfcXVlcnkubGVuZ3RoICE9PSB0d29fcXVlcnkubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmVfbWFwID0gVVJJLnBhcnNlUXVlcnkob25lX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIHR3b19tYXAgPSBVUkkucGFyc2VRdWVyeSh0d29fcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwoKICAgIGZvciAoa2V5IGluIG9uZV9tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKG9uZV9tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWlzQXJyYXkob25lX21hcFtrZXldKSkgewogICAgICAgICAgaWYgKG9uZV9tYXBba2V5XSAhPT0gdHdvX21hcFtrZXldKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFhcnJheXNFcXVhbChvbmVfbWFwW2tleV0sIHR3b19tYXBba2V5XSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNoZWNrZWRba2V5XSA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGtleSBpbiB0d29fbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbCh0d29fbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFjaGVja2VkW2tleV0pIHsKICAgICAgICAgIC8vIHR3byBjb250YWlucyBhIHBhcmFtZXRlciBub3QgcHJlc2VudCBpbiBvbmUKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICAvLyBzdGF0ZQogIHAuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24odikgewogICAgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5lc2NhcGVRdWVyeVNwYWNlID0gZnVuY3Rpb24odikgewogICAgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHJldHVybiBVUkk7Cn0pKTsKCn0seyIuL0lQdjYiOjMsIi4vU2Vjb25kTGV2ZWxEb21haW5zIjo0LCIuL3B1bnljb2RlIjo2fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjAgYnkgQG1hdGhpYXMgKi8KOyhmdW5jdGlvbihyb290KSB7CgoJLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqLwoJdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJgoJCSFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7Cgl2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmCgkJIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7Cgl2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsOwoJaWYgKAoJCWZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8CgkJZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWwKCSkgewoJCXJvb3QgPSBmcmVlR2xvYmFsOwoJfQoKCS8qKgoJICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LgoJICogQG5hbWUgcHVueWNvZGUKCSAqIEB0eXBlIE9iamVjdAoJICovCgl2YXIgcHVueWNvZGUsCgoJLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqLwoJbWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMQoKCS8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi8KCWJhc2UgPSAzNiwKCXRNaW4gPSAxLAoJdE1heCA9IDI2LAoJc2tldyA9IDM4LAoJZGFtcCA9IDcwMCwKCWluaXRpYWxCaWFzID0gNzIsCglpbml0aWFsTiA9IDEyOCwgLy8gMHg4MAoJZGVsaW1pdGVyID0gJy0nLCAvLyAnXHgyRCcKCgkvKiogUmVndWxhciBleHByZXNzaW9ucyAqLwoJcmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sCglyZWdleE5vbkFTQ0lJID0gL1teXHgyMC1ceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzCglyZWdleFNlcGFyYXRvcnMgPSAvW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnMKCgkvKiogRXJyb3IgbWVzc2FnZXMgKi8KCWVycm9ycyA9IHsKCQknb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLAoJCSdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsCgkJJ2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCcKCX0sCgoJLyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqLwoJYmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLAoJZmxvb3IgPSBNYXRoLmZsb29yLAoJc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSwKCgkvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovCglrZXk7CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqCgkgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS4KCSAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS4KCSAqLwoJZnVuY3Rpb24gZXJyb3IodHlwZSkgewoJCXRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7Cgl9CgoJLyoqCgkgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLgoJICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5CgkgKiBpdGVtLgoJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLgoJICovCglmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7CgkJdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsKCQl2YXIgcmVzdWx0ID0gW107CgkJd2hpbGUgKGxlbmd0aC0tKSB7CgkJCXJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7CgkJfQoJCXJldHVybiByZXN1bHQ7Cgl9CgoJLyoqCgkgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWwKCSAqIGFkZHJlc3Nlcy4KCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLgoJICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5CgkgKiBjaGFyYWN0ZXIuCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjawoJICogZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7CgkJdmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7CgkJdmFyIHJlc3VsdCA9ICcnOwoJCWlmIChwYXJ0cy5sZW5ndGggPiAxKSB7CgkJCS8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmUKCQkJLy8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC4KCQkJcmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7CgkJCXN0cmluZyA9IHBhcnRzWzFdOwoJCX0KCQkvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuCgkJc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXHgyRScpOwoJCXZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTsKCQl2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7CgkJcmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7Cgl9CgoJLyoqCgkgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlCgkgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksCgkgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAoJICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsCgkgKiBtYXRjaGluZyBVVEYtMTYuCgkgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGRlY29kZQoJICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS4KCSAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy4KCSAqLwoJZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHsKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGNvdW50ZXIgPSAwLAoJCSAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLAoJCSAgICB2YWx1ZSwKCQkgICAgZXh0cmE7CgkJd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQlpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCQkvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIKCQkJCWV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJCWlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlCgkJCQkJb3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHQKCQkJCQkvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIKCQkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCQkJY291bnRlci0tOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQl9CgkJfQoJCXJldHVybiBvdXRwdXQ7Cgl9CgoJLyoqCgkgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCgkgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWAKCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkgKiBAbmFtZSBlbmNvZGUKCSAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuCgkgKi8KCWZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHsKCQlyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkgewoJCQl2YXIgb3V0cHV0ID0gJyc7CgkJCWlmICh2YWx1ZSA+IDB4RkZGRikgewoJCQkJdmFsdWUgLT0gMHgxMDAwMDsKCQkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApOwoJCQkJdmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGOwoJCQl9CgkJCW91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpOwoJCQlyZXR1cm4gb3V0cHV0OwoJCX0pLmpvaW4oJycpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLgoJICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLgoJICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluCgkgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmCgkgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4KCSAqLwoJZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkgewoJCWlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSAyMjsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDY1OwoJCX0KCQlpZiAoY29kZVBvaW50IC0gOTcgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gOTc7CgkJfQoJCXJldHVybiBiYXNlOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC4KCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yCgkgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZQoJICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzCgkgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZAoJICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS4KCSAqLwoJZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7CgkJLy8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLloKCQkvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkKCQlyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpOwoJfQoKCS8qKgoJICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi4KCSAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40CgkgKiBAcHJpdmF0ZQoJICovCglmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHsKCQl2YXIgayA9IDA7CgkJZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTsKCQlkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7CgkJZm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHsKCQkJZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pOwoJCX0KCQlyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlCgkgKiBzeW1ib2xzLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCgkgKi8KCWZ1bmN0aW9uIGRlY29kZShpbnB1dCkgewoJCS8vIERvbid0IHVzZSBVQ1MtMgoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsCgkJICAgIG91dCwKCQkgICAgaSA9IDAsCgkJICAgIG4gPSBpbml0aWFsTiwKCQkgICAgYmlhcyA9IGluaXRpYWxCaWFzLAoJCSAgICBiYXNpYywKCQkgICAgaiwKCQkgICAgaW5kZXgsCgkJICAgIG9sZGksCgkJICAgIHcsCgkJICAgIGssCgkJICAgIGRpZ2l0LAoJCSAgICB0LAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgYmFzZU1pbnVzVDsKCgkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlCgkJLy8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHkKCQkvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC4KCgkJYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpOwoJCWlmIChiYXNpYyA8IDApIHsKCQkJYmFzaWMgPSAwOwoJCX0KCgkJZm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHsKCQkJLy8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50CgkJCWlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHsKCQkJCWVycm9yKCdub3QtYmFzaWMnKTsKCQkJfQoJCQlvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTsKCQl9CgoJCS8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGUKCQkvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLgoKCQlmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykgewoKCQkJLy8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLgoJCQkvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsCgkJCS8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyCgkJCS8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nCgkJCS8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuCgkJCWZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHsKCgkJCQlpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKCQkJCQllcnJvcignaW52YWxpZC1pbnB1dCcpOwoJCQkJfQoKCQkJCWRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpOwoKCQkJCWlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpICs9IGRpZ2l0ICogdzsKCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoKCQkJCWlmIChkaWdpdCA8IHQpIHsKCQkJCQlicmVhazsKCQkJCX0KCgkJCQliYXNlTWludXNUID0gYmFzZSAtIHQ7CgkJCQlpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJdyAqPSBiYXNlTWludXNUOwoKCQkJfQoKCQkJb3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7CgkJCWJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApOwoKCQkJLy8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCwKCQkJLy8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzoKCQkJaWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCW4gKz0gZmxvb3IoaSAvIG91dCk7CgkJCWkgJT0gb3V0OwoKCQkJLy8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dAoJCQlvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7CgoJCX0KCgkJcmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhCgkgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKi8KCWZ1bmN0aW9uIGVuY29kZShpbnB1dCkgewoJCXZhciBuLAoJCSAgICBkZWx0YSwKCQkgICAgaGFuZGxlZENQQ291bnQsCgkJICAgIGJhc2ljTGVuZ3RoLAoJCSAgICBiaWFzLAoJCSAgICBqLAoJCSAgICBtLAoJCSAgICBxLAoJCSAgICBrLAoJCSAgICB0LAoJCSAgICBjdXJyZW50VmFsdWUsCgkJICAgIG91dHB1dCA9IFtdLAoJCSAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqLwoJCSAgICBpbnB1dExlbmd0aCwKCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSwKCQkgICAgYmFzZU1pbnVzVCwKCQkgICAgcU1pbnVzVDsKCgkJLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZQoJCWlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7CgoJCS8vIENhY2hlIHRoZSBsZW5ndGgKCQlpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDsKCgkJLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKCQluID0gaW5pdGlhbE47CgkJZGVsdGEgPSAwOwoJCWJpYXMgPSBpbml0aWFsQmlhczsKCgkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50cwoJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQlpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkgewoJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpOwoJCQl9CgkJfQoKCQloYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDsKCgkJLy8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7CgkJLy8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLgoKCQkvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXIKCQlpZiAoYmFzaWNMZW5ndGgpIHsKCQkJb3V0cHV0LnB1c2goZGVsaW1pdGVyKTsKCQl9CgoJCS8vIE1haW4gZW5jb2RpbmcgbG9vcDoKCQl3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkgewoKCQkJLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAoJCQkvLyBsYXJnZXIgb25lOgoJCQlmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCQlpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkgewoJCQkJCW0gPSBjdXJyZW50VmFsdWU7CgkJCQl9CgkJCX0KCgkJCS8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPiwKCQkJLy8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3cKCQkJaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxOwoJCQlpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkgewoJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCX0KCgkJCWRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7CgkJCW4gPSBtOwoKCQkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoKCQkJCWlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQlpZiAoY3VycmVudFZhbHVlID09IG4pIHsKCQkJCQkvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlcgoJCQkJCWZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHsKCQkJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgkJCQkJCWlmIChxIDwgdCkgewoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQkJcU1pbnVzVCA9IHEgLSB0OwoJCQkJCQliYXNlTWludXNUID0gYmFzZSAtIHQ7CgkJCQkJCW91dHB1dC5wdXNoKAoJCQkJCQkJc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKQoJCQkJCQkpOwoJCQkJCQlxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpOwoJCQkJCX0KCgkJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpOwoJCQkJCWJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7CgkJCQkJZGVsdGEgPSAwOwoJCQkJCSsraGFuZGxlZENQQ291bnQ7CgkJCQl9CgkJCX0KCgkJCSsrZGVsdGE7CgkJCSsrbjsKCgkJfQoJCXJldHVybiBvdXRwdXQuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzCgkgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuCgkgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW4KCSAqIGNvbnZlcnRlZCB0byBVbmljb2RlLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvCgkgKiBjb252ZXJ0IHRvIFVuaWNvZGUuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGUKCSAqIHN0cmluZy4KCSAqLwoJZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7CgkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCXJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKQoJCQkJPyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0bwoJICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsCgkgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW4KCSAqIEFTQ0lJLgoJICogQG1lbWJlck9mIHB1bnljb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYQoJICogVW5pY29kZSBzdHJpbmcuCgkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yCgkgKiBlbWFpbCBhZGRyZXNzLgoJICovCglmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7CgkJcmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7CgkJCXJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKQoJCQkJPyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKQoJCQkJOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoJLyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqLwoJcHVueWNvZGUgPSB7CgkJLyoqCgkJICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEB0eXBlIFN0cmluZwoJCSAqLwoJCSd2ZXJzaW9uJzogJzEuMy4yJywKCQkvKioKCQkgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlcgoJCSAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suCgkJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgT2JqZWN0CgkJICovCgkJJ3VjczInOiB7CgkJCSdkZWNvZGUnOiB1Y3MyZGVjb2RlLAoJCQknZW5jb2RlJzogdWNzMmVuY29kZQoJCX0sCgkJJ2RlY29kZSc6IGRlY29kZSwKCQknZW5jb2RlJzogZW5jb2RlLAoJCSd0b0FTQ0lJJzogdG9BU0NJSSwKCQkndG9Vbmljb2RlJzogdG9Vbmljb2RlCgl9OwoKCS8qKiBFeHBvc2UgYHB1bnljb2RlYCAqLwoJLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zCgkvLyBsaWtlIHRoZSBmb2xsb3dpbmc6CglpZiAoCgkJdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmCgkJdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYKCQlkZWZpbmUuYW1kCgkpIHsKCQlkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7CgkJCXJldHVybiBwdW55Y29kZTsKCQl9KTsKCX0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkgewoJCWlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgewoJCQkvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArCgkJCWZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlOwoJCX0gZWxzZSB7CgkJCS8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtCgkJCWZvciAoa2V5IGluIHB1bnljb2RlKSB7CgkJCQlwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7CgkJCX0KCQl9Cgl9IGVsc2UgewoJCS8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXIKCQlyb290LnB1bnljb2RlID0gcHVueWNvZGU7Cgl9Cgp9KHRoaXMpKTsKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfSHlwZXJ0eURpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpOwoKdmFyIF9IeXBlcnR5RGlzY292ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSByZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXIuanMnKTsKCnZhciBfRXZlbnRFbWl0dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpOwoKdmFyIF91cmlqcyA9IHJlcXVpcmUoJ3VyaWpzJyk7Cgp2YXIgX3VyaWpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VyaWpzKTsKCnZhciBfYXZhaWxhYmlsaXR5ID0gcmVxdWlyZSgnLi9hdmFpbGFiaWxpdHkuanMnKTsKCnZhciBfYXZhaWxhYmlsaXR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F2YWlsYWJpbGl0eSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqLwoKLy8gU2VydmljZSBGcmFtZXdvcmsKCgovLyBVdGlscwoKLy8gaW1wb3J0IHtkaXZpZGVVUkx9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJzsKCgovKioKKiBIeXBlcnR5IFByZXNlbmNlOwoqIEBhdXRob3IgQXBpemVlIFtkZXZAYXBpemVlLmNvbV0KKiBAdmVyc2lvbiAwLjEuMAoqLwoKdmFyIFVzZXJTdGF0dXMgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogIF9pbmhlcml0cyhVc2VyU3RhdHVzLCBfRXZlbnRFbWl0dGVyKTsKCiAgZnVuY3Rpb24gVXNlclN0YXR1cyhoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyU3RhdHVzKTsKCiAgICBpZiAoIWh5cGVydHlVUkwpIHRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWJ1cykgdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVXNlclN0YXR1cykuY2FsbCh0aGlzLCBoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pKTsKCiAgICBfdGhpcy5fc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CgogICAgX3RoaXMuX2h5cGVydHlEaXNjb3ZlcnkgPSBuZXcgX0h5cGVydHlEaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgYnVzKTsKCiAgICBfdGhpcy5fdXNlclN0YXR1c0Rlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly8nICsgbmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKS5ob3N0bmFtZSgpICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hcy9Db250ZXh0JzsKCiAgICBfdGhpcy5faGVhcnRiZWF0ID0gW107CgogICAgX3RoaXMuX3N5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLl9vbk5vdGlmaWNhdGlvbihldmVudCk7CiAgICB9KTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyU3RhdHVzLCBbewogICAga2V5OiAnX29uTm90aWZpY2F0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmluZm8oJ1VzZXJTdGF0dXMgRXZlbnQgUmVjZWl2ZWQ6ICcsIGV2ZW50KTsKICAgICAgY29uc29sZS5sb2coJ2Zyb20gaHlwZXJ0eScsIGV2ZW50LmZyb20pOwoKICAgICAgZXZlbnQuYWNrKCk7CgogICAgICBpZiAoZXZlbnQuc2NoZW1hID09PSB0aGlzLl91c2VyU3RhdHVzRGVzY1VSTCkgewogICAgICAgIC8vIFN1YnNjcmliZSB0byB1c2VyIHN0YXR1cyBwcmVzZW5jZQogICAgICAgIHRoaXMuX3N5bmNoZXIuc3Vic2NyaWJlKHRoaXMuX3VzZXJTdGF0dXNEZXNjVVJMLCBldmVudC51cmwpLnRoZW4oZnVuY3Rpb24gKHN0YXR1c09iamVjdE9ic2VydmVyKSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tIFN0YXR1cyBPYnNlcnZlciByZWNlaXZlZCAtLS0tLS0tLS0nLCBzdGF0dXNPYmplY3RPYnNlcnZlcik7CiAgICAgICAgICBjb25zb2xlLmxvZygndHJpZ2dlciBzdGF0dXNDaGFuZ2UgZm9yJywgZXZlbnQuaWRlbnRpdHkpOwogICAgICAgICAgX3RoaXMyLnRyaWdnZXIoJ3N0YXR1c0NoYW5nZScsIHsKICAgICAgICAgICAgaWRlbnRpdHk6IGV2ZW50LmlkZW50aXR5LAogICAgICAgICAgICBzdGF0dXM6IF90aGlzMi5nZXRTdGF0dXMoc3RhdHVzT2JqZWN0T2JzZXJ2ZXIpCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0KGV2ZW50LmlkZW50aXR5KTsKCiAgICAgICAgICBzdGF0dXNPYmplY3RPYnNlcnZlci5vbkNoYW5nZSgnKicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCdzdGF0dXMgZXZlbnQgcmVjZWl2ZWQ6JywgZXZlbnQpOwogICAgICAgICAgICBfdGhpczIudHJpZ2dlcignc3RhdHVzQ2hhbmdlJywgewogICAgICAgICAgICAgIGlkZW50aXR5OiBldmVudC5pZGVudGl0eSwKICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzMi5nZXRTdGF0dXMoc3RhdHVzT2JqZWN0T2JzZXJ2ZXIpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpczIuX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0KGV2ZW50LmlkZW50aXR5KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmlkZW50aXR5LmVtYWlsLCAnaGFzIHN1YnNjcmliZSB0byBteSBzdGF0dXMgZGF0YSBvYmplY3QsIHNlbmQgaW52aXRlIHRvIGxpc3RlbiBtaW5lJyk7CiAgICAgICAgICBfdGhpczIuX3N0YXR1c09iamVjdFJlcG9ydGVyLmludml0ZU9ic2VydmVycyhbZXZlbnQuZnJvbV0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBzdGF0dXMgb2JqZWN0IHN5bmNoZXIKICAgICAqIEBwYXJhbSAge1VSTC5Vc2VyVVJMfSBwYXJ0aWNpcGFudHMgTGlzdCBvZiBVc2VyIGFsbG93ZWQKICAgICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnY3JlYXRlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUocGFydGljaXBhbnRzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE1hcHBpbmcgUGFydGljcGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgICAgICBfdGhpczMuX21hcHBpbmdVc2VyKHBhcnRpY2lwYW50cykudGhlbihmdW5jdGlvbiAoaHlwZXJ0aWVzKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLmNyZWF0ZVN5bmNoZXIoaHlwZXJ0aWVzLCAoMCwgX2F2YWlsYWJpbGl0eTIuZGVmYXVsdCkoKSk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RhdHVzT2JqZWN0UmVwb3J0ZXIpIHsKICAgICAgICAgIF90aGlzMy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXIgPSBzdGF0dXNPYmplY3RSZXBvcnRlcjsKCiAgICAgICAgICBfdGhpczMuX3N0YXR1c09iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tIFN0YXR1cyBSZXBvcnRlciByZWNlaXZlZCBzdWJzY3JpcHRpb24gcmVxdWVzdCAtLS0tLS0tLS0nLCBldmVudCk7CiAgICAgICAgICAgIGV2ZW50LmFjY2VwdCgpOwogICAgICAgICAgICBpZiAoZXZlbnQudXJsID09PSBfdGhpczMuX3N0YXR1c09iamVjdFJlcG9ydGVyLl9vd25lcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZpbmUgbXkgb3duIHByZXNlbmNlIHN0YXRlIHRvIGF2YWlsYWJsZScpOwogICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0dXMoJ2F2YWlsYWJsZScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyBzZXQgaW50ZXJ2YWwgZm9yIGhlYXJ0YmVhdAogICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMuX3NlbmRIZWFydGJlYXQoKTsKICAgICAgICAgIH0sIDUwMDAwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlU3luY2hlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU3luY2hlcihoeXBlcnRpZXMsIHN0YXR1cykgewogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIENyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tJywgaHlwZXJ0aWVzLCBzdGF0dXMpOwogICAgICByZXR1cm4gdGhpcy5fc3luY2hlci5jcmVhdGUodGhpcy5fdXNlclN0YXR1c0Rlc2NVUkwsIGh5cGVydGllcywgc3RhdHVzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdqb2luJywKICAgIHZhbHVlOiBmdW5jdGlvbiBqb2luKHJlc291cmNlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBzdWJzY3JpYmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwoKICAgICAgICBfdGhpczQuX3N5bmNoZXIuc3Vic2NyaWJlKF90aGlzNC5fdXNlclN0YXR1c0Rlc2NVUkwsIHJlc291cmNlKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnRGF0YSBPYmplY3QgT2JzZXJ2ZXI6ICcsIGRhdGFPYmplY3RPYnNlcnZlcik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ2dldFN0YXR1cycsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdHVzKHN0YXR1c09ic2VydmVyKSB7CiAgICAgIHZhciBzdGF0ZSA9IGZhbHNlOwogICAgICBpZiAodHlwZW9mIHN0YXR1c09ic2VydmVyICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIGNvbnNvbGUubG9nKCdnZXRTdGF0dXMgZnJvbSBvYnNlcnZlcjonLCBzdGF0dXNPYnNlcnZlci5kYXRhLnZhbHVlc1swXS52YWx1ZSk7CiAgICAgICAgcmV0dXJuIHN0YXR1c09ic2VydmVyLmRhdGEudmFsdWVzWzBdLnZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdnZXRTdGF0dXMgZnJvbSByZXBvcnRlcjonLCB0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLnZhbHVlc1swXS52YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEudmFsdWVzWzBdLnZhbHVlOwogICAgICB9CiAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdzZXRTdGF0dXMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN0YXR1cyhuZXdTdGF0dXMpIHsKICAgICAgY29uc29sZS5sb2coJ3NldFN0YXR1cycsIG5ld1N0YXR1cywgJ2luIHJlcG9ydGVyJywgdGhpcy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXIuZGF0YSk7CiAgICAgIHRoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEudmFsdWVzWzBdLnZhbHVlID0gbmV3U3RhdHVzOwogICAgICB0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLnRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFVwZGF0ZSBzdGF0dXMgb2JqZWN0IGRhdGUKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdfc2VuZEhlYXJ0YmVhdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NlbmRIZWFydGJlYXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzZW5kIGhlYXJ0YmVhdCcpOwogICAgICB0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLnRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIE1vbml0b3IgdXNlciBhY3Rpdml0eSB3aXRoaW4gaGVhcnRiZWF0IHRpbWVvdXQgcGVyaW9kCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFuYWdlUHJlc2VuY2VIZWFydGJlYXQoaWRlbnRpdHkpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygncmVuZXcgaGVhcnRiZWF0IHBlcmlvZCBmb3InLCBpZGVudGl0eSk7CiAgICAgIHZhciBlbWFpbCA9IGlkZW50aXR5LmVtYWlsOwogICAgICBpZiAoZW1haWwgaW4gdGhpcy5faGVhcnRiZWF0KSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hlYXJ0YmVhdFtlbWFpbF0pOwogICAgICB9CiAgICAgIHRoaXMuX2hlYXJ0YmVhdFtlbWFpbF0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZyhlbWFpbCwgJ2hhcyBkaXNjb25uZWN0Jyk7CiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzNS5faGVhcnRiZWF0W2VtYWlsXSk7CiAgICAgICAgX3RoaXM1LnRyaWdnZXIoJ3N0YXR1c0NoYW5nZScsIHsKICAgICAgICAgIGlkZW50aXR5OiBpZGVudGl0eSwKICAgICAgICAgIHN0YXR1czogJ3VuYXZhaWxhYmxlJwogICAgICAgIH0pOwogICAgICB9LCA2MDAwMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX21hcHBpbmdVc2VyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFwcGluZ1VzZXIodXNlckxpc3QpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBfbWFwcGluZ1VzZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsIHVzZXJMaXN0KTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGh5cGVydGllcyA9IFtdOwogICAgICAgIHZhciBjb3VudCA9IDA7CgogICAgICAgIGlmICh1c2VyTGlzdC5sZW5ndGggPT09IDApIHJlamVjdChoeXBlcnRpZXMpOwoKICAgICAgICB2YXIgcmVzdWx0VXNlcnMgPSBmdW5jdGlvbiByZXN1bHRVc2VycygpIHsKICAgICAgICAgIGlmIChjb3VudCA9PT0gdXNlckxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnSGF2ZSAnICsgaHlwZXJ0aWVzLmxlbmd0aCArICd1c2VycyBmb3VuZDsnKTsKICAgICAgICAgICAgcmVzb2x2ZShoeXBlcnRpZXMpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBhY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGFjdGl2ZVVzZXJzKHVzZXIpIHsKICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICBoeXBlcnRpZXMucHVzaCh1c2VyLmh5cGVydHlVUkwpOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgaW5hY3RpdmVVc2VycyA9IGZ1bmN0aW9uIGluYWN0aXZlVXNlcnMoKSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgcmVzdWx0VXNlcnMoKTsKICAgICAgICB9OwoKICAgICAgICB1c2VyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICAgIGlmICh1c2VyLmVtYWlsLmxlbmd0aCkgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBfbWFwcGluZ1VzZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsIHVzZXJMaXN0KTsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5faHlwZXJ0eURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHVzZXIuZW1haWwsIHVzZXIuZG9tYWluKS50aGVuKGFjdGl2ZVVzZXJzKS5jYXRjaChpbmFjdGl2ZVVzZXJzKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVXNlclN0YXR1czsKfShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewoKICByZXR1cm4gewogICAgbmFtZTogJ1VzZXJTdGF0dXMnLAogICAgaW5zdGFuY2U6IG5ldyBVc2VyU3RhdHVzKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL0V2ZW50RW1pdHRlci5qcyI6OSwiLi9hdmFpbGFiaWxpdHkuanMiOjgsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoyLCJ1cmlqcyI6NX1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7CiAgICAgICAgc2NoZW1hOiAiY29udGV4dCIsCiAgICAgICAgaWQ6ICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwKICAgICAgICB0eXBlOiAicHJlc2VuY2UiLAogICAgICAgIHRpbWU6ICIwIiwKICAgICAgICB2YWx1ZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICJhdmFpbGFiaWxpdHkiLAogICAgICAgICAgICB1bml0OiAiYXZhaWxhYmlsaXR5IiwKICAgICAgICAgICAgdmFsdWU6ICJ1bmF2YWlsYWJsZSIKICAgICAgICB9XQogICAgfSk7Cn07Cgo7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8qKgogKiBFdmVudEVtaXR0ZXIKICogQWxsIGNsYXNzZXMgd2hpY2ggZXh0ZW5kcyB0aGlzLCBjYW4gaGF2ZSBhZGRFdmVudExpc3RlbmVyIGFuZCB0cmlnZ2VyIGV2ZW50czsKICovCgp2YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3sKICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAoKCiAgICAvKioKICAgICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZAogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzW2V2ZW50VHlwZV0gPSBjYjsKICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHdpbGwgYmUgaW52b2tlZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJpZ2dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudFR5cGUsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKF90aGlzW2V2ZW50VHlwZV0pIHsKICAgICAgICBfdGhpc1tldmVudFR5cGVdKHBhcmFtcyk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBFdmVudEVtaXR0ZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XX0se30sWzddKSg3KQp9KTs=",
      "sourceCodeClassname": "UserStatus",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 10010,
    "version": "0.1",
    "description": "Description of UserStatus",
    "objectName": "UserStatus",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "hypertyType": []
  }
}
